import{o as sc,S as _t,i as vt,s as wt,K as St,e as K,a as pe,c as Z,b as Q,f as B,g as ge,m as $,h as Se,j as I,L as Mt,M as kt,N as At,u as Xe,q as Ze,U as ie,n as Ce,A as hr,V as Xu,W as b2,X as be,Q as Fe,R as pr,p as Ye,Y as vs,Z as ws,t as Re,d as je,k as tn,G as dl,_ as Ku,y as y2,r as _2,$ as v2,C as hl,D as pl,E as gl,F as ml,a0 as fn,a1 as wp,a2 as xp,a3 as Sp,T as He,O as w2,a4 as Zu,l as ka,a5 as x2,P as Aa,a6 as S2,a7 as M2,x as Ju,w as k2}from"./index.93104ad7.js";import{_ as Ie,c as Qu,d as Mp,e as xi,g as Ar,h as xs,j as si,k as sr,l as of,n as A2,r as kp,o as yn,p as af,q as E2,s as T2,t as Ap,u as Ep,w as Te,x as C2,y as N2,z as Tp,i as sf,A as D2,C as Ea,S as ed,D as I2,E as bl,F as yl,R as Ss,G as _l,H as Cp,I as td,J as nd,K as L2,L as cr,M as rd,N as Qi,O as O2,P as id,Q as It,T as vl,U as F2,V as od,W as P2,X as Ta,Y as Np,Z as Ca,$ as qe,f as bn,a0 as Tt,a1 as $2,m as B2,a2 as cf,a3 as R2,a4 as j2,a5 as q2,a6 as z2,a7 as U2,B as V2,b as ad}from"./index.7854d9f5.js";import{w as ft}from"./paths.891d930c.js";import{H as H2,S as W2}from"./Header.87dc1f2c.js";import{m as sd}from"./model_out.7143bfd2.js";const Y2={"@@functional/placeholder":!0};var G2=Ie(function(t,n){return Number(t)+Number(n)});function Dp(e,t,n){return function(){for(var r=[],i=0,a=e,s=0;s<t.length||i<arguments.length;){var c;s<t.length&&(!Qu(t[s])||i>=arguments.length)?c=t[s]:(c=arguments[i],i+=1),r[s]=c,Qu(c)||(a-=1),s+=1}return a<=0?n.apply(this,r):Mp(a,Dp(e,r,n))}}var Er=Ie(function(t,n){return t===1?xi(n):Mp(t,Dp(t,[],n))});function X2(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var K2=Ie(function(t,n){return n>t?n:t});function _a(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}var Z2=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=Ar.init,e.prototype["@@transducer/result"]=Ar.result,e.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},e}(),J2=Ie(function(t,n){return new Z2(t,n)}),Q2=Ie(xs(["fantasy-land/map","map"],J2,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return Er(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return si(function(r,i){return r[i]=t(n[i]),r},{},sr(n));default:return _a(t,n)}}));const Un=Q2,e_=Number.isInteger||function(t){return t<<0===t};var t_=Ie(function(t,n){var r=t<0?n.length+t:t;return of(n)?n.charAt(r):n[r]});const Ip=t_;var n_=Ie(function(t,n){if(n!=null)return e_(t)?Ip(t,n):n[t]});const ff=n_;var r_=Ie(function(t,n){return Un(ff(t),n)});const wl=r_;var i_=function(){function e(t,n){this.xf=n,this.f=t,this.any=!1}return e.prototype["@@transducer/init"]=Ar.init,e.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=X2(this.xf["@@transducer/step"](t,!0))),t},e}(),o_=Ie(function(t,n){return new i_(t,n)}),a_=Ie(xs(["any"],o_,function(t,n){for(var r=0;r<n.length;){if(t(n[r]))return!0;r+=1}return!1}));const xl=a_;var s_=Ie(function(t,n){return typeof n["fantasy-land/ap"]=="function"?n["fantasy-land/ap"](t):typeof t.ap=="function"?t.ap(n):typeof t=="function"?function(r){return t(r)(n(r))}:si(function(r,i){return A2(r,Un(i,n))},[],t)}),c_=Ie(function(t,n){return t.apply(this,n)});function cd(e,t){return af(t)?t.map(e):sr(t).reduce(function(n,r){return n[r]=e(t[r]),n},{})}var f_=xi(function e(t){return t=cd(function(n){return typeof n=="function"?n:e(n)},t),Er(kp(K2,0,wl("length",yn(t))),function(){var n=arguments;return cd(function(r){return c_(r,n)},t)})});const fd=f_;function lf(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"}var l_=Ie(function(t,n){var r=Er(t,n);return Er(t,function(){return si(s_,Un(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),u_=xi(function(t){return l_(t.length,t)});function d_(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}var h_=function(e){return{"@@transducer/init":Ar.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){var r=e["@@transducer/step"](t,n);return r["@@transducer/reduced"]?d_(r):r}}},p_=function(t){var n=h_(t);return{"@@transducer/init":Ar.init,"@@transducer/result":function(r){return n["@@transducer/result"](r)},"@@transducer/step":function(r,i){return E2(i)?si(n,r,i):si(n,r,[i])}}},g_=Ie(function(t,n){return Un(t,p_(n))}),m_=Ie(xs(["fantasy-land/chain","chain"],g_,function(t,n){return typeof n=="function"?function(r){return t(n(r))(r)}:T2(!1)(Un(t,n))}));const Lp=m_;function cc(e){var t=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+t.replace(/"/g,'\\"')+'"'}var Di=function(t){return(t<10?"0":"")+t},b_=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+Di(t.getUTCMonth()+1)+"-"+Di(t.getUTCDate())+"T"+Di(t.getUTCHours())+":"+Di(t.getUTCMinutes())+":"+Di(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function y_(e){return function(){return!e.apply(this,arguments)}}var __=Ie(function(t,n){return Ap(y_(t),n)});const Op=__;function Fp(e,t){var n=function(s){var c=t.concat([e]);return Ep(s,c)?"<Circular>":Fp(s,c)},r=function(a,s){return _a(function(c){return cc(c)+": "+n(a[c])},s.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+_a(n,e).join(", ")+"))";case"[object Array]":return"["+_a(n,e).concat(r(e,Op(function(a){return/^\d+$/.test(a)},sr(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+n(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?n(NaN):cc(b_(e)))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+n(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object String]":return typeof e=="object"?"new String("+n(e.valueOf())+")":cc(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var i=e.toString();if(i!=="[object Object]")return i}return"{"+r(e,sr(e)).join(", ")+"}"}}var fc=xi(function(t){return Fp(t,[])}),v_=Ie(function(t,n){if(af(t)){if(af(n))return t.concat(n);throw new TypeError(fc(n)+" is not an array")}if(of(t)){if(of(n))return t+n;throw new TypeError(fc(n)+" is not a string")}if(t!=null&&lf(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(t!=null&&lf(t.concat))return t.concat(n);throw new TypeError(fc(t)+' does not have a method named "concat" or "fantasy-land/concat"')});const eo=v_;var w_=xi(function(t){return Er(t.length,t)});const ld=w_;var x_=Ip(-1);const lc=x_;var S_=Ie(function(t,n){return t||n}),M_=Ie(function(t,n){return lf(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:u_(S_)(t,n)});const Pp=M_;var k_=xi(function(t){return Er(t.length,function(n,r){var i=Array.prototype.slice.call(arguments,0);return i[0]=r,i[1]=n,t.apply(this,i)})}),A_=Ie(function(t,n){if(t.length===0||Te(n))return!1;for(var r=n,i=0;i<t.length;)if(!Te(r)&&C2(t[i],r))r=r[t[i]],i+=1;else return!1;return!0}),E_=Ie(function(t,n){return A_([t],n)});const fr=E_;var T_=N2(function(t,n,r){return Er(Math.max(t.length,n.length,r.length),function(){return t.apply(this,arguments)?n.apply(this,arguments):r.apply(this,arguments)})});const uf=T_;var C_=function(){function e(t,n){this.xf=n,this.f=t,this.set=new Tp}return e.prototype["@@transducer/init"]=Ar.init,e.prototype["@@transducer/result"]=Ar.result,e.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},e}(),N_=Ie(function(t,n){return new C_(t,n)}),D_=Ie(xs([],N_,function(e,t){for(var n=new Tp,r=[],i=0,a,s;i<t.length;)s=t[i],a=e(s),n.add(a)&&r.push(s),i+=1;return r})),I_=D_(sf),L_=Ie(function(t,n){var r,i;return t.length>n.length?(r=t,i=n):(r=n,i=t),I_(D2(k_(Ep)(r),i))});const O_=L_;var F_=Ie(function(t,n){return si(function(r,i){return r[i]=t(n[i],i,n),r},{},sr(n))});const P_=F_;var $_=kp(G2,0);const B_=$_;var R_=Ie(function(t,n){for(var r={},i={},a=0,s=t.length;a<s;)i[t[a]]=1,a+=1;for(var c in n)i.hasOwnProperty(c)||(r[c]=n[c]);return r});const ud=R_;var j_=Ie(function(t,n){for(var r={},i=0;i<t.length;)t[i]in n&&(r[t[i]]=n[t[i]]),i+=1;return r});const q_=j_;var z_=Ie(function(t,n){return Array.prototype.slice.call(n,0).sort(t)});const U_=z_;var V_=Ie(function(t,n){return eo(Ea(t,n),Ea(n,t))});const H_=V_;var W_=Ie(function(t,n){for(var r=[],i=0,a=Math.min(t.length,n.length);i<a;)r[i]=[t[i],n[i]],i+=1;return r});const Y_=W_;function Ot(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function po(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ms(e){let t,n,r;e.length!==2?(t=Ot,n=(c,f)=>Ot(e(c),f),r=(c,f)=>e(c)-f):(t=e===Ot||e===po?e:G_,n=e,r=e);function i(c,f,l=0,u=c.length){if(l<u){if(t(f,f)!==0)return u;do{const d=l+u>>>1;n(c[d],f)<0?l=d+1:u=d}while(l<u)}return l}function a(c,f,l=0,u=c.length){if(l<u){if(t(f,f)!==0)return u;do{const d=l+u>>>1;n(c[d],f)<=0?l=d+1:u=d}while(l<u)}return l}function s(c,f,l=0,u=c.length){const d=i(c,f,l,u-1);return d>l&&r(c[d-1],f)>-r(c[d],f)?d-1:d}return{left:i,center:s,right:a}}function G_(){return 0}function $p(e){return e===null?NaN:+e}function*X_(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const K_=Ms(Ot),Z_=K_.right;Ms($p).center;const Sl=Z_;function J_(e){return e.length|0}function Q_(e){return!(e>0)}function ev(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function tv(e){return t=>e(...t)}function nv(...e){const t=typeof e[e.length-1]=="function"&&tv(e.pop());e=e.map(ev);const n=e.map(J_),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Q_))return a;for(;;){a.push(i.map((c,f)=>e[f][c]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?a.map(t):a;i[s--]=0}}}function rv(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function Bp(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let c of e)(c=t(c,++s,e))!=null&&(c=+c)>=c&&(r=c-i,i+=r/++n,a+=r*(c-i))}if(n>1)return a/(n-1)}function iv(e,t){const n=Bp(e,t);return n&&Math.sqrt(n)}function ir(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Tr{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,c=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);c&&(n[r++]=c),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class Cr extends Map{constructor(t,n=qp){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(df(this,t))}has(t){return super.has(df(this,t))}set(t,n){return super.set(Rp(this,t),n)}delete(t){return super.delete(jp(this,t))}}class ks extends Set{constructor(t,n=qp){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(df(this,t))}add(t){return super.add(Rp(this,t))}delete(t){return super.delete(jp(this,t))}}function df({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Rp({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function jp({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function qp(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hf(e){return e}function Ml(e,...t){return kl(e,hf,hf,t)}function Gi(e,t,...n){return kl(e,hf,t,n)}function ov(e,t,...n){return kl(e,Array.from,t,n)}function kl(e,t,n,r){return function i(a,s){if(s>=r.length)return n(a);const c=new Cr,f=r[s++];let l=-1;for(const u of a){const d=f(u,++l,a),h=c.get(d);h?h.push(u):c.set(d,[u])}for(const[u,d]of c)c.set(u,i(d,s));return t(c)}(e,0)}function av(e,t){return Array.from(t,n=>e[n])}function pf(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const s of t){const c=Na(s[i],s[a]);if(c)return c}})):(n=e.map(n),r.sort((i,a)=>Na(n[i],n[a]))),av(e,r)}return e.sort(zp(n))}function zp(e=Ot){if(e===Ot)return Na;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Na(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Al(e,t,n){return(t.length!==2?pf(Gi(e,t,n),([r,i],[a,s])=>Ot(i,s)||Ot(r,a)):pf(Ml(e,n),([r,i],[a,s])=>t(i,s)||Ot(r,a))).map(([r])=>r)}const sv=Math.sqrt(50),cv=Math.sqrt(10),fv=Math.sqrt(2);function Da(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=sv?10:a>=cv?5:a>=fv?2:1;let c,f,l;return i<0?(l=Math.pow(10,-i)/s,c=Math.round(e*l),f=Math.round(t*l),c/l<e&&++c,f/l>t&&--f,l=-l):(l=Math.pow(10,i)*s,c=Math.round(e/l),f=Math.round(t/l),c*l<e&&++c,f*l>t&&--f),f<c&&.5<=n&&n<2?Da(e,t,n*2):[c,f,l]}function Ia(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Da(t,e,n):Da(e,t,n);if(!(a>=i))return[];const c=a-i+1,f=new Array(c);if(r)if(s<0)for(let l=0;l<c;++l)f[l]=(a-l)/-s;else for(let l=0;l<c;++l)f[l]=(a-l)*s;else if(s<0)for(let l=0;l<c;++l)f[l]=(i+l)/-s;else for(let l=0;l<c;++l)f[l]=(i+l)*s;return f}function gf(e,t,n){return t=+t,e=+e,n=+n,Da(e,t,n)[2]}function mf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?gf(t,e,n):gf(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function zt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function lv(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function kn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function uv(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Up(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Na:zp(i);r>n;){if(r-n>600){const f=r-n+1,l=t-n+1,u=Math.log(f),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(f-d)/f)*(l-f/2<0?-1:1),p=Math.max(n,Math.floor(t-l*d/f+h)),m=Math.min(r,Math.floor(t+(f-l)*d/f+h));Up(e,t,p,m,i)}const a=e[t];let s=n,c=r;for(Ii(e,n,t),i(e[r],a)>0&&Ii(e,n,r);s<c;){for(Ii(e,s,c),++s,--c;i(e[s],a)<0;)++s;for(;i(e[c],a)>0;)--c}i(e[n],a)===0?Ii(e,n,c):(++c,Ii(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function Ii(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Vp(e,t=Ot){let n,r=!1;if(t.length===1){let i;for(const a of e){const s=t(a);(r?Ot(s,i)>0:Ot(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function La(e,t,n){if(e=Float64Array.from(X_(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return kn(e);if(t>=1)return zt(e);var r,i=(r-1)*t,a=Math.floor(i),s=zt(Up(e,a).subarray(0,a+1)),c=kn(e.subarray(a+1));return s+(c-s)*(i-a)}}function dv(e,t,n=$p){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return s+(c-s)*(i-a)}}function hv(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function bf(e,t){return La(e,.5,t)}function*pv(e){for(const t of e)yield*t}function Hp(e){return Array.from(pv(e))}function gv(e,t){const n=new Cr;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function mv(e,t=bv){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function bv(e,t){return[e,t]}function yf(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Nr(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Oa(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function yv(e){return e}var uc=1,dc=2,_f=3,Xo=4,dd=1e-6;function _v(e){return"translate("+e+",0)"}function vv(e){return"translate(0,"+e+")"}function wv(e){return t=>+e(t)}function xv(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Sv(){return!this.__axis}function Mv(e,t){var n=[],r=null,i=null,a=6,s=6,c=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===uc||e===Xo?-1:1,u=e===Xo||e===dc?"x":"y",d=e===uc||e===_f?_v:vv;function h(p){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):yv),b=Math.max(a,0)+c,v=t.range(),_=+v[0]+f,x=+v[v.length-1]+f,y=(t.bandwidth?xv:wv)(t.copy(),f),w=p.selection?p.selection():p,M=w.selectAll(".domain").data([null]),k=w.selectAll(".tick").data(m,t).order(),A=k.exit(),N=k.enter().append("g").attr("class","tick"),D=k.select("line"),S=k.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(N),D=D.merge(N.append("line").attr("stroke","currentColor").attr(u+"2",l*a)),S=S.merge(N.append("text").attr("fill","currentColor").attr(u,l*b).attr("dy",e===uc?"0em":e===_f?"0.71em":"0.32em")),p!==w&&(M=M.transition(p),k=k.transition(p),D=D.transition(p),S=S.transition(p),A=A.transition(p).attr("opacity",dd).attr("transform",function(T){return isFinite(T=y(T))?d(T+f):this.getAttribute("transform")}),N.attr("opacity",dd).attr("transform",function(T){var F=this.parentNode.__axis;return d((F&&isFinite(F=F(T))?F:y(T))+f)})),A.remove(),M.attr("d",e===Xo||e===dc?s?"M"+l*s+","+_+"H"+f+"V"+x+"H"+l*s:"M"+f+","+_+"V"+x:s?"M"+_+","+l*s+"V"+f+"H"+x+"V"+l*s:"M"+_+","+f+"H"+x),k.attr("opacity",1).attr("transform",function(T){return d(y(T)+f)}),D.attr(u+"2",l*a),S.attr(u,l*b).text(g),w.filter(Sv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===dc?"start":e===Xo?"end":"middle"),w.each(function(){this.__axis=y})}return h.scale=function(p){return arguments.length?(t=p,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),h):n.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(a=s=+p,h):a},h.tickSizeInner=function(p){return arguments.length?(a=+p,h):a},h.tickSizeOuter=function(p){return arguments.length?(s=+p,h):s},h.tickPadding=function(p){return arguments.length?(c=+p,h):c},h.offset=function(p){return arguments.length?(f=+p,h):f},h}function kv(e){return Mv(_f,e)}function pt(e){return typeof e=="string"?new ed([[document.querySelector(e)]],[document.documentElement]):new ed([[e]],I2)}function Av(e){let t;for(;t=e.sourceEvent;)e=t;return e}function vf(e,t){if(e=Av(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const wf={capture:!0,passive:!1};function xf(e){e.preventDefault(),e.stopImmediatePropagation()}function Ev(e){var t=e.document.documentElement,n=pt(e).on("dragstart.drag",xf,wf);"onselectstart"in t?n.on("selectstart.drag",xf,wf):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Tv(e,t){var n=e.document.documentElement,r=pt(e).on("dragstart.drag",null);t&&(r.on("click.drag",xf,wf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Wp=Math.PI/180,Yp=180/Math.PI,Fa=18,Gp=.96422,Xp=1,Kp=.82521,Zp=4/29,ri=6/29,Jp=3*ri*ri,Cv=ri*ri*ri;function Qp(e){if(e instanceof Sn)return new Sn(e.l,e.a,e.b,e.opacity);if(e instanceof Bn)return e1(e);e instanceof Ss||(e=Cp(e));var t=mc(e.r),n=mc(e.g),r=mc(e.b),i=hc((.2225045*t+.7168786*n+.0606169*r)/Xp),a,s;return t===n&&n===r?a=s=i:(a=hc((.4360747*t+.3850649*n+.1430804*r)/Gp),s=hc((.0139322*t+.0971045*n+.7141733*r)/Kp)),new Sn(116*i-16,500*(a-i),200*(i-s),e.opacity)}function Sf(e,t,n,r){return arguments.length===1?Qp(e):new Sn(e,t,n,r??1)}function Sn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}bl(Sn,Sf,yl(_l,{brighter(e){return new Sn(this.l+Fa*(e??1),this.a,this.b,this.opacity)},darker(e){return new Sn(this.l-Fa*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Gp*pc(t),e=Xp*pc(e),n=Kp*pc(n),new Ss(gc(3.1338561*t-1.6168667*e-.4906146*n),gc(-.9787684*t+1.9161415*e+.033454*n),gc(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function hc(e){return e>Cv?Math.pow(e,1/3):e/Jp+Zp}function pc(e){return e>ri?e*e*e:Jp*(e-Zp)}function gc(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function mc(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Nv(e){if(e instanceof Bn)return new Bn(e.h,e.c,e.l,e.opacity);if(e instanceof Sn||(e=Qp(e)),e.a===0&&e.b===0)return new Bn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Yp;return new Bn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Pa(e,t,n,r){return arguments.length===1?Nv(e):new Bn(e,t,n,r??1)}function Bn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function e1(e){if(isNaN(e.h))return new Sn(e.l,0,0,e.opacity);var t=e.h*Wp;return new Sn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}bl(Bn,Pa,yl(_l,{brighter(e){return new Bn(this.h,this.c,this.l+Fa*(e??1),this.opacity)},darker(e){return new Bn(this.h,this.c,this.l-Fa*(e??1),this.opacity)},rgb(){return e1(this).rgb()}}));var t1=-.14861,El=1.78277,Tl=-.29227,As=-.90649,to=1.97294,hd=to*As,pd=to*El,gd=El*Tl-As*t1;function Dv(e){if(e instanceof Sr)return new Sr(e.h,e.s,e.l,e.opacity);e instanceof Ss||(e=Cp(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(gd*r+hd*t-pd*n)/(gd+hd-pd),a=r-i,s=(to*(n-i)-Tl*a)/As,c=Math.sqrt(s*s+a*a)/(to*i*(1-i)),f=c?Math.atan2(s,a)*Yp-120:NaN;return new Sr(f<0?f+360:f,c,i,e.opacity)}function An(e,t,n,r){return arguments.length===1?Dv(e):new Sr(e,t,n,r??1)}function Sr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}bl(Sr,An,yl(_l,{brighter(e){return e=e==null?td:Math.pow(td,e),new Sr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nd:Math.pow(nd,e),new Sr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Wp,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ss(255*(t+n*(t1*r+El*i)),255*(t+n*(Tl*r+As*i)),255*(t+n*(to*r)),this.opacity)}}));function Iv(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Lv(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ov(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Si(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(c){for(s=0;s<r;++s)a[s]=i[s](c);return a}}function Fv(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Pv(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Si(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function Si(e,t){var n=typeof t,r;return t==null||n==="boolean"?L2(t):(n==="number"?cr:n==="string"?(r=rd(t))?(t=r,Qi):O2:t instanceof rd?Qi:t instanceof Date?Fv:Lv(t)?Iv:Array.isArray(t)?Ov:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Pv:cr)(e,t)}function Cl(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function $v(e){return function(t,n){var r=e((t=id(t)).h,(n=id(n)).h),i=It(t.s,n.s),a=It(t.l,n.l),s=It(t.opacity,n.opacity);return function(c){return t.h=r(c),t.s=i(c),t.l=a(c),t.opacity=s(c),t+""}}}const Bv=$v(vl);function Rv(e,t){var n=It((e=Sf(e)).l,(t=Sf(t)).l),r=It(e.a,t.a),i=It(e.b,t.b),a=It(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function jv(e){return function(t,n){var r=e((t=Pa(t)).h,(n=Pa(n)).h),i=It(t.c,n.c),a=It(t.l,n.l),s=It(t.opacity,n.opacity);return function(c){return t.h=r(c),t.c=i(c),t.l=a(c),t.opacity=s(c),t+""}}}const qv=jv(vl);function n1(e){return function t(n){n=+n;function r(i,a){var s=e((i=An(i)).h,(a=An(a)).h),c=It(i.s,a.s),f=It(i.l,a.l),l=It(i.opacity,a.opacity);return function(u){return i.h=s(u),i.s=c(u),i.l=f(Math.pow(u,n)),i.opacity=l(u),i+""}}return r.gamma=t,r}(1)}n1(vl);var Nl=n1(It);function Es(e,t){t===void 0&&(t=e,e=Si);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var c=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[c](s-c)}}function ln(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const bc=e=>()=>e;function zv(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Uv(e){e.stopImmediatePropagation()}function yc(e){e.preventDefault(),e.stopImmediatePropagation()}var md={name:"drag"},_c={name:"space"},Hr={name:"handle"},Wr={name:"center"};const{abs:bd,max:dt,min:ht}=Math;function yd(e){return[+e[0],+e[1]]}function _d(e){return[yd(e[0]),yd(e[1])]}var va={name:"x",handles:["w","e"].map($a),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},vc={name:"y",handles:["n","s"].map($a),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Dn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},vd={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},wd={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Vv={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Hv={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function $a(e){return{type:e}}function Wv(e){return!e.ctrlKey&&!e.button}function Yv(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Gv(){return navigator.maxTouchPoints||"ontouchstart"in this}function wc(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Xv(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Kv(){return Zv(va)}function Zv(e){var t=Yv,n=Wv,r=Gv,i=!0,a=F2("start","brush","end"),s=6,c;function f(b){var v=b.property("__brush",g).selectAll(".overlay").data([$a("overlay")]);v.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Dn.overlay).merge(v).each(function(){var x=wc(this).extent;pt(this).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1])}),b.selectAll(".selection").data([$a("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Dn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=b.selectAll(".handle").data(e.handles,function(x){return x.type});_.exit().remove(),_.enter().append("rect").attr("class",function(x){return"handle handle--"+x.type}).attr("cursor",function(x){return Dn[x.type]}),b.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.move=function(b,v,_){b.tween?b.on("start.brush",function(x){u(this,arguments).beforestart().start(x)}).on("interrupt.brush end.brush",function(x){u(this,arguments).end(x)}).tween("brush",function(){var x=this,y=x.__brush,w=u(x,arguments),M=y.selection,k=e.input(typeof v=="function"?v.apply(this,arguments):v,y.extent),A=Si(M,k);function N(D){y.selection=D===1&&k===null?null:A(D),l.call(x),w.brush()}return M!==null&&k!==null?N:N(1)}):b.each(function(){var x=this,y=arguments,w=x.__brush,M=e.input(typeof v=="function"?v.apply(x,y):v,w.extent),k=u(x,y).beforestart();od(x),w.selection=M===null?null:M,l.call(x),k.start(_).brush(_).end(_)})},f.clear=function(b,v){f.move(b,null,v)};function l(){var b=pt(this),v=wc(this).selection;v?(b.selectAll(".selection").style("display",null).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?v[1][0]-s/2:v[0][0]-s/2}).attr("y",function(_){return _.type[0]==="s"?v[1][1]-s/2:v[0][1]-s/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?v[1][0]-v[0][0]+s:s}).attr("height",function(_){return _.type==="e"||_.type==="w"?v[1][1]-v[0][1]+s:s})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(b,v,_){var x=b.__brush.emitter;return x&&(!_||!x.clean)?x:new d(b,v,_)}function d(b,v,_){this.that=b,this.args=v,this.state=b.__brush,this.active=0,this.clean=_}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,v){return this.starting?(this.starting=!1,this.emit("start",b,v)):this.emit("brush",b),this},brush:function(b,v){return this.emit("brush",b,v),this},end:function(b,v){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,v)),this},emit:function(b,v,_){var x=pt(this.that).datum();a.call(b,this.that,new zv(b,{sourceEvent:v,target:f,selection:e.output(this.state.selection),mode:_,dispatch:a}),x)}};function h(b){if(c&&!b.touches||!n.apply(this,arguments))return;var v=this,_=b.target.__data__.type,x=(i&&b.metaKey?_="overlay":_)==="selection"?md:i&&b.altKey?Wr:Hr,y=e===vc?null:Vv[_],w=e===va?null:Hv[_],M=wc(v),k=M.extent,A=M.selection,N=k[0][0],D,S,T=k[0][1],F,L,E=k[1][0],U,j,ne=k[1][1],te,Y,H=0,ee=0,J,P=y&&w&&i&&b.shiftKey,re,ue,G=Array.from(b.touches||[b],W=>{const le=W.identifier;return W=vf(W,v),W.point0=W.slice(),W.identifier=le,W});od(v);var ce=u(v,arguments,!0).beforestart();if(_==="overlay"){A&&(J=!0);const W=[G[0],G[1]||G[0]];M.selection=A=[[D=e===vc?N:ht(W[0][0],W[1][0]),F=e===va?T:ht(W[0][1],W[1][1])],[U=e===vc?E:dt(W[0][0],W[1][0]),te=e===va?ne:dt(W[0][1],W[1][1])]],G.length>1&&fe(b)}else D=A[0][0],F=A[0][1],U=A[1][0],te=A[1][1];S=D,L=F,j=U,Y=te;var C=pt(v).attr("pointer-events","none"),V=C.selectAll(".overlay").attr("cursor",Dn[_]);if(b.touches)ce.moved=q,ce.ended=se;else{var X=pt(b.view).on("mousemove.brush",q,!0).on("mouseup.brush",se,!0);i&&X.on("keydown.brush",de,!0).on("keyup.brush",me,!0),Ev(b.view)}l.call(v),ce.start(b,x.name);function q(W){for(const le of W.changedTouches||[W])for(const _e of G)_e.identifier===le.identifier&&(_e.cur=vf(le,v));if(P&&!re&&!ue&&G.length===1){const le=G[0];bd(le.cur[0]-le[0])>bd(le.cur[1]-le[1])?ue=!0:re=!0}for(const le of G)le.cur&&(le[0]=le.cur[0],le[1]=le.cur[1]);J=!0,yc(W),fe(W)}function fe(W){const le=G[0],_e=le.point0;var De;switch(H=le[0]-_e[0],ee=le[1]-_e[1],x){case _c:case md:{y&&(H=dt(N-D,ht(E-U,H)),S=D+H,j=U+H),w&&(ee=dt(T-F,ht(ne-te,ee)),L=F+ee,Y=te+ee);break}case Hr:{G[1]?(y&&(S=dt(N,ht(E,G[0][0])),j=dt(N,ht(E,G[1][0])),y=1),w&&(L=dt(T,ht(ne,G[0][1])),Y=dt(T,ht(ne,G[1][1])),w=1)):(y<0?(H=dt(N-D,ht(E-D,H)),S=D+H,j=U):y>0&&(H=dt(N-U,ht(E-U,H)),S=D,j=U+H),w<0?(ee=dt(T-F,ht(ne-F,ee)),L=F+ee,Y=te):w>0&&(ee=dt(T-te,ht(ne-te,ee)),L=F,Y=te+ee));break}case Wr:{y&&(S=dt(N,ht(E,D-H*y)),j=dt(N,ht(E,U+H*y))),w&&(L=dt(T,ht(ne,F-ee*w)),Y=dt(T,ht(ne,te+ee*w)));break}}j<S&&(y*=-1,De=D,D=U,U=De,De=S,S=j,j=De,_ in vd&&V.attr("cursor",Dn[_=vd[_]])),Y<L&&(w*=-1,De=F,F=te,te=De,De=L,L=Y,Y=De,_ in wd&&V.attr("cursor",Dn[_=wd[_]])),M.selection&&(A=M.selection),re&&(S=A[0][0],j=A[1][0]),ue&&(L=A[0][1],Y=A[1][1]),(A[0][0]!==S||A[0][1]!==L||A[1][0]!==j||A[1][1]!==Y)&&(M.selection=[[S,L],[j,Y]],l.call(v),ce.brush(W,x.name))}function se(W){if(Uv(W),W.touches){if(W.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500)}else Tv(W.view,J),X.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);C.attr("pointer-events","all"),V.attr("cursor",Dn.overlay),M.selection&&(A=M.selection),Xv(A)&&(M.selection=null,l.call(v)),ce.end(W,x.name)}function de(W){switch(W.keyCode){case 16:{P=y&&w;break}case 18:{x===Hr&&(y&&(U=j-H*y,D=S+H*y),w&&(te=Y-ee*w,F=L+ee*w),x=Wr,fe(W));break}case 32:{(x===Hr||x===Wr)&&(y<0?U=j-H:y>0&&(D=S-H),w<0?te=Y-ee:w>0&&(F=L-ee),x=_c,V.attr("cursor",Dn.selection),fe(W));break}default:return}yc(W)}function me(W){switch(W.keyCode){case 16:{P&&(re=ue=P=!1,fe(W));break}case 18:{x===Wr&&(y<0?U=j:y>0&&(D=S),w<0?te=Y:w>0&&(F=L),x=Hr,fe(W));break}case 32:{x===_c&&(W.altKey?(y&&(U=j-H*y,D=S+H*y),w&&(te=Y-ee*w,F=L+ee*w),x=Wr):(y<0?U=j:y>0&&(D=S),w<0?te=Y:w>0&&(F=L),x=Hr),V.attr("cursor",Dn[_]),fe(W));break}default:return}yc(W)}}function p(b){u(this,arguments).moved(b)}function m(b){u(this,arguments).ended(b)}function g(){var b=this.__brush||{selection:null};return b.extent=_d(t.apply(this,arguments)),b.dim=e,b}return f.extent=function(b){return arguments.length?(t=typeof b=="function"?b:bc(_d(b)),f):t},f.filter=function(b){return arguments.length?(n=typeof b=="function"?b:bc(!!b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:bc(!!b),f):r},f.handleSize=function(b){return arguments.length?(s=+b,f):s},f.keyModifiers=function(b){return arguments.length?(i=!!b,f):i},f.on=function(){var b=a.on.apply(a,arguments);return b===a?f:b},f}const Mf=Math.PI,kf=2*Mf,vr=1e-6,Jv=kf-vr;function r1(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Qv(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return r1;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class i1{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?r1:Qv(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,c=this._y1,f=r-t,l=i-n,u=s-t,d=c-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>vr)if(!(Math.abs(d*f-l*u)>vr)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,m=i-c,g=f*f+l*l,b=p*p+m*m,v=Math.sqrt(g),_=Math.sqrt(h),x=a*Math.tan((Mf-Math.acos((g+h-b)/(2*v*_)))/2),y=x/_,w=x/v;Math.abs(y-1)>vr&&this._append`L${t+y*u},${n+y*d}`,this._append`A${a},${a},0,0,${+(d*p>u*m)},${this._x1=t+w*f},${this._y1=n+w*l}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),l=t+c,u=n+f,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>vr||Math.abs(this._y1-u)>vr)&&this._append`L${l},${u}`,r&&(h<0&&(h=h%kf+kf),h>Jv?this._append`A${r},${r},0,1,${d},${t-c},${n-f}A${r},${r},0,1,${d},${this._x1=l},${this._y1=u}`:h>vr&&this._append`A${r},${r},0,${+(h>=Mf)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function er(e=3){return new i1(+e)}function ew(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ba(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ci(e){return e=Ba(Math.abs(e)),e?e[1]:NaN}function tw(e,t){return function(n,r){for(var i=n.length,a=[],s=0,c=e[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),a.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=e[s=(s+1)%e.length];return a.reverse().join(t)}}function nw(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var rw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function no(e){if(!(t=rw.exec(e)))throw new Error("invalid format: "+e);var t;return new Dl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}no.prototype=Dl.prototype;function Dl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Dl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iw(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var o1;function ow(e,t){var n=Ba(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(o1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ba(e,Math.max(0,t+a-1))[0]}function xd(e,t){var n=Ba(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Sd={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ew,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xd(e*100,t),r:xd,s:ow,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Md(e){return e}var kd=Array.prototype.map,Ad=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function aw(e){var t=e.grouping===void 0||e.thousands===void 0?Md:tw(kd.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Md:nw(kd.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function l(d){d=no(d);var h=d.fill,p=d.align,m=d.sign,g=d.symbol,b=d.zero,v=d.width,_=d.comma,x=d.precision,y=d.trim,w=d.type;w==="n"?(_=!0,w="g"):Sd[w]||(x===void 0&&(x=12),y=!0,w="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var M=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k=g==="$"?r:/[%p]/.test(w)?s:"",A=Sd[w],N=/[defgprs%]/.test(w);x=x===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function D(S){var T=M,F=k,L,E,U;if(w==="c")F=A(S)+F,S="";else{S=+S;var j=S<0||1/S<0;if(S=isNaN(S)?f:A(Math.abs(S),x),y&&(S=iw(S)),j&&+S==0&&m!=="+"&&(j=!1),T=(j?m==="("?m:c:m==="-"||m==="("?"":m)+T,F=(w==="s"?Ad[8+o1/3]:"")+F+(j&&m==="("?")":""),N){for(L=-1,E=S.length;++L<E;)if(U=S.charCodeAt(L),48>U||U>57){F=(U===46?i+S.slice(L+1):S.slice(L))+F,S=S.slice(0,L);break}}}_&&!b&&(S=t(S,1/0));var ne=T.length+S.length+F.length,te=ne<v?new Array(v-ne+1).join(h):"";switch(_&&b&&(S=t(te+S,te.length?v-F.length:1/0),te=""),p){case"<":S=T+S+F+te;break;case"=":S=T+te+S+F;break;case"^":S=te.slice(0,ne=te.length>>1)+T+S+F+te.slice(ne);break;default:S=te+T+S+F;break}return a(S)}return D.toString=function(){return d+""},D}function u(d,h){var p=l((d=no(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(ci(h)/3)))*3,g=Math.pow(10,-m),b=Ad[8+m/3];return function(v){return p(g*v)+b}}return{format:l,formatPrefix:u}}var Ko,Mi,a1;sw({thousands:",",grouping:[3],currency:["$",""]});function sw(e){return Ko=aw(e),Mi=Ko.format,a1=Ko.formatPrefix,Ko}function cw(e){return Math.max(0,-ci(Math.abs(e)))}function fw(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ci(t)/3)))*3-ci(Math.abs(e)))}function lw(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ci(t)-ci(e))+1}var xe=1e-6,s1=1e-12,Ae=Math.PI,We=Ae/2,Ed=Ae/4,Ut=Ae*2,Et=180/Ae,Ve=Ae/180,Oe=Math.abs,ki=Math.atan,Vn=Math.atan2,ke=Math.cos,c1=Math.exp,Ra=Math.log,xc=Math.pow,ve=Math.sin,Gt=Math.sign||function(e){return e>0?1:e<0?-1:0},Ft=Math.sqrt,Il=Math.tan;function f1(e){return e>1?0:e<-1?Ae:Math.acos(e)}function Jt(e){return e>1?We:e<-1?-We:Math.asin(e)}function Xt(){}function ja(e,t){e&&Cd.hasOwnProperty(e.type)&&Cd[e.type](e,t)}var Td={Feature:function(e,t){ja(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)ja(n[r].geometry,t)}},Cd={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Af(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Af(n[r],t,0)},Polygon:function(e,t){Nd(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Nd(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)ja(n[r],t)}};function Af(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function Nd(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Af(e[n],t,1);t.polygonEnd()}function wr(e,t){e&&Td.hasOwnProperty(e.type)?Td[e.type](e,t):ja(e,t)}function Ef(e){return[Vn(e[1],e[0]),Jt(e[2])]}function fi(e){var t=e[0],n=e[1],r=ke(n);return[r*ke(t),r*ve(t),ve(n)]}function Zo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function qa(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Sc(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Jo(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Tf(e){var t=Ft(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Cf(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Nf(e,t){return Oe(e)>Ae&&(e-=Math.round(e/Ut)*Ut),[e,t]}Nf.invert=Nf;function l1(e,t,n){return(e%=Ut)?t||n?Cf(Id(e),Ld(t,n)):Id(e):t||n?Ld(t,n):Nf}function Dd(e){return function(t,n){return t+=e,Oe(t)>Ae&&(t-=Math.round(t/Ut)*Ut),[t,n]}}function Id(e){var t=Dd(e);return t.invert=Dd(-e),t}function Ld(e,t){var n=ke(e),r=ve(e),i=ke(t),a=ve(t);function s(c,f){var l=ke(f),u=ke(c)*l,d=ve(c)*l,h=ve(f),p=h*n+u*r;return[Vn(d*i-p*a,u*n-h*r),Jt(p*i+d*a)]}return s.invert=function(c,f){var l=ke(f),u=ke(c)*l,d=ve(c)*l,h=ve(f),p=h*i-d*a;return[Vn(d*i+h*a,u*n+p*r),Jt(p*n-u*r)]},s}function uw(e){e=l1(e[0]*Ve,e[1]*Ve,e.length>2?e[2]*Ve:0);function t(n){return n=e(n[0]*Ve,n[1]*Ve),n[0]*=Et,n[1]*=Et,n}return t.invert=function(n){return n=e.invert(n[0]*Ve,n[1]*Ve),n[0]*=Et,n[1]*=Et,n},t}function dw(e,t,n,r,i,a){if(n){var s=ke(t),c=ve(t),f=r*n;i==null?(i=t+r*Ut,a=t-f/2):(i=Od(s,i),a=Od(s,a),(r>0?i<a:i>a)&&(i+=r*Ut));for(var l,u=i;r>0?u>a:u<a;u-=f)l=Ef([s,-c*ke(u),-c*ve(u)]),e.point(l[0],l[1])}}function Od(e,t){t=fi(t),t[0]-=e,Tf(t);var n=f1(-t[1]);return((-t[2]<0?-n:n)+Ut-xe)%Ut}function u1(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Xt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function wa(e,t){return Oe(e[0]-t[0])<xe&&Oe(e[1]-t[1])<xe}function Qo(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function d1(e,t,n,r,i){var a=[],s=[],c,f;if(e.forEach(function(m){if(!((g=m.length-1)<=0)){var g,b=m[0],v=m[g],_;if(wa(b,v)){if(!b[2]&&!v[2]){for(i.lineStart(),c=0;c<g;++c)i.point((b=m[c])[0],b[1]);i.lineEnd();return}v[0]+=2*xe}a.push(_=new Qo(b,m,null,!0)),s.push(_.o=new Qo(b,null,_,!1)),a.push(_=new Qo(v,m,null,!1)),s.push(_.o=new Qo(v,null,_,!0))}}),!!a.length){for(s.sort(t),Fd(a),Fd(s),c=0,f=s.length;c<f;++c)s[c].e=n=!n;for(var l=a[0],u,d;;){for(var h=l,p=!0;h.v;)if((h=h.n)===l)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(c=0,f=u.length;c<f;++c)i.point((d=u[c])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(u=h.p.z,c=u.length-1;c>=0;--c)i.point((d=u[c])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);i.lineEnd()}}}function Fd(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Mc(e){return Oe(e[0])<=Ae?e[0]:Gt(e[0])*((Oe(e[0])+Ae)%Ut-Ae)}function hw(e,t){var n=Mc(t),r=t[1],i=ve(r),a=[ve(n),-ke(n),0],s=0,c=0,f=new Tr;i===1?r=We+xe:i===-1&&(r=-We-xe);for(var l=0,u=e.length;l<u;++l)if(h=(d=e[l]).length)for(var d,h,p=d[h-1],m=Mc(p),g=p[1]/2+Ed,b=ve(g),v=ke(g),_=0;_<h;++_,m=y,b=M,v=k,p=x){var x=d[_],y=Mc(x),w=x[1]/2+Ed,M=ve(w),k=ke(w),A=y-m,N=A>=0?1:-1,D=N*A,S=D>Ae,T=b*M;if(f.add(Vn(T*N*ve(D),v*k+T*ke(D))),s+=S?A+N*Ut:A,S^m>=n^y>=n){var F=qa(fi(p),fi(x));Tf(F);var L=qa(a,F);Tf(L);var E=(S^A>=0?-1:1)*Jt(L[2]);(r>E||r===E&&(F[0]||F[1]))&&(c+=S^A>=0?1:-1)}}return(s<-xe||s<xe&&f<-s1)^c&1}function h1(e,t,n,r){return function(i){var a=t(i),s=u1(),c=t(s),f=!1,l,u,d,h={point:p,lineStart:g,lineEnd:b,polygonStart:function(){h.point=v,h.lineStart=_,h.lineEnd=x,u=[],l=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=b,u=Hp(u);var y=hw(l,r);u.length?(f||(i.polygonStart(),f=!0),d1(u,gw,y,n,i)):y&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),u=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(y,w){e(y,w)&&i.point(y,w)}function m(y,w){a.point(y,w)}function g(){h.point=m,a.lineStart()}function b(){h.point=p,a.lineEnd()}function v(y,w){d.push([y,w]),c.point(y,w)}function _(){c.lineStart(),d=[]}function x(){v(d[0][0],d[0][1]),c.lineEnd();var y=c.clean(),w=s.result(),M,k=w.length,A,N,D;if(d.pop(),l.push(d),d=null,!!k){if(y&1){if(N=w[0],(A=N.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),M=0;M<A;++M)i.point((D=N[M])[0],D[1]);i.lineEnd()}return}k>1&&y&2&&w.push(w.pop().concat(w.shift())),u.push(w.filter(pw))}}return h}}function pw(e){return e.length>1}function gw(e,t){return((e=e.x)[0]<0?e[1]-We-xe:We-e[1])-((t=t.x)[0]<0?t[1]-We-xe:We-t[1])}const Pd=h1(function(){return!0},mw,yw,[-Ae,-We]);function mw(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var c=a>0?Ae:-Ae,f=Oe(a-t);Oe(f-Ae)<xe?(e.point(t,n=(n+s)/2>0?We:-We),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(c,n),e.point(a,n),i=0):r!==c&&f>=Ae&&(Oe(t-r)<xe&&(t-=r*xe),Oe(a-c)<xe&&(a-=c*xe),n=bw(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(c,n),i=0),e.point(t=a,n=s),r=c},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function bw(e,t,n,r){var i,a,s=ve(e-n);return Oe(s)>xe?ki((ve(t)*(a=ke(r))*ve(n)-ve(r)*(i=ke(t))*ve(e))/(i*a*s)):(t+r)/2}function yw(e,t,n,r){var i;if(e==null)i=n*We,r.point(-Ae,i),r.point(0,i),r.point(Ae,i),r.point(Ae,0),r.point(Ae,-i),r.point(0,-i),r.point(-Ae,-i),r.point(-Ae,0),r.point(-Ae,i);else if(Oe(e[0]-t[0])>xe){var a=e[0]<t[0]?Ae:-Ae;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function _w(e){var t=ke(e),n=2*Ve,r=t>0,i=Oe(t)>xe;function a(u,d,h,p){dw(p,e,n,h,u,d)}function s(u,d){return ke(u)*ke(d)>t}function c(u){var d,h,p,m,g;return{lineStart:function(){m=p=!1,g=1},point:function(b,v){var _=[b,v],x,y=s(b,v),w=r?y?0:l(b,v):y?l(b+(b<0?Ae:-Ae),v):0;if(!d&&(m=p=y)&&u.lineStart(),y!==p&&(x=f(d,_),(!x||wa(d,x)||wa(_,x))&&(_[2]=1)),y!==p)g=0,y?(u.lineStart(),x=f(_,d),u.point(x[0],x[1])):(x=f(d,_),u.point(x[0],x[1],2),u.lineEnd()),d=x;else if(i&&d&&r^y){var M;!(w&h)&&(M=f(_,d,!0))&&(g=0,r?(u.lineStart(),u.point(M[0][0],M[0][1]),u.point(M[1][0],M[1][1]),u.lineEnd()):(u.point(M[1][0],M[1][1]),u.lineEnd(),u.lineStart(),u.point(M[0][0],M[0][1],3)))}y&&(!d||!wa(d,_))&&u.point(_[0],_[1]),d=_,p=y,h=w},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return g|(m&&p)<<1}}}function f(u,d,h){var p=fi(u),m=fi(d),g=[1,0,0],b=qa(p,m),v=Zo(b,b),_=b[0],x=v-_*_;if(!x)return!h&&u;var y=t*v/x,w=-t*_/x,M=qa(g,b),k=Jo(g,y),A=Jo(b,w);Sc(k,A);var N=M,D=Zo(k,N),S=Zo(N,N),T=D*D-S*(Zo(k,k)-1);if(!(T<0)){var F=Ft(T),L=Jo(N,(-D-F)/S);if(Sc(L,k),L=Ef(L),!h)return L;var E=u[0],U=d[0],j=u[1],ne=d[1],te;U<E&&(te=E,E=U,U=te);var Y=U-E,H=Oe(Y-Ae)<xe,ee=H||Y<xe;if(!H&&ne<j&&(te=j,j=ne,ne=te),ee?H?j+ne>0^L[1]<(Oe(L[0]-E)<xe?j:ne):j<=L[1]&&L[1]<=ne:Y>Ae^(E<=L[0]&&L[0]<=U)){var J=Jo(N,(-D+F)/S);return Sc(J,k),[L,Ef(J)]}}}function l(u,d){var h=r?e:Ae-e,p=0;return u<-h?p|=1:u>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return h1(s,c,a,r?[0,-e]:[-Ae,e-Ae])}function vw(e,t,n,r,i,a){var s=e[0],c=e[1],f=t[0],l=t[1],u=0,d=1,h=f-s,p=l-c,m;if(m=n-s,!(!h&&m>0)){if(m/=h,h<0){if(m<u)return;m<d&&(d=m)}else if(h>0){if(m>d)return;m>u&&(u=m)}if(m=i-s,!(!h&&m<0)){if(m/=h,h<0){if(m>d)return;m>u&&(u=m)}else if(h>0){if(m<u)return;m<d&&(d=m)}if(m=r-c,!(!p&&m>0)){if(m/=p,p<0){if(m<u)return;m<d&&(d=m)}else if(p>0){if(m>d)return;m>u&&(u=m)}if(m=a-c,!(!p&&m<0)){if(m/=p,p<0){if(m>d)return;m>u&&(u=m)}else if(p>0){if(m<u)return;m<d&&(d=m)}return u>0&&(e[0]=s+u*h,e[1]=c+u*p),d<1&&(t[0]=s+d*h,t[1]=c+d*p),!0}}}}}var qi=1e9,ea=-qi;function p1(e,t,n,r){function i(l,u){return e<=l&&l<=n&&t<=u&&u<=r}function a(l,u,d,h){var p=0,m=0;if(l==null||(p=s(l,d))!==(m=s(u,d))||f(l,u)<0^d>0)do h.point(p===0||p===3?e:n,p>1?r:t);while((p=(p+d+4)%4)!==m);else h.point(u[0],u[1])}function s(l,u){return Oe(l[0]-e)<xe?u>0?0:3:Oe(l[0]-n)<xe?u>0?2:1:Oe(l[1]-t)<xe?u>0?1:0:u>0?3:2}function c(l,u){return f(l.x,u.x)}function f(l,u){var d=s(l,1),h=s(u,1);return d!==h?d-h:d===0?u[1]-l[1]:d===1?l[0]-u[0]:d===2?l[1]-u[1]:u[0]-l[0]}return function(l){var u=l,d=u1(),h,p,m,g,b,v,_,x,y,w,M,k={point:A,lineStart:T,lineEnd:F,polygonStart:D,polygonEnd:S};function A(E,U){i(E,U)&&u.point(E,U)}function N(){for(var E=0,U=0,j=p.length;U<j;++U)for(var ne=p[U],te=1,Y=ne.length,H=ne[0],ee,J,P=H[0],re=H[1];te<Y;++te)ee=P,J=re,H=ne[te],P=H[0],re=H[1],J<=r?re>r&&(P-ee)*(r-J)>(re-J)*(e-ee)&&++E:re<=r&&(P-ee)*(r-J)<(re-J)*(e-ee)&&--E;return E}function D(){u=d,h=[],p=[],M=!0}function S(){var E=N(),U=M&&E,j=(h=Hp(h)).length;(U||j)&&(l.polygonStart(),U&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),j&&d1(h,c,E,a,l),l.polygonEnd()),u=l,h=p=m=null}function T(){k.point=L,p&&p.push(m=[]),w=!0,y=!1,_=x=NaN}function F(){h&&(L(g,b),v&&y&&d.rejoin(),h.push(d.result())),k.point=A,y&&u.lineEnd()}function L(E,U){var j=i(E,U);if(p&&m.push([E,U]),w)g=E,b=U,v=j,w=!1,j&&(u.lineStart(),u.point(E,U));else if(j&&y)u.point(E,U);else{var ne=[_=Math.max(ea,Math.min(qi,_)),x=Math.max(ea,Math.min(qi,x))],te=[E=Math.max(ea,Math.min(qi,E)),U=Math.max(ea,Math.min(qi,U))];vw(ne,te,e,t,n,r)?(y||(u.lineStart(),u.point(ne[0],ne[1])),u.point(te[0],te[1]),j||u.lineEnd(),M=!1):j&&(u.lineStart(),u.point(E,U),M=!1)}_=E,x=U,y=j}return k}}const Df=e=>e;var kc=new Tr,If=new Tr,g1,m1,Lf,Of,Jn={point:Xt,lineStart:Xt,lineEnd:Xt,polygonStart:function(){Jn.lineStart=ww,Jn.lineEnd=Sw},polygonEnd:function(){Jn.lineStart=Jn.lineEnd=Jn.point=Xt,kc.add(Oe(If)),If=new Tr},result:function(){var e=kc/2;return kc=new Tr,e}};function ww(){Jn.point=xw}function xw(e,t){Jn.point=b1,g1=Lf=e,m1=Of=t}function b1(e,t){If.add(Of*e-Lf*t),Lf=e,Of=t}function Sw(){b1(g1,m1)}const $d=Jn;var li=1/0,za=li,ro=-li,Ua=ro,Mw={point:kw,lineStart:Xt,lineEnd:Xt,polygonStart:Xt,polygonEnd:Xt,result:function(){var e=[[li,za],[ro,Ua]];return ro=Ua=-(za=li=1/0),e}};function kw(e,t){e<li&&(li=e),e>ro&&(ro=e),t<za&&(za=t),t>Ua&&(Ua=t)}const Va=Mw;var Ff=0,Pf=0,zi=0,Ha=0,Wa=0,Qr=0,$f=0,Bf=0,Ui=0,y1,_1,_n,vn,sn={point:Dr,lineStart:Bd,lineEnd:Rd,polygonStart:function(){sn.lineStart=Tw,sn.lineEnd=Cw},polygonEnd:function(){sn.point=Dr,sn.lineStart=Bd,sn.lineEnd=Rd},result:function(){var e=Ui?[$f/Ui,Bf/Ui]:Qr?[Ha/Qr,Wa/Qr]:zi?[Ff/zi,Pf/zi]:[NaN,NaN];return Ff=Pf=zi=Ha=Wa=Qr=$f=Bf=Ui=0,e}};function Dr(e,t){Ff+=e,Pf+=t,++zi}function Bd(){sn.point=Aw}function Aw(e,t){sn.point=Ew,Dr(_n=e,vn=t)}function Ew(e,t){var n=e-_n,r=t-vn,i=Ft(n*n+r*r);Ha+=i*(_n+e)/2,Wa+=i*(vn+t)/2,Qr+=i,Dr(_n=e,vn=t)}function Rd(){sn.point=Dr}function Tw(){sn.point=Nw}function Cw(){v1(y1,_1)}function Nw(e,t){sn.point=v1,Dr(y1=_n=e,_1=vn=t)}function v1(e,t){var n=e-_n,r=t-vn,i=Ft(n*n+r*r);Ha+=i*(_n+e)/2,Wa+=i*(vn+t)/2,Qr+=i,i=vn*e-_n*t,$f+=i*(_n+e),Bf+=i*(vn+t),Ui+=i*3,Dr(_n=e,vn=t)}const jd=sn;function w1(e){this._context=e}w1.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ut);break}}},result:Xt};var Rf=new Tr,Ac,x1,S1,Vi,Hi,Ya={point:Xt,lineStart:function(){Ya.point=Dw},lineEnd:function(){Ac&&M1(x1,S1),Ya.point=Xt},polygonStart:function(){Ac=!0},polygonEnd:function(){Ac=null},result:function(){var e=+Rf;return Rf=new Tr,e}};function Dw(e,t){Ya.point=M1,x1=Vi=e,S1=Hi=t}function M1(e,t){Vi-=e,Hi-=t,Rf.add(Ft(Vi*Vi+Hi*Hi)),Vi=e,Hi=t}const qd=Ya;let zd,Ga,Ud,Vd;class Hd{constructor(t){this._append=t==null?k1:Iw(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Ud||this._append!==Ga){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Ud=r,Ga=this._append,Vd=this._,this._=i}this._+=Vd;break}}}result(){const t=this._;return this._="",t.length?t:null}}function k1(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Iw(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return k1;if(t!==zd){const n=10**t;zd=t,Ga=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Ga}function Ll(e,t){let n=3,r=4.5,i,a;function s(c){return c&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),wr(c,i(a))),a.result()}return s.area=function(c){return wr(c,i($d)),$d.result()},s.measure=function(c){return wr(c,i(qd)),qd.result()},s.bounds=function(c){return wr(c,i(Va)),Va.result()},s.centroid=function(c){return wr(c,i(jd)),jd.result()},s.projection=function(c){return arguments.length?(i=c==null?(e=null,Df):(e=c).stream,s):e},s.context=function(c){return arguments.length?(a=c==null?(t=null,new Hd(n)):new w1(t=c),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(c){return arguments.length?(r=typeof c=="function"?c:(a.pointRadius(+c),+c),s):r},s.digits=function(c){if(!arguments.length)return n;if(c==null)n=null;else{const f=Math.floor(c);if(!(f>=0))throw new RangeError(`invalid digits: ${c}`);n=f}return t===null&&(a=new Hd(n)),s},s.projection(e).digits(n).context(t)}function Xa(e){return{stream:Ts(e)}}function Ts(e){return function(t){var n=new jf;for(var r in e)n[r]=e[r];return n.stream=t,n}}function jf(){}jf.prototype={constructor:jf,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ol(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),wr(n,e.stream(Va)),t(Va.result()),r!=null&&e.clipExtent(r),e}function Fl(e,t,n){return Ol(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),c=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,f=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([c,f])},n)}function A1(e,t,n){return Fl(e,[[0,0],t],n)}function E1(e,t,n){return Ol(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,c=-a*r[0][1];e.scale(150*a).translate([s,c])},n)}function T1(e,t,n){return Ol(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],c=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,c])},n)}var Wd=16,Lw=ke(30*Ve);function Yd(e,t){return+t?Fw(e,t):Ow(e)}function Ow(e){return Ts({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Fw(e,t){function n(r,i,a,s,c,f,l,u,d,h,p,m,g,b){var v=l-r,_=u-i,x=v*v+_*_;if(x>4*t&&g--){var y=s+h,w=c+p,M=f+m,k=Ft(y*y+w*w+M*M),A=Jt(M/=k),N=Oe(Oe(M)-1)<xe||Oe(a-d)<xe?(a+d)/2:Vn(w,y),D=e(N,A),S=D[0],T=D[1],F=S-r,L=T-i,E=_*F-v*L;(E*E/x>t||Oe((v*F+_*L)/x-.5)>.3||s*h+c*p+f*m<Lw)&&(n(r,i,a,s,c,f,S,T,N,y/=k,w/=k,M,g,b),b.point(S,T),n(S,T,N,y,w,M,l,u,d,h,p,m,g,b))}}return function(r){var i,a,s,c,f,l,u,d,h,p,m,g,b={point:v,lineStart:_,lineEnd:y,polygonStart:function(){r.polygonStart(),b.lineStart=w},polygonEnd:function(){r.polygonEnd(),b.lineStart=_}};function v(A,N){A=e(A,N),r.point(A[0],A[1])}function _(){d=NaN,b.point=x,r.lineStart()}function x(A,N){var D=fi([A,N]),S=e(A,N);n(d,h,u,p,m,g,d=S[0],h=S[1],u=A,p=D[0],m=D[1],g=D[2],Wd,r),r.point(d,h)}function y(){b.point=v,r.lineEnd()}function w(){_(),b.point=M,b.lineEnd=k}function M(A,N){x(i=A,N),a=d,s=h,c=p,f=m,l=g,b.point=x}function k(){n(d,h,u,p,m,g,a,s,i,c,f,l,Wd,r),b.lineEnd=y,y()}return b}}var Pw=Ts({point:function(e,t){this.stream.point(e*Ve,t*Ve)}});function $w(e){return Ts({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Bw(e,t,n,r,i){function a(s,c){return s*=r,c*=i,[t+e*s,n-e*c]}return a.invert=function(s,c){return[(s-t)/e*r,(n-c)/e*i]},a}function Gd(e,t,n,r,i,a){if(!a)return Bw(e,t,n,r,i);var s=ke(a),c=ve(a),f=s*e,l=c*e,u=s/e,d=c/e,h=(c*n-s*t)/e,p=(c*t+s*n)/e;function m(g,b){return g*=r,b*=i,[f*g-l*b+t,n-l*g-f*b]}return m.invert=function(g,b){return[r*(u*g-d*b+h),i*(p-d*g-u*b)]},m}function gr(e){return C1(function(){return e})()}function C1(e){var t,n=150,r=480,i=250,a=0,s=0,c=0,f=0,l=0,u,d=0,h=1,p=1,m=null,g=Pd,b=null,v,_,x,y=Df,w=.5,M,k,A,N,D;function S(E){return A(E[0]*Ve,E[1]*Ve)}function T(E){return E=A.invert(E[0],E[1]),E&&[E[0]*Et,E[1]*Et]}S.stream=function(E){return N&&D===E?N:N=Pw($w(u)(g(M(y(D=E)))))},S.preclip=function(E){return arguments.length?(g=E,m=void 0,L()):g},S.postclip=function(E){return arguments.length?(y=E,b=v=_=x=null,L()):y},S.clipAngle=function(E){return arguments.length?(g=+E?_w(m=E*Ve):(m=null,Pd),L()):m*Et},S.clipExtent=function(E){return arguments.length?(y=E==null?(b=v=_=x=null,Df):p1(b=+E[0][0],v=+E[0][1],_=+E[1][0],x=+E[1][1]),L()):b==null?null:[[b,v],[_,x]]},S.scale=function(E){return arguments.length?(n=+E,F()):n},S.translate=function(E){return arguments.length?(r=+E[0],i=+E[1],F()):[r,i]},S.center=function(E){return arguments.length?(a=E[0]%360*Ve,s=E[1]%360*Ve,F()):[a*Et,s*Et]},S.rotate=function(E){return arguments.length?(c=E[0]%360*Ve,f=E[1]%360*Ve,l=E.length>2?E[2]%360*Ve:0,F()):[c*Et,f*Et,l*Et]},S.angle=function(E){return arguments.length?(d=E%360*Ve,F()):d*Et},S.reflectX=function(E){return arguments.length?(h=E?-1:1,F()):h<0},S.reflectY=function(E){return arguments.length?(p=E?-1:1,F()):p<0},S.precision=function(E){return arguments.length?(M=Yd(k,w=E*E),L()):Ft(w)},S.fitExtent=function(E,U){return Fl(S,E,U)},S.fitSize=function(E,U){return A1(S,E,U)},S.fitWidth=function(E,U){return E1(S,E,U)},S.fitHeight=function(E,U){return T1(S,E,U)};function F(){var E=Gd(n,0,0,h,p,d).apply(null,t(a,s)),U=Gd(n,r-E[0],i-E[1],h,p,d);return u=l1(c,f,l),k=Cf(t,U),A=Cf(u,k),M=Yd(k,w),L()}function L(){return N=D=null,S}return function(){return t=e.apply(this,arguments),S.invert=t.invert&&T,F()}}function Pl(e){var t=0,n=Ae/3,r=C1(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*Ve,n=a[1]*Ve):[t*Et,n*Et]},i}function Rw(e){var t=ke(e);function n(r,i){return[r*t,ve(i)/t]}return n.invert=function(r,i){return[r/t,Jt(i*t)]},n}function jw(e,t){var n=ve(e),r=(n+ve(t))/2;if(Oe(r)<xe)return Rw(e);var i=1+n*(2*r-n),a=Ft(i)/r;function s(c,f){var l=Ft(i-2*r*ve(f))/r;return[l*ve(c*=r),a-l*ke(c)]}return s.invert=function(c,f){var l=a-f,u=Vn(c,Oe(l))*Gt(l);return l*r<0&&(u-=Ae*Gt(c)*Gt(l)),[u/r,Jt((i-(c*c+l*l)*r*r)/(2*r))]},s}function Ka(){return Pl(jw).scale(155.424).center([0,33.6442])}function N1(){return Ka().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function qw(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function zw(){var e,t,n=N1(),r,i=Ka().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Ka().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,f,l={point:function(h,p){f=[h,p]}};function u(h){var p=h[0],m=h[1];return f=null,r.point(p,m),f||(a.point(p,m),f)||(c.point(p,m),f)}u.invert=function(h){var p=n.scale(),m=n.translate(),g=(h[0]-m[0])/p,b=(h[1]-m[1])/p;return(b>=.12&&b<.234&&g>=-.425&&g<-.214?i:b>=.166&&b<.234&&g>=-.214&&g<-.115?s:n).invert(h)},u.stream=function(h){return e&&t===h?e:e=qw([n.stream(t=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),m=+h[0],g=+h[1];return r=n.translate(h).clipExtent([[m-.455*p,g-.238*p],[m+.455*p,g+.238*p]]).stream(l),a=i.translate([m-.307*p,g+.201*p]).clipExtent([[m-.425*p+xe,g+.12*p+xe],[m-.214*p-xe,g+.234*p-xe]]).stream(l),c=s.translate([m-.205*p,g+.212*p]).clipExtent([[m-.214*p+xe,g+.166*p+xe],[m-.115*p-xe,g+.234*p-xe]]).stream(l),d()},u.fitExtent=function(h,p){return Fl(u,h,p)},u.fitSize=function(h,p){return A1(u,h,p)},u.fitWidth=function(h,p){return E1(u,h,p)},u.fitHeight=function(h,p){return T1(u,h,p)};function d(){return e=t=null,u}return u.scale(1070)}function D1(e){return function(t,n){var r=ke(t),i=ke(n),a=e(r*i);return a===1/0?[2,0]:[a*i*ve(t),a*ve(n)]}}function go(e){return function(t,n){var r=Ft(t*t+n*n),i=e(r),a=ve(i),s=ke(i);return[Vn(t*a,r*s),Jt(r&&n*a/r)]}}var I1=D1(function(e){return Ft(2/(1+e))});I1.invert=go(function(e){return 2*Jt(e/2)});function Uw(){return gr(I1).scale(124.75).clipAngle(180-.001)}var L1=D1(function(e){return(e=f1(e))&&e/ve(e)});L1.invert=go(function(e){return e});function Vw(){return gr(L1).scale(79.4188).clipAngle(180-.001)}function Cs(e,t){return[e,Ra(Il((We+t)/2))]}Cs.invert=function(e,t){return[e,2*ki(c1(t))-We]};function Hw(){return O1(Cs).scale(961/Ut)}function O1(e){var t=gr(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,c,f,l;t.scale=function(d){return arguments.length?(r(d),u()):r()},t.translate=function(d){return arguments.length?(i(d),u()):i()},t.center=function(d){return arguments.length?(n(d),u()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=c=f=l=null:(s=+d[0][0],c=+d[0][1],f=+d[1][0],l=+d[1][1]),u()):s==null?null:[[s,c],[f,l]]};function u(){var d=Ae*r(),h=t(uw(t.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===Cs?[[Math.max(h[0]-d,s),c],[Math.min(h[0]+d,f),l]]:[[s,Math.max(h[1]-d,c)],[f,Math.min(h[1]+d,l)]])}return u()}function ta(e){return Il((We+e)/2)}function Ww(e,t){var n=ke(e),r=e===t?ve(e):Ra(n/ke(t))/Ra(ta(t)/ta(e)),i=n*xc(ta(e),r)/r;if(!r)return Cs;function a(s,c){i>0?c<-We+xe&&(c=-We+xe):c>We-xe&&(c=We-xe);var f=i/xc(ta(c),r);return[f*ve(r*s),i-f*ke(r*s)]}return a.invert=function(s,c){var f=i-c,l=Gt(r)*Ft(s*s+f*f),u=Vn(s,Oe(f))*Gt(f);return f*r<0&&(u-=Ae*Gt(s)*Gt(f)),[u/r,2*ki(xc(i/l,1/r))-We]},a}function Yw(){return Pl(Ww).scale(109.5).parallels([30,30])}function Za(e,t){return[e,t]}Za.invert=Za;function Gw(){return gr(Za).scale(152.63)}function Xw(e,t){var n=ke(e),r=e===t?ve(e):(n-ke(t))/(t-e),i=n/r+e;if(Oe(r)<xe)return Za;function a(s,c){var f=i-c,l=r*s;return[f*ve(l),i-f*ke(l)]}return a.invert=function(s,c){var f=i-c,l=Vn(s,Oe(f))*Gt(f);return f*r<0&&(l-=Ae*Gt(s)*Gt(f)),[l/r,i-Gt(r)*Ft(s*s+f*f)]},a}function Kw(){return Pl(Xw).scale(131.154).center([0,13.9389])}var Xi=1.340264,Ki=-.081106,Zi=893e-6,Ji=.003796,Ja=Ft(3)/2,Zw=12;function F1(e,t){var n=Jt(Ja*ve(t)),r=n*n,i=r*r*r;return[e*ke(n)/(Ja*(Xi+3*Ki*r+i*(7*Zi+9*Ji*r))),n*(Xi+Ki*r+i*(Zi+Ji*r))]}F1.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,c,f;a<Zw&&(c=n*(Xi+Ki*r+i*(Zi+Ji*r))-t,f=Xi+3*Ki*r+i*(7*Zi+9*Ji*r),n-=s=c/f,r=n*n,i=r*r*r,!(Oe(s)<s1));++a);return[Ja*e*(Xi+3*Ki*r+i*(7*Zi+9*Ji*r))/ke(n),Jt(ve(n)/Ja)]};function Jw(){return gr(F1).scale(177.158)}function P1(e,t){var n=ke(t),r=ke(e)*n;return[n*ve(e)/r,ve(t)/r]}P1.invert=go(ki);function Qw(){return gr(P1).scale(144.049).clipAngle(60)}function $1(e,t){return[ke(t)*ve(e),ve(t)]}$1.invert=go(Jt);function e6(){return gr($1).scale(249.5).clipAngle(90+xe)}function B1(e,t){var n=ke(t),r=1+ke(e)*n;return[n*ve(e)/r,ve(t)/r]}B1.invert=go(function(e){return 2*ki(e)});function t6(){return gr(B1).scale(250).clipAngle(142)}function R1(e,t){return[Ra(Il((We+t)/2)),-e]}R1.invert=function(e,t){return[-t,2*ki(c1(e))-We]};function n6(){var e=O1(R1),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Cn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ns(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qf=Symbol("implicit");function $l(){var e=new Cr,t=[],n=[],r=qf;function i(a){let s=e.get(a);if(s===void 0){if(r!==qf)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Cr;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return $l(t,n).unknown(r)},Cn.apply(i,arguments),i}function Ds(){var e=$l().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,c=!1,f=0,l=0,u=.5;delete e.unknown;function d(){var h=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-f+l*2),c&&(a=Math.floor(a)),m+=(g-m-a*(h-f))*u,s=a*(1-f),c&&(m=Math.round(m),s=Math.round(s));var b=yf(h).map(function(v){return m+a*v});return n(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,c=!0,d()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(c=!!h,d()):c},e.padding=function(h){return arguments.length?(f=Math.min(1,l=+h),d()):f},e.paddingInner=function(h){return arguments.length?(f=Math.min(1,h),d()):f},e.paddingOuter=function(h){return arguments.length?(l=+h,d()):l},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return Ds(t(),[r,i]).round(c).paddingInner(f).paddingOuter(l).align(u)},Cn.apply(d(),arguments)}function j1(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return j1(t())},e}function r6(){return j1(Ds.apply(null,arguments).paddingInner(1))}function i6(e){return function(){return e}}function zf(e){return+e}var Xd=[0,1];function Kt(e){return e}function Uf(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:i6(isNaN(t)?NaN:.5)}function o6(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function a6(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Uf(i,r),a=n(s,a)):(r=Uf(r,i),a=n(a,s)),function(c){return a(r(c))}}function s6(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Uf(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(c){var f=Sl(e,c,1,r)-1;return a[f](i[f](c))}}function mo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Is(){var e=Xd,t=Xd,n=Si,r,i,a,s=Kt,c,f,l;function u(){var h=Math.min(e.length,t.length);return s!==Kt&&(s=o6(e[0],e[h-1])),c=h>2?s6:a6,f=l=null,d}function d(h){return h==null||isNaN(h=+h)?a:(f||(f=c(e.map(r),t,n)))(r(s(h)))}return d.invert=function(h){return s(i((l||(l=c(t,e.map(r),cr)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,zf),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=Cl,u()},d.clamp=function(h){return arguments.length?(s=h?!0:Kt,u()):s!==Kt},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function q1(){return Is()(Kt,Kt)}function c6(e,t,n,r){var i=mf(e,t,n),a;switch(r=no(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=fw(i,s))&&(r.precision=a),a1(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=lw(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=cw(i))&&(r.precision=a-(r.type==="%")*2);break}}return Mi(r)}function bo(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ia(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return c6(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],c=r[a],f,l,u=10;for(c<s&&(l=s,s=c,c=l,l=i,i=a,a=l);u-- >0;){if(l=gf(s,c,n),l===f)return r[i]=s,r[a]=c,t(r);if(l>0)s=Math.floor(s/l)*l,c=Math.ceil(c/l)*l;else if(l<0)s=Math.ceil(s*l)/l,c=Math.floor(c*l)/l;else break;f=l}return e},e}function Bl(){var e=q1();return e.copy=function(){return mo(e,Bl())},Cn.apply(e,arguments),bo(e)}function z1(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,zf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return z1(e).unknown(t)},e=arguments.length?Array.from(e,zf):[0,1],bo(n)}function U1(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Kd(e){return Math.log(e)}function Zd(e){return Math.exp(e)}function f6(e){return-Math.log(-e)}function l6(e){return-Math.exp(-e)}function u6(e){return isFinite(e)?+("1e"+e):e<0?0:e}function d6(e){return e===10?u6:e===Math.E?Math.exp:t=>Math.pow(e,t)}function h6(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Jd(e){return(t,n)=>-e(-t,n)}function V1(e){const t=e(Kd,Zd),n=t.domain;let r=10,i,a;function s(){return i=h6(r),a=d6(r),n()[0]<0?(i=Jd(i),a=Jd(a),e(f6,l6)):e(Kd,Zd),t}return t.base=function(c){return arguments.length?(r=+c,s()):r},t.domain=function(c){return arguments.length?(n(c),s()):n()},t.ticks=c=>{const f=n();let l=f[0],u=f[f.length-1];const d=u<l;d&&([l,u]=[u,l]);let h=i(l),p=i(u),m,g;const b=c==null?10:+c;let v=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),l>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<l)){if(g>u)break;v.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<l)){if(g>u)break;v.push(g)}v.length*2<b&&(v=Ia(l,u,b))}else v=Ia(h,p,Math.min(p-h,b)).map(a);return d?v.reverse():v},t.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=no(f)).precision==null&&(f.trim=!0),f=Mi(f)),c===1/0)return f;const l=Math.max(1,r*c/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=l?f(u):""}},t.nice=()=>n(U1(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),t}function H1(){const e=V1(Is()).domain([1,10]);return e.copy=()=>mo(e,H1()).base(e.base()),Cn.apply(e,arguments),e}function Qd(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eh(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function W1(e){var t=1,n=e(Qd(t),eh(t));return n.constant=function(r){return arguments.length?e(Qd(t=+r),eh(t)):t},bo(n)}function Y1(){var e=W1(Is());return e.copy=function(){return mo(e,Y1()).constant(e.constant())},Cn.apply(e,arguments)}function th(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function p6(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function g6(e){return e<0?-e*e:e*e}function G1(e){var t=e(Kt,Kt),n=1;function r(){return n===1?e(Kt,Kt):n===.5?e(p6,g6):e(th(n),th(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},bo(t)}function X1(){var e=G1(Is());return e.copy=function(){return mo(e,X1()).exponent(e.exponent())},Cn.apply(e,arguments),e}function K1(){var e=[],t=[],n=[],r;function i(){var s=0,c=Math.max(1,t.length);for(n=new Array(c-1);++s<c;)n[s-1]=dv(e,s/c);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Sl(n,s)]}return a.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Ot),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return K1().domain(e).range(t).unknown(r)},Cn.apply(a,arguments)}function Z1(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Sl(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Z1().domain(e).range(t).unknown(n)},Cn.apply(i,arguments)}const Ec=new Date,Tc=new Date;function nt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),c=i.ceil(a);return a-s<c-a?s:c},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,c)=>{const f=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<s)||!(c>0))return f;let l;do f.push(l=new Date(+a)),t(a,c),e(a);while(l<a&&a<s);return f},i.filter=a=>nt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!a(s););else for(;--c>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Ec.setTime(+a),Tc.setTime(+s),e(Ec),e(Tc),Math.floor(n(Ec,Tc))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Qa=nt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Qa.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?nt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Qa);Qa.range;const Rn=1e3,Zt=Rn*60,jn=Zt*60,Hn=jn*24,Rl=Hn*7,nh=Hn*30,Cc=Hn*365,cn=nt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getUTCSeconds());cn.range;const yo=nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rn)},(e,t)=>{e.setTime(+e+t*Zt)},(e,t)=>(t-e)/Zt,e=>e.getMinutes());yo.range;const _o=nt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zt)},(e,t)=>(t-e)/Zt,e=>e.getUTCMinutes());_o.range;const vo=nt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rn-e.getMinutes()*Zt)},(e,t)=>{e.setTime(+e+t*jn)},(e,t)=>(t-e)/jn,e=>e.getHours());vo.range;const wo=nt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*jn)},(e,t)=>(t-e)/jn,e=>e.getUTCHours());wo.range;const Pr=nt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zt)/Hn,e=>e.getDate()-1);Pr.range;const Ls=nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>e.getUTCDate()-1);Ls.range;const Os=nt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>Math.floor(e/Hn));Os.range;function $r(e){return nt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Zt)/Rl)}const ui=$r(0),io=$r(1),J1=$r(2),Q1=$r(3),Ir=$r(4),eg=$r(5),tg=$r(6);ui.range;io.range;J1.range;Q1.range;Ir.range;eg.range;tg.range;function Br(e){return nt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Rl)}const di=Br(0),oo=Br(1),ng=Br(2),rg=Br(3),Lr=Br(4),ig=Br(5),og=Br(6);di.range;oo.range;ng.range;rg.range;Lr.range;ig.range;og.range;const xo=nt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xo.range;const So=nt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());So.range;const un=nt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());un.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});un.range;const dn=nt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());dn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:nt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});dn.range;function ag(e,t,n,r,i,a){const s=[[cn,1,Rn],[cn,5,5*Rn],[cn,15,15*Rn],[cn,30,30*Rn],[a,1,Zt],[a,5,5*Zt],[a,15,15*Zt],[a,30,30*Zt],[i,1,jn],[i,3,3*jn],[i,6,6*jn],[i,12,12*jn],[r,1,Hn],[r,2,2*Hn],[n,1,Rl],[t,1,nh],[t,3,3*nh],[e,1,Cc]];function c(l,u,d){const h=u<l;h&&([l,u]=[u,l]);const p=d&&typeof d.range=="function"?d:f(l,u,d),m=p?p.range(l,+u+1):[];return h?m.reverse():m}function f(l,u,d){const h=Math.abs(u-l)/d,p=Ms(([,,b])=>b).right(s,h);if(p===s.length)return e.every(mf(l/Cc,u/Cc,d));if(p===0)return Qa.every(Math.max(mf(l,u,d),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[c,f]}const[m6,b6]=ag(dn,So,di,Os,wo,_o),[y6,_6]=ag(un,xo,ui,Pr,vo,yo);function Nc(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dc(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Li(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function v6(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,c=e.months,f=e.shortMonths,l=Oi(i),u=Fi(i),d=Oi(a),h=Fi(a),p=Oi(s),m=Fi(s),g=Oi(c),b=Fi(c),v=Oi(f),_=Fi(f),x={a:j,A:ne,b:te,B:Y,c:null,d:ch,e:ch,f:U6,g:Q6,G:t3,H:j6,I:q6,j:z6,L:sg,m:V6,M:H6,p:H,q:ee,Q:uh,s:dh,S:W6,u:Y6,U:G6,V:X6,w:K6,W:Z6,x:null,X:null,y:J6,Y:e3,Z:n3,"%":lh},y={a:J,A:P,b:re,B:ue,c:null,d:fh,e:fh,f:a3,g:m3,G:y3,H:r3,I:i3,j:o3,L:fg,m:s3,M:c3,p:G,q:ce,Q:uh,s:dh,S:f3,u:l3,U:u3,V:d3,w:h3,W:p3,x:null,X:null,y:g3,Y:b3,Z:_3,"%":lh},w={a:D,A:S,b:T,B:F,c:L,d:ah,e:ah,f:P6,g:oh,G:ih,H:sh,I:sh,j:I6,L:F6,m:D6,M:L6,p:N,q:N6,Q:B6,s:R6,S:O6,u:k6,U:A6,V:E6,w:M6,W:T6,x:E,X:U,y:oh,Y:ih,Z:C6,"%":$6};x.x=M(n,x),x.X=M(r,x),x.c=M(t,x),y.x=M(n,y),y.X=M(r,y),y.c=M(t,y);function M(C,V){return function(X){var q=[],fe=-1,se=0,de=C.length,me,W,le;for(X instanceof Date||(X=new Date(+X));++fe<de;)C.charCodeAt(fe)===37&&(q.push(C.slice(se,fe)),(W=rh[me=C.charAt(++fe)])!=null?me=C.charAt(++fe):W=me==="e"?" ":"0",(le=V[me])&&(me=le(X,W)),q.push(me),se=fe+1);return q.push(C.slice(se,fe)),q.join("")}}function k(C,V){return function(X){var q=Li(1900,void 0,1),fe=A(q,C,X+="",0),se,de;if(fe!=X.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(V&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(se=Dc(Li(q.y,0,1)),de=se.getUTCDay(),se=de>4||de===0?oo.ceil(se):oo(se),se=Ls.offset(se,(q.V-1)*7),q.y=se.getUTCFullYear(),q.m=se.getUTCMonth(),q.d=se.getUTCDate()+(q.w+6)%7):(se=Nc(Li(q.y,0,1)),de=se.getDay(),se=de>4||de===0?io.ceil(se):io(se),se=Pr.offset(se,(q.V-1)*7),q.y=se.getFullYear(),q.m=se.getMonth(),q.d=se.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),de="Z"in q?Dc(Li(q.y,0,1)).getUTCDay():Nc(Li(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(de+5)%7:q.w+q.U*7-(de+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Dc(q)):Nc(q)}}function A(C,V,X,q){for(var fe=0,se=V.length,de=X.length,me,W;fe<se;){if(q>=de)return-1;if(me=V.charCodeAt(fe++),me===37){if(me=V.charAt(fe++),W=w[me in rh?V.charAt(fe++):me],!W||(q=W(C,X,q))<0)return-1}else if(me!=X.charCodeAt(q++))return-1}return q}function N(C,V,X){var q=l.exec(V.slice(X));return q?(C.p=u.get(q[0].toLowerCase()),X+q[0].length):-1}function D(C,V,X){var q=p.exec(V.slice(X));return q?(C.w=m.get(q[0].toLowerCase()),X+q[0].length):-1}function S(C,V,X){var q=d.exec(V.slice(X));return q?(C.w=h.get(q[0].toLowerCase()),X+q[0].length):-1}function T(C,V,X){var q=v.exec(V.slice(X));return q?(C.m=_.get(q[0].toLowerCase()),X+q[0].length):-1}function F(C,V,X){var q=g.exec(V.slice(X));return q?(C.m=b.get(q[0].toLowerCase()),X+q[0].length):-1}function L(C,V,X){return A(C,t,V,X)}function E(C,V,X){return A(C,n,V,X)}function U(C,V,X){return A(C,r,V,X)}function j(C){return s[C.getDay()]}function ne(C){return a[C.getDay()]}function te(C){return f[C.getMonth()]}function Y(C){return c[C.getMonth()]}function H(C){return i[+(C.getHours()>=12)]}function ee(C){return 1+~~(C.getMonth()/3)}function J(C){return s[C.getUTCDay()]}function P(C){return a[C.getUTCDay()]}function re(C){return f[C.getUTCMonth()]}function ue(C){return c[C.getUTCMonth()]}function G(C){return i[+(C.getUTCHours()>=12)]}function ce(C){return 1+~~(C.getUTCMonth()/3)}return{format:function(C){var V=M(C+="",x);return V.toString=function(){return C},V},parse:function(C){var V=k(C+="",!1);return V.toString=function(){return C},V},utcFormat:function(C){var V=M(C+="",y);return V.toString=function(){return C},V},utcParse:function(C){var V=k(C+="",!0);return V.toString=function(){return C},V}}}var rh={"-":"",_:" ",0:"0"},at=/^\s*\d+/,w6=/^%/,x6=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function S6(e){return e.replace(x6,"\\$&")}function Oi(e){return new RegExp("^(?:"+e.map(S6).join("|")+")","i")}function Fi(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function M6(e,t,n){var r=at.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function k6(e,t,n){var r=at.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function A6(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function E6(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function T6(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ih(e,t,n){var r=at.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function oh(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function C6(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function N6(e,t,n){var r=at.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function D6(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ah(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function I6(e,t,n){var r=at.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function sh(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function L6(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function O6(e,t,n){var r=at.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function F6(e,t,n){var r=at.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function P6(e,t,n){var r=at.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $6(e,t,n){var r=w6.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function B6(e,t,n){var r=at.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function R6(e,t,n){var r=at.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ch(e,t){return Ne(e.getDate(),t,2)}function j6(e,t){return Ne(e.getHours(),t,2)}function q6(e,t){return Ne(e.getHours()%12||12,t,2)}function z6(e,t){return Ne(1+Pr.count(un(e),e),t,3)}function sg(e,t){return Ne(e.getMilliseconds(),t,3)}function U6(e,t){return sg(e,t)+"000"}function V6(e,t){return Ne(e.getMonth()+1,t,2)}function H6(e,t){return Ne(e.getMinutes(),t,2)}function W6(e,t){return Ne(e.getSeconds(),t,2)}function Y6(e){var t=e.getDay();return t===0?7:t}function G6(e,t){return Ne(ui.count(un(e)-1,e),t,2)}function cg(e){var t=e.getDay();return t>=4||t===0?Ir(e):Ir.ceil(e)}function X6(e,t){return e=cg(e),Ne(Ir.count(un(e),e)+(un(e).getDay()===4),t,2)}function K6(e){return e.getDay()}function Z6(e,t){return Ne(io.count(un(e)-1,e),t,2)}function J6(e,t){return Ne(e.getFullYear()%100,t,2)}function Q6(e,t){return e=cg(e),Ne(e.getFullYear()%100,t,2)}function e3(e,t){return Ne(e.getFullYear()%1e4,t,4)}function t3(e,t){var n=e.getDay();return e=n>=4||n===0?Ir(e):Ir.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function n3(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function fh(e,t){return Ne(e.getUTCDate(),t,2)}function r3(e,t){return Ne(e.getUTCHours(),t,2)}function i3(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function o3(e,t){return Ne(1+Ls.count(dn(e),e),t,3)}function fg(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function a3(e,t){return fg(e,t)+"000"}function s3(e,t){return Ne(e.getUTCMonth()+1,t,2)}function c3(e,t){return Ne(e.getUTCMinutes(),t,2)}function f3(e,t){return Ne(e.getUTCSeconds(),t,2)}function l3(e){var t=e.getUTCDay();return t===0?7:t}function u3(e,t){return Ne(di.count(dn(e)-1,e),t,2)}function lg(e){var t=e.getUTCDay();return t>=4||t===0?Lr(e):Lr.ceil(e)}function d3(e,t){return e=lg(e),Ne(Lr.count(dn(e),e)+(dn(e).getUTCDay()===4),t,2)}function h3(e){return e.getUTCDay()}function p3(e,t){return Ne(oo.count(dn(e)-1,e),t,2)}function g3(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function m3(e,t){return e=lg(e),Ne(e.getUTCFullYear()%100,t,2)}function b3(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function y3(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Lr(e):Lr.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function _3(){return"+0000"}function lh(){return"%"}function uh(e){return+e}function dh(e){return Math.floor(+e/1e3)}var Yr,jl,Mo;v3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function v3(e){return Yr=v6(e),jl=Yr.format,Yr.parse,Mo=Yr.utcFormat,Yr.utcParse,Yr}function w3(e){return new Date(e)}function x3(e){return e instanceof Date?+e:+new Date(+e)}function ql(e,t,n,r,i,a,s,c,f,l){var u=q1(),d=u.invert,h=u.domain,p=l(".%L"),m=l(":%S"),g=l("%I:%M"),b=l("%I %p"),v=l("%a %d"),_=l("%b %d"),x=l("%B"),y=l("%Y");function w(M){return(f(M)<M?p:c(M)<M?m:s(M)<M?g:a(M)<M?b:r(M)<M?i(M)<M?v:_:n(M)<M?x:y)(M)}return u.invert=function(M){return new Date(d(M))},u.domain=function(M){return arguments.length?h(Array.from(M,x3)):h().map(w3)},u.ticks=function(M){var k=h();return e(k[0],k[k.length-1],M??10)},u.tickFormat=function(M,k){return k==null?w:l(k)},u.nice=function(M){var k=h();return(!M||typeof M.range!="function")&&(M=t(k[0],k[k.length-1],M??10)),M?h(U1(k,M)):u},u.copy=function(){return mo(u,ql(e,t,n,r,i,a,s,c,f,l))},u}function S3(){return Cn.apply(ql(y6,_6,un,xo,ui,Pr,vo,yo,cn,jl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function M3(){return Cn.apply(ql(m6,b6,dn,So,di,Ls,wo,_o,cn,Mo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ps(){var e=0,t=.5,n=1,r=1,i,a,s,c,f,l=Kt,u,d=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-a)*(r*g<r*a?c:f),l(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),a=u(t=+t),s=u(n=+n),c=i===a?0:.5/(a-i),f=a===s?0:.5/(s-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(l=g,p):l};function m(g){return function(b){var v,_,x;return arguments.length?([v,_,x]=b,l=Es(g,[v,_,x]),p):[l(0),l(.5),l(1)]}}return p.range=m(Si),p.rangeRound=m(Cl),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(e),a=g(t),s=g(n),c=i===a?0:.5/(a-i),f=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function ug(){var e=bo(Ps()(Kt));return e.copy=function(){return Fs(e,ug())},Ns.apply(e,arguments)}function dg(){var e=V1(Ps()).domain([.1,1,10]);return e.copy=function(){return Fs(e,dg()).base(e.base())},Ns.apply(e,arguments)}function hg(){var e=W1(Ps());return e.copy=function(){return Fs(e,hg()).constant(e.constant())},Ns.apply(e,arguments)}function pg(){var e=G1(Ps());return e.copy=function(){return Fs(e,pg()).exponent(e.exponent())},Ns.apply(e,arguments)}function we(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const k3=we("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),A3=we("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),E3=we("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),T3=we("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),C3=we("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),N3=we("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),D3=we("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),I3=we("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),L3=we("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),O3=we("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),F3=we("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Be=e=>P2(e[e.length-1]);var gg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(we);const mg=Be(gg);var bg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(we);const yg=Be(bg);var _g=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(we);const vg=Be(_g);var wg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(we);const xg=Be(wg);var Vf=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(we);const es=Be(Vf);var Sg=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(we);const Mg=Be(Sg);var Hf=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(we);const ts=Be(Hf);var kg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(we);const Ag=Be(kg);var Eg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(we);const Tg=Be(Eg);var Cg=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(we);const Ng=Be(Cg);var Dg=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(we);const Ig=Be(Dg);var Lg=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(we);const Og=Be(Lg);var Fg=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(we);const Pg=Be(Fg);var $g=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(we);const Bg=Be($g);var Rg=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(we);const jg=Be(Rg);var qg=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(we);const zg=Be(qg);var Ug=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(we);const Vg=Be(Ug);var Hg=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(we);const Wg=Be(Hg);var Yg=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(we);const Gg=Be(Yg);var Xg=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(we);const Kg=Be(Xg);var Zg=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(we);const Jg=Be(Zg);var Qg=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(we);const em=Be(Qg);var tm=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(we);const nm=Be(tm);var rm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(we);const im=Be(rm);var om=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(we);const am=Be(om);var sm=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(we);const cm=Be(sm);var fm=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(we);const lm=Be(fm);function um(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const dm=Nl(An(300,.5,0),An(-240,.5,1));var hm=Nl(An(-100,.75,.35),An(80,1.5,.8)),pm=Nl(An(260,.75,.35),An(80,1.5,.8)),na=An();function gm(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return na.h=360*e-100,na.s=1.5-1.5*t,na.l=.8-.9*t,na+""}var ra=Ta(),P3=Math.PI/3,$3=Math.PI*2/3;function mm(e){var t;return e=(.5-e)*Math.PI,ra.r=255*(t=Math.sin(e))*t,ra.g=255*(t=Math.sin(e+P3))*t,ra.b=255*(t=Math.sin(e+$3))*t,ra+""}function bm(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function $s(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const ym=$s(we("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var _m=$s(we("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),vm=$s(we("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),wm=$s(we("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Gr(e){return function(){return e}}const xm=Math.cos,zl=Math.min,ns=Math.sin,rt=Math.sqrt,hh=1e-12,rs=Math.PI,Bs=2*rs;function B3(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new i1(t)}function R3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sm(e){this._context=e}Sm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Rs(e){return new Sm(e)}function j3(e){return e[0]}function q3(e){return e[1]}function z3(e,t){var n=Gr(!0),r=null,i=Rs,a=null,s=B3(c);e=typeof e=="function"?e:e===void 0?j3:Gr(e),t=typeof t=="function"?t:t===void 0?q3:Gr(t);function c(f){var l,u=(f=R3(f)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),l=0;l<=u;++l)!(l<u&&n(d=f[l],l,f))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,l,f),+t(d,l,f));if(p)return a=null,p+""||null}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gr(+f),c):e},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gr(+f),c):t},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Gr(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),c):r},c}class Mm{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function U3(e){return new Mm(e,!0)}function V3(e){return new Mm(e,!1)}const H3=rt(3),km={draw(e,t){const n=rt(t+zl(t/28,.75))*.59436,r=n/2,i=r*H3;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},ao={draw(e,t){const n=rt(t/rs);e.moveTo(n,0),e.arc(0,0,n,0,Bs)}},Am={draw(e,t){const n=rt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Em=rt(1/3),W3=Em*2,Tm={draw(e,t){const n=rt(t/W3),r=n*Em;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Cm={draw(e,t){const n=rt(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},Nm={draw(e,t){const n=rt(t-zl(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},Dm={draw(e,t){const n=rt(t),r=-n/2;e.rect(r,r,n,n)}},Im={draw(e,t){const n=rt(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},Y3=.8908130915292852,Lm=ns(rs/10)/ns(7*rs/10),G3=ns(Bs/10)*Lm,X3=-xm(Bs/10)*Lm,Om={draw(e,t){const n=rt(t*Y3),r=G3*n,i=X3*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=Bs*a/5,c=xm(s),f=ns(s);e.lineTo(f*n,-c*n),e.lineTo(c*r-f*i,f*r+c*i)}e.closePath()}},Ic=rt(3),Fm={draw(e,t){const n=-rt(t/(Ic*3));e.moveTo(0,n*2),e.lineTo(-Ic*n,-n),e.lineTo(Ic*n,-n),e.closePath()}},K3=rt(3),Pm={draw(e,t){const n=rt(t)*.6824,r=n/2,i=n*K3/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Ht=-.5,Wt=rt(3)/2,Wf=1/rt(12),Z3=(Wf/2+1)*3,$m={draw(e,t){const n=rt(t/Z3),r=n/2,i=n*Wf,a=r,s=n*Wf+n,c=-a,f=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(c,f),e.lineTo(Ht*r-Wt*i,Wt*r+Ht*i),e.lineTo(Ht*a-Wt*s,Wt*a+Ht*s),e.lineTo(Ht*c-Wt*f,Wt*c+Ht*f),e.lineTo(Ht*r+Wt*i,Ht*i-Wt*r),e.lineTo(Ht*a+Wt*s,Ht*s-Wt*a),e.lineTo(Ht*c+Wt*f,Ht*f-Wt*c),e.closePath()}},Bm={draw(e,t){const n=rt(t-zl(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},J3=[ao,Am,Tm,Dm,Om,Fm,$m],Q3=[ao,Nm,Bm,Pm,km,Im,Cm];function lr(){}function is(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function js(e){this._context=e}js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:is(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:is(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e5(e){return new js(e)}function Rm(e){this._context=e}Rm.prototype={areaStart:lr,areaEnd:lr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:is(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t5(e){return new Rm(e)}function jm(e){this._context=e}jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:is(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n5(e){return new jm(e)}function qm(e,t){this._basis=new js(e),this._beta=t}qm.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,s=t[n]-i,c=-1,f;++c<=n;)f=c/n,this._basis.point(this._beta*e[c]+(1-this._beta)*(r+f*a),this._beta*t[c]+(1-this._beta)*(i+f*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const r5=function e(t){function n(r){return t===1?new js(r):new qm(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function os(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Ul(e,t){this._context=e,this._k=(1-t)/6}Ul.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:os(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:os(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const i5=function e(t){function n(r){return new Ul(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Vl(e,t){this._context=e,this._k=(1-t)/6}Vl.prototype={areaStart:lr,areaEnd:lr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:os(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const o5=function e(t){function n(r){return new Vl(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Hl(e,t){this._context=e,this._k=(1-t)/6}Hl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:os(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const a5=function e(t){function n(r){return new Hl(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Wl(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>hh){var c=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*c-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,i=(i*c-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>hh){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*l+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*l+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function zm(e,t){this._context=e,this._alpha=t}zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Wl(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const s5=function e(t){function n(r){return t?new zm(r,t):new Ul(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Um(e,t){this._context=e,this._alpha=t}Um.prototype={areaStart:lr,areaEnd:lr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Wl(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const c5=function e(t){function n(r){return t?new Um(r,t):new Vl(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Vm(e,t){this._context=e,this._alpha=t}Vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wl(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const f5=function e(t){function n(r){return t?new Vm(r,t):new Hl(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Hm(e){this._context=e}Hm.prototype={areaStart:lr,areaEnd:lr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function l5(e){return new Hm(e)}function ph(e){return e<0?-1:1}function gh(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),c=(a*i+s*r)/(r+i);return(ph(a)+ph(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function mh(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Lc(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,c=(a-r)/3;e._context.bezierCurveTo(r+c,i+c*t,a-c,s-c*n,a,s)}function as(e){this._context=e}as.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Lc(this,this._t0,mh(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Lc(this,mh(this,n=gh(this,e,t)),n);break;default:Lc(this,this._t0,n=gh(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Wm(e){this._context=new Ym(e)}(Wm.prototype=Object.create(as.prototype)).point=function(e,t){as.prototype.point.call(this,t,e)};function Ym(e){this._context=e}Ym.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function u5(e){return new as(e)}function d5(e){return new Wm(e)}function Gm(e){this._context=e}Gm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=bh(e),i=bh(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bh(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function h5(e){return new Gm(e)}function qs(e,t){this._context=e,this._t=t}qs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function p5(e){return new qs(e,.5)}function g5(e){return new qs(e,0)}function m5(e){return new qs(e,1)}const b5=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Xm(e){return typeof e>"u"||e===null}function y5(e){return typeof e=="object"&&e!==null}function _5(e){return Array.isArray(e)?e:Xm(e)?[]:[e]}function v5(e,t){var n,r,i,a;if(t)for(a=Object.keys(t),n=0,r=a.length;n<r;n+=1)i=a[n],e[i]=t[i];return e}function w5(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function x5(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var S5=Xm,M5=y5,k5=_5,A5=w5,E5=x5,T5=v5,Ct={isNothing:S5,isObject:M5,toArray:k5,repeat:A5,isNegativeZero:E5,extend:T5};function Km(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function so(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Km(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}so.prototype=Object.create(Error.prototype);so.prototype.constructor=so;so.prototype.toString=function(t){return this.name+": "+Km(this,t)};var $n=so;function Oc(e,t,n,r,i){var a="",s="",c=Math.floor(i/2)-1;return r-t>c&&(a=" ... ",t=r-c+a.length),n-r>c&&(s=" ...",n=r+c-s.length),{str:a+e.slice(t,n).replace(/\t/g,"→")+s,pos:r-t+a.length}}function Fc(e,t){return Ct.repeat(" ",t-e.length)+e}function C5(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],a,s=-1;a=n.exec(e.buffer);)i.push(a.index),r.push(a.index+a[0].length),e.position<=a.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var c="",f,l,u=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+u+3);for(f=1;f<=t.linesBefore&&!(s-f<0);f++)l=Oc(e.buffer,r[s-f],i[s-f],e.position-(r[s]-r[s-f]),d),c=Ct.repeat(" ",t.indent)+Fc((e.line-f+1).toString(),u)+" | "+l.str+`
`+c;for(l=Oc(e.buffer,r[s],i[s],e.position,d),c+=Ct.repeat(" ",t.indent)+Fc((e.line+1).toString(),u)+" | "+l.str+`
`,c+=Ct.repeat("-",t.indent+u+3+l.pos)+`^
`,f=1;f<=t.linesAfter&&!(s+f>=i.length);f++)l=Oc(e.buffer,r[s+f],i[s+f],e.position-(r[s]-r[s+f]),d),c+=Ct.repeat(" ",t.indent)+Fc((e.line+f+1).toString(),u)+" | "+l.str+`
`;return c.replace(/\n$/,"")}var N5=C5,D5=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],I5=["scalar","sequence","mapping"];function L5(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function O5(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(D5.indexOf(n)===-1)throw new $n('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=L5(t.styleAliases||null),I5.indexOf(this.kind)===-1)throw new $n('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var yt=O5;function yh(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(a,s){a.tag===r.tag&&a.kind===r.kind&&a.multi===r.multi&&(i=s)}),n[i]=r}),n}function F5(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function Yf(e){return this.extend(e)}Yf.prototype.extend=function(t){var n=[],r=[];if(t instanceof yt)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new $n("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof yt))throw new $n("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new $n("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new $n("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(a){if(!(a instanceof yt))throw new $n("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Yf.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=yh(i,"implicit"),i.compiledExplicit=yh(i,"explicit"),i.compiledTypeMap=F5(i.compiledImplicit,i.compiledExplicit),i};var P5=Yf,$5=new yt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),B5=new yt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),R5=new yt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),j5=new P5({explicit:[$5,B5,R5]});function q5(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function z5(){return null}function U5(e){return e===null}var V5=new yt("tag:yaml.org,2002:null",{kind:"scalar",resolve:q5,construct:z5,predicate:U5,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function H5(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function W5(e){return e==="true"||e==="True"||e==="TRUE"}function Y5(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var G5=new yt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:H5,construct:W5,predicate:Y5,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function X5(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function K5(e){return 48<=e&&e<=55}function Z5(e){return 48<=e&&e<=57}function J5(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!X5(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!K5(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!Z5(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function Q5(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function e4(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Ct.isNegativeZero(e)}var t4=new yt("tag:yaml.org,2002:int",{kind:"scalar",resolve:J5,construct:Q5,predicate:e4,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),n4=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function r4(e){return!(e===null||!n4.test(e)||e[e.length-1]==="_")}function i4(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var o4=/^[-+]?[0-9]+e/;function a4(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ct.isNegativeZero(e))return"-0.0";return n=e.toString(10),o4.test(n)?n.replace("e",".e"):n}function s4(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Ct.isNegativeZero(e))}var c4=new yt("tag:yaml.org,2002:float",{kind:"scalar",resolve:r4,construct:i4,predicate:s4,represent:a4,defaultStyle:"lowercase"}),f4=j5.extend({implicit:[V5,G5,t4,c4]}),l4=f4,Zm=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Jm=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function u4(e){return e===null?!1:Zm.exec(e)!==null||Jm.exec(e)!==null}function d4(e){var t,n,r,i,a,s,c,f=0,l=null,u,d,h;if(t=Zm.exec(e),t===null&&(t=Jm.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(a=+t[4],s=+t[5],c=+t[6],t[7]){for(f=t[7].slice(0,3);f.length<3;)f+="0";f=+f}return t[9]&&(u=+t[10],d=+(t[11]||0),l=(u*60+d)*6e4,t[9]==="-"&&(l=-l)),h=new Date(Date.UTC(n,r,i,a,s,c,f)),l&&h.setTime(h.getTime()-l),h}function h4(e){return e.toISOString()}var p4=new yt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:u4,construct:d4,instanceOf:Date,represent:h4});function g4(e){return e==="<<"||e===null}var m4=new yt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:g4}),Yl=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function b4(e){if(e===null)return!1;var t,n,r=0,i=e.length,a=Yl;for(n=0;n<i;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function y4(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,a=Yl,s=0,c=[];for(t=0;t<i;t++)t%4===0&&t&&(c.push(s>>16&255),c.push(s>>8&255),c.push(s&255)),s=s<<6|a.indexOf(r.charAt(t));return n=i%4*6,n===0?(c.push(s>>16&255),c.push(s>>8&255),c.push(s&255)):n===18?(c.push(s>>10&255),c.push(s>>2&255)):n===12&&c.push(s>>4&255),new Uint8Array(c)}function _4(e){var t="",n=0,r,i,a=e.length,s=Yl;for(r=0;r<a;r++)r%3===0&&r&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[r];return i=a%3,i===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):i===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):i===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function v4(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var w4=new yt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:b4,construct:y4,predicate:v4,represent:_4}),x4=Object.prototype.hasOwnProperty,S4=Object.prototype.toString;function M4(e){if(e===null)return!0;var t=[],n,r,i,a,s,c=e;for(n=0,r=c.length;n<r;n+=1){if(i=c[n],s=!1,S4.call(i)!=="[object Object]")return!1;for(a in i)if(x4.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function k4(e){return e!==null?e:[]}var A4=new yt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:M4,construct:k4}),E4=Object.prototype.toString;function T4(e){if(e===null)return!0;var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],E4.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;a[t]=[i[0],r[i[0]]]}return!0}function C4(e){if(e===null)return[];var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],i=Object.keys(r),a[t]=[i[0],r[i[0]]];return a}var N4=new yt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:T4,construct:C4}),D4=Object.prototype.hasOwnProperty;function I4(e){if(e===null)return!0;var t,n=e;for(t in n)if(D4.call(n,t)&&n[t]!==null)return!1;return!0}function L4(e){return e!==null?e:{}}var O4=new yt("tag:yaml.org,2002:set",{kind:"mapping",resolve:I4,construct:L4}),F4=l4.extend({implicit:[p4,m4],explicit:[w4,A4,N4,O4]}),ur=Object.prototype.hasOwnProperty,ss=1,Qm=2,eb=3,cs=4,Pc=1,P4=2,_h=3,$4=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,B4=/[\x85\u2028\u2029]/,R4=/[,\[\]\{\}]/,tb=/^(?:!|!!|![a-z\-]+!)$/i,nb=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function vh(e){return Object.prototype.toString.call(e)}function Mn(e){return e===10||e===13}function Mr(e){return e===9||e===32}function Lt(e){return e===9||e===32||e===10||e===13}function ei(e){return e===44||e===91||e===93||e===123||e===125}function j4(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function q4(e){return e===120?2:e===117?4:e===85?8:0}function z4(e){return 48<=e&&e<=57?e-48:-1}function wh(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function U4(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var rb=new Array(256),ib=new Array(256);for(var Xr=0;Xr<256;Xr++)rb[Xr]=wh(Xr)?1:0,ib[Xr]=wh(Xr);function V4(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||F4,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ob(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=N5(n),new $n(t,n)}function he(e,t){throw ob(e,t)}function fs(e,t){e.onWarning&&e.onWarning.call(null,ob(e,t))}var xh={YAML:function(t,n,r){var i,a,s;t.version!==null&&he(t,"duplication of %YAML directive"),r.length!==1&&he(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&he(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&he(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&fs(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,a;r.length!==2&&he(t,"TAG directive accepts exactly two arguments"),i=r[0],a=r[1],tb.test(i)||he(t,"ill-formed tag handle (first argument) of the TAG directive"),ur.call(t.tagMap,i)&&he(t,'there is a previously declared suffix for "'+i+'" tag handle'),nb.test(a)||he(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{he(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a}};function or(e,t,n,r){var i,a,s,c;if(t<n){if(c=e.input.slice(t,n),r)for(i=0,a=c.length;i<a;i+=1)s=c.charCodeAt(i),s===9||32<=s&&s<=1114111||he(e,"expected valid JSON character");else $4.test(c)&&he(e,"the stream contains non-printable characters");e.result+=c}}function Sh(e,t,n,r){var i,a,s,c;for(Ct.isObject(n)||he(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,c=i.length;s<c;s+=1)a=i[s],ur.call(t,a)||(t[a]=n[a],r[a]=!0)}function ti(e,t,n,r,i,a,s,c,f){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&he(e,"nested arrays are not supported inside keys"),typeof i=="object"&&vh(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&vh(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(l=0,u=a.length;l<u;l+=1)Sh(e,t,a[l],n);else Sh(e,t,a,n);else!e.json&&!ur.call(n,i)&&ur.call(t,i)&&(e.line=s||e.line,e.lineStart=c||e.lineStart,e.position=f||e.position,he(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete n[i];return t}function Gl(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):he(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Je(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Mr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Mn(i))for(Gl(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&fs(e,"deficient indentation"),r}function zs(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||Lt(n)))}function Xl(e,t){t===1?e.result+=" ":t>1&&(e.result+=Ct.repeat(`
`,t-1))}function H4(e,t,n){var r,i,a,s,c,f,l,u,d=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),Lt(p)||ei(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),Lt(i)||n&&ei(i)))return!1;for(e.kind="scalar",e.result="",a=s=e.position,c=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),Lt(i)||n&&ei(i))break}else if(p===35){if(r=e.input.charCodeAt(e.position-1),Lt(r))break}else{if(e.position===e.lineStart&&zs(e)||n&&ei(p))break;if(Mn(p))if(f=e.line,l=e.lineStart,u=e.lineIndent,Je(e,!1,-1),e.lineIndent>=t){c=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=f,e.lineStart=l,e.lineIndent=u;break}}c&&(or(e,a,s,!1),Xl(e,e.line-f),a=s=e.position,c=!1),Mr(p)||(s=e.position+1),p=e.input.charCodeAt(++e.position)}return or(e,a,s,!1),e.result?!0:(e.kind=d,e.result=h,!1)}function W4(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(or(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else Mn(n)?(or(e,r,i,!0),Xl(e,Je(e,!1,t)),r=i=e.position):e.position===e.lineStart&&zs(e)?he(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);he(e,"unexpected end of the stream within a single quoted scalar")}function Y4(e,t){var n,r,i,a,s,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return or(e,n,e.position,!0),e.position++,!0;if(c===92){if(or(e,n,e.position,!0),c=e.input.charCodeAt(++e.position),Mn(c))Je(e,!1,t);else if(c<256&&rb[c])e.result+=ib[c],e.position++;else if((s=q4(c))>0){for(i=s,a=0;i>0;i--)c=e.input.charCodeAt(++e.position),(s=j4(c))>=0?a=(a<<4)+s:he(e,"expected hexadecimal character");e.result+=U4(a),e.position++}else he(e,"unknown escape sequence");n=r=e.position}else Mn(c)?(or(e,n,r,!0),Xl(e,Je(e,!1,t)),n=r=e.position):e.position===e.lineStart&&zs(e)?he(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}he(e,"unexpected end of the stream within a double quoted scalar")}function G4(e,t){var n=!0,r,i,a,s=e.tag,c,f=e.anchor,l,u,d,h,p,m=Object.create(null),g,b,v,_;if(_=e.input.charCodeAt(e.position),_===91)u=93,p=!1,c=[];else if(_===123)u=125,p=!0,c={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),_=e.input.charCodeAt(++e.position);_!==0;){if(Je(e,!0,t),_=e.input.charCodeAt(e.position),_===u)return e.position++,e.tag=s,e.anchor=f,e.kind=p?"mapping":"sequence",e.result=c,!0;n?_===44&&he(e,"expected the node content, but found ','"):he(e,"missed comma between flow collection entries"),b=g=v=null,d=h=!1,_===63&&(l=e.input.charCodeAt(e.position+1),Lt(l)&&(d=h=!0,e.position++,Je(e,!0,t))),r=e.line,i=e.lineStart,a=e.position,hi(e,t,ss,!1,!0),b=e.tag,g=e.result,Je(e,!0,t),_=e.input.charCodeAt(e.position),(h||e.line===r)&&_===58&&(d=!0,_=e.input.charCodeAt(++e.position),Je(e,!0,t),hi(e,t,ss,!1,!0),v=e.result),p?ti(e,c,m,b,g,v,r,i,a):d?c.push(ti(e,null,m,b,g,v,r,i,a)):c.push(g),Je(e,!0,t),_=e.input.charCodeAt(e.position),_===44?(n=!0,_=e.input.charCodeAt(++e.position)):n=!1}he(e,"unexpected end of the stream within a flow collection")}function X4(e,t){var n,r,i=Pc,a=!1,s=!1,c=t,f=0,l=!1,u,d;if(d=e.input.charCodeAt(e.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)Pc===i?i=d===43?_h:P4:he(e,"repeat of a chomping mode identifier");else if((u=z4(d))>=0)u===0?he(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?he(e,"repeat of an indentation width identifier"):(c=t+u-1,s=!0);else break;if(Mr(d)){do d=e.input.charCodeAt(++e.position);while(Mr(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!Mn(d)&&d!==0)}for(;d!==0;){for(Gl(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<c)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>c&&(c=e.lineIndent),Mn(d)){f++;continue}if(e.lineIndent<c){i===_h?e.result+=Ct.repeat(`
`,a?1+f:f):i===Pc&&a&&(e.result+=`
`);break}for(r?Mr(d)?(l=!0,e.result+=Ct.repeat(`
`,a?1+f:f)):l?(l=!1,e.result+=Ct.repeat(`
`,f+1)):f===0?a&&(e.result+=" "):e.result+=Ct.repeat(`
`,f):e.result+=Ct.repeat(`
`,a?1+f:f),a=!0,s=!0,f=0,n=e.position;!Mn(d)&&d!==0;)d=e.input.charCodeAt(++e.position);or(e,n,e.position,!1)}return!0}function Mh(e,t){var n,r=e.tag,i=e.anchor,a=[],s,c=!1,f;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),f=e.input.charCodeAt(e.position);f!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,he(e,"tab characters must not be used in indentation")),!(f!==45||(s=e.input.charCodeAt(e.position+1),!Lt(s))));){if(c=!0,e.position++,Je(e,!0,-1)&&e.lineIndent<=t){a.push(null),f=e.input.charCodeAt(e.position);continue}if(n=e.line,hi(e,t,eb,!1,!0),a.push(e.result),Je(e,!0,-1),f=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&f!==0)he(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return c?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function K4(e,t,n){var r,i,a,s,c,f,l=e.tag,u=e.anchor,d={},h=Object.create(null),p=null,m=null,g=null,b=!1,v=!1,_;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),_=e.input.charCodeAt(e.position);_!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,he(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),a=e.line,(_===63||_===58)&&Lt(r))_===63?(b&&(ti(e,d,h,p,m,null,s,c,f),p=m=g=null),v=!0,b=!0,i=!0):b?(b=!1,i=!0):he(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,_=r;else{if(s=e.line,c=e.lineStart,f=e.position,!hi(e,n,Qm,!1,!0))break;if(e.line===a){for(_=e.input.charCodeAt(e.position);Mr(_);)_=e.input.charCodeAt(++e.position);if(_===58)_=e.input.charCodeAt(++e.position),Lt(_)||he(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(ti(e,d,h,p,m,null,s,c,f),p=m=g=null),v=!0,b=!1,i=!1,p=e.tag,m=e.result;else if(v)he(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=u,!0}else if(v)he(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=u,!0}if((e.line===a||e.lineIndent>t)&&(b&&(s=e.line,c=e.lineStart,f=e.position),hi(e,t,cs,!0,i)&&(b?m=e.result:g=e.result),b||(ti(e,d,h,p,m,g,s,c,f),p=m=g=null),Je(e,!0,-1),_=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&_!==0)he(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&ti(e,d,h,p,m,null,s,c,f),v&&(e.tag=l,e.anchor=u,e.kind="mapping",e.result=d),v}function Z4(e){var t,n=!1,r=!1,i,a,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&he(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(r=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(a=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):he(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Lt(s);)s===33&&(r?he(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),tb.test(i)||he(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),R4.test(a)&&he(e,"tag suffix cannot contain flow indicator characters")}a&&!nb.test(a)&&he(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{he(e,"tag name is malformed: "+a)}return n?e.tag=a:ur.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:he(e,'undeclared tag handle "'+i+'"'),!0}function J4(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&he(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Lt(n)&&!ei(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&he(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Q4(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Lt(r)&&!ei(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&he(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),ur.call(e.anchorMap,n)||he(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Je(e,!0,-1),!0}function hi(e,t,n,r,i){var a,s,c,f=1,l=!1,u=!1,d,h,p,m,g,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=c=cs===n||eb===n,r&&Je(e,!0,-1)&&(l=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),f===1)for(;Z4(e)||J4(e);)Je(e,!0,-1)?(l=!0,c=a,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):c=!1;if(c&&(c=l||i),(f===1||cs===n)&&(ss===n||Qm===n?g=t:g=t+1,b=e.position-e.lineStart,f===1?c&&(Mh(e,b)||K4(e,b,g))||G4(e,g)?u=!0:(s&&X4(e,g)||W4(e,g)||Y4(e,g)?u=!0:Q4(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&he(e,"alias node should not have any properties")):H4(e,g,ss===n)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):f===0&&(u=c&&Mh(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&he(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,h=e.implicitTypes.length;d<h;d+=1)if(m=e.implicitTypes[d],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ur.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,p=e.typeMap.multi[e.kind||"fallback"],d=0,h=p.length;d<h;d+=1)if(e.tag.slice(0,p[d].tag.length)===p[d].tag){m=p[d];break}m||he(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&he(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):he(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function e8(e){var t=e.position,n,r,i,a=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Je(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(a=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!Lt(s);)s=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&he(e,"directive name must not be less than one character in length");s!==0;){for(;Mr(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!Mn(s));break}if(Mn(s))break;for(n=e.position;s!==0&&!Lt(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}s!==0&&Gl(e),ur.call(xh,r)?xh[r](e,r,i):fs(e,'unknown document directive "'+r+'"')}if(Je(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Je(e,!0,-1)):a&&he(e,"directives end mark is expected"),hi(e,e.lineIndent-1,cs,!1,!0),Je(e,!0,-1),e.checkLineBreaks&&B4.test(e.input.slice(t,e.position))&&fs(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&zs(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Je(e,!0,-1));return}if(e.position<e.length-1)he(e,"end of the stream or a document separator is expected");else return}function ab(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new V4(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,he(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)e8(n);return n.documents}function t8(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=ab(e,n);if(typeof t!="function")return r;for(var i=0,a=r.length;i<a;i+=1)t(r[i])}function n8(e,t){var n=ab(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new $n("expected a single document in the stream, but found more")}}var r8=t8,i8=n8,o8={loadAll:r8,load:i8},a8=o8.load;function dr(e){return e!=null&&!Number.isNaN(e)}function En(e,t){return+dr(t)-+dr(e)||Ot(e,t)}function ls(e,t){return+dr(t)-+dr(e)||po(e,t)}function Kl(e){return e!=null&&`${e}`!=""}function sb(e){return isFinite(e)?e:NaN}function ko(e){return e>0&&isFinite(e)?e:NaN}function Us(e){return e<0&&isFinite(e)?e:NaN}function s8(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${c8(e.getUTCFullYear())}-${Pn(e.getUTCMonth()+1,2)}-${Pn(e.getUTCDate(),2)}${n||r||i||a?`T${Pn(n,2)}:${Pn(r,2)}${i||a?`:${Pn(i,2)}${a?`.${Pn(a,3)}`:""}`:""}Z`:""}`}function c8(e){return e<0?`-${Pn(-e,6)}`:e>9999?`+${Pn(e,6)}`:Pn(e,4)}function Pn(e,t){return`${e}`.padStart(t,"0")}const f8=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function cb(e,t){return f8.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function pi(e){if(e==null)return;const t=e[0],n=e[e.length-1];return po(t,n)}const ni=1e3,tr=ni*60,nr=tr*60,Tn=nr*24,mn=Tn*7,kr=Tn*30,Kn=Tn*365,$c=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",ni],["5 seconds",5*ni],["15 seconds",15*ni],["30 seconds",30*ni],["minute",tr],["5 minutes",5*tr],["15 minutes",15*tr],["30 minutes",30*tr],["hour",nr],["3 hours",3*nr],["6 hours",6*nr],["12 hours",12*nr],["day",Tn],["2 days",2*Tn],["week",mn],["2 weeks",2*mn],["month",kr],["3 months",3*kr],["6 months",6*kr],["year",Kn],["2 years",2*Kn],["5 years",5*Kn],["10 years",10*Kn],["20 years",20*Kn],["50 years",50*Kn],["100 years",100*Kn]],Zl=new Map([["second",ni],["minute",tr],["hour",nr],["day",Tn],["monday",mn],["tuesday",mn],["wednesday",mn],["thursday",mn],["friday",mn],["saturday",mn],["sunday",mn],["week",mn],["month",kr],["year",Kn]]),fb=new Map([["second",cn],["minute",yo],["hour",vo],["day",Pr],["monday",io],["tuesday",J1],["wednesday",Q1],["thursday",Ir],["friday",eg],["saturday",tg],["sunday",ui],["week",ui],["month",xo],["year",un]]),Jl=new Map([["second",cn],["minute",_o],["hour",wo],["day",Os],["monday",oo],["tuesday",ng],["wednesday",rg],["thursday",Lr],["friday",ig],["saturday",og],["sunday",di],["week",di],["month",So],["year",dn]]),Ao=Symbol("intervalDuration"),Vs=Symbol("intervalType");for(const[e,t]of fb)t[Ao]=Zl.get(e),t[Vs]="time";for(const[e,t]of Jl)t[Ao]=Zl.get(e),t[Vs]="utc";const Wi=[["year",dn,"utc"],["month",So,"utc"],["day",Os,"utc",6*kr],["hour",wo,"utc",3*Tn],["minute",_o,"utc",6*nr],["second",cn,"utc",30*tr]],xa=[["year",un,"time"],["month",xo,"time"],["day",Pr,"time",6*kr],["hour",vo,"time",3*Tn],["minute",yo,"time",6*nr],["second",cn,"time",30*tr]],l8=[Wi[0],xa[0],Wi[1],xa[1],Wi[2],xa[2],...Wi.slice(3)];function lb(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),n=+r[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let i=Jl.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function ub(e){return hb(lb(e),"time")}function db(e){return hb(lb(e),"utc")}function hb([e,t],n){let r=(n==="time"?fb:Jl).get(e);return t>1&&(r=r.every(t),r[Ao]=Zl.get(e)*t,r[Vs]=n),r}function kh(e,t){if(!(t>1))return;const n=e[Ao];if(!$c.some(([,i])=>i===n)||n%Tn===0&&Tn<n&&n<kr)return;const[r]=$c[Ms(([,i])=>Math.log(i)).center($c,Math.log(n*t))];return(e[Vs]==="time"?ub:db)(r)}function Ah(e,t,n){const r=t==="time"?jl:Mo;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=u8(n);switch(e){case"millisecond":return Kr(r(".%L"),r(":%M:%S"),i);case"second":return Kr(r(":%S"),r("%-I:%M"),i);case"minute":return Kr(r("%-I:%M"),r("%p"),i);case"hour":return Kr(r("%-I %p"),r("%b %-d"),i);case"day":return Kr(r("%-d"),r("%b"),i);case"month":return Kr(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function u8(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function d8(e){return e==="time"?xa:e==="utc"?Wi:l8}function h8(e,t,n){const r=zt(mv(t,(i,a)=>Math.abs(a-i)));if(r<1e3)return Ah("millisecond","utc",n);for(const[i,a,s,c]of d8(e)){if(r>c||i==="hour"&&!r)break;if(t.every(f=>a.floor(f)>=f))return Ah(i,s,n)}}function Kr(e,t,n){return(r,i,a)=>{const s=e(r,i),c=t(r,i),f=i-pi(a);return i!==f&&a[f]!==void 0&&c===t(a[f],f)?s:n(s,c)}}const Ql=Object.getPrototypeOf(Uint8Array),p8=Object.prototype.toString;function Rr(e){return e instanceof Array||e instanceof Ql}function pb(e){return e instanceof Ql&&!g8(e)}function gb(e){return(e==null?void 0:e.prototype)instanceof Ql&&!m8(e)}function g8(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function m8(e){return e===BigInt64Array||e===BigUint64Array}const mb=Symbol("reindex");function qt(e,t,n){const r=typeof t;return r==="string"?Cb(e)?eu(e.getChild(t),n):Eh(e,bb(t),n):r==="function"?Eh(e,t,n):r==="number"||t instanceof Date||r==="boolean"?tt(e,qn(t),n):typeof(t==null?void 0:t.transform)=="function"?Gf(t.transform(e),n):b8(Gf(t,n),e==null?void 0:e[mb])}function b8(e,t){return e!=null&&t?nu(e,t):e}function Eh(e,t,n){return tt(e,gb(n)?(r,i)=>tu(t(r,i)):t,n)}function Gf(e,t){return t===void 0?jr(e):Nb(e)?eu(e,t):e instanceof t?e:t.from(e,gb(t)&&!pb(e)?tu:void 0)}function eu(e,t){return e==null?e:(t===void 0||t===Array)&&z8(e.type)?vb(Th(e)):Gf(Th(e),t)}function Th(e){return e.nullCount?e.toJSON():e.toArray()}const Sa=[null],bb=e=>t=>{var r;const n=t[e];return n===void 0&&t.type==="Feature"?(r=t.properties)==null?void 0:r[e]:n},yb={transform:mr},$t={transform:e=>e},y8=()=>1,_8=()=>!0,gt=e=>e==null?e:`${e}`,mt=e=>e==null?e:+e,_b=e=>e?e[0]:void 0,v8=e=>e?e[1]:void 0,qn=e=>()=>e;function w8(e){const t=+`${e}`.slice(1)/100;return(n,r)=>La(n,t,r)}function rr(e){return pb(e)?e:tt(e,tu,Float64Array)}function tu(e){return e==null?NaN:Number(e)}function vb(e){return tt(e,x8)}function x8(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?cb(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function Or(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Ys(e)?[void 0,e]:[e,void 0]}function bt(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function wb(e,t,n){if(e!=null)return hn(e,t,n)}function hn(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function gi(e){return Cb(e)?e:jr(e)}function jr(e){if(e==null||Rr(e))return e;if(Nb(e))return eu(e);if(xb(e))switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;default:return[e]}return Array.from(e)}function xb(e){switch(e==null?void 0:e.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function tt(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function co(e,t=Array){return e instanceof t?e.slice():t.from(e)}function Sb({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function S8({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function M8(e){return Sb(e)||S8(e)||e.interval!==void 0}function qr(e){return(e==null?void 0:e.toString)===p8}function us(e){return qr(e)&&(e.type!==void 0||e.domain!==void 0)}function Hs(e){return qr(e)&&typeof e.transform!="function"}function mi(e){return Hs(e)&&e.value===void 0&&e.channel===void 0}function k8(e,t,n,r=$t){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function Eo(e,t){return e===void 0&&t===void 0?[_b,v8]:[e,t]}function Mb({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Or(t)),e===void 0&&([e]=Or(n)),e}function fo(e){return Rr(e)?e.length:e==null?void 0:e.numRows}function mr(e){const t=fo(e),n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function nu(e,t){return Rr(e)?tt(t,n=>e[n],e.constructor):tt(t,n=>e.at(n))}function A8(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function zn(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Xf(e){let t;return[{transform:()=>t,label:To(e)},n=>t=n]}function E8(e){return e==null?[e]:Xf(e)}function To(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function T8(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Qt(r)||Qt(i)?tt(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):tt(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:e.label}}function C8(e,t){const n=kb(t==null?void 0:t.interval,t==null?void 0:t.type);return n?tt(e,n):e}function kb(e,t){const n=ru(e,t);return n&&(r=>dr(r)?n.floor(r):r)}function ru(e,t){if(e!=null){if(typeof e=="number")return N8(e);if(typeof e=="string")return(t==="time"?ub:db)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function N8(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:n=>Math.floor(n*t)/t,offset:(n,r=1)=>(n*t+Math.floor(r))/t,range:(n,r)=>yf(Math.ceil(n*t),r*t).map(i=>i/t)}:{floor:n=>Math.floor(n/t)*t,offset:(n,r=1)=>n+t*Math.floor(r),range:(n,r)=>yf(Math.ceil(n/t),r/t).map(i=>i*t)}}function Co(e,t){if(e=ru(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function D8(e,t){if(e=Co(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function I8(e){return typeof(e==null?void 0:e.range)=="function"}function Ws(e){return e===void 0||Hs(e)?e:{value:e}}function L8(e){return e==null?null:{transform:t=>qt(t,e,Float64Array),label:To(e)}}function zr(e){return e&&typeof e[Symbol.iterator]=="function"}function Ab(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Ch(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Qt(e){for(const t of e)if(t!=null)return t instanceof Date}function O8(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&cb(t)}function F8(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function P8(e){for(const t of e)if(t!=null)return typeof t=="number"}function Bc(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const $8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Ys(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||$8.has(e))}function B8(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Dt(e){return e==null||lo(e)}function lo(e){return/^\s*none\s*$/i.test(e)}function R8(e){return/^\s*round\s*$/i.test(e)}function Kf(e,t){return wb(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Gs(e="middle"){return Kf(e,"frameAnchor")}function j8(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function q8(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function Eb(e){return zr(e)?q8(e):e}function Tb(e){return e===!0?e="frame":e===!1?e=null:!xb(e)&&e!=null&&(e=hn(e,"clip",["frame","sphere"]),e==="sphere"&&(e={type:"Sphere"})),e}function Cb(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function Nb(e){return e&&typeof e.toArray=="function"&&e.type}function z8(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const xn=Symbol("position"),Wn=Symbol("color"),No=Symbol("radius"),Do=Symbol("length"),Io=Symbol("opacity"),Xs=Symbol("symbol"),Db=Symbol("projection"),ze=new Map([["x",xn],["y",xn],["fx",xn],["fy",xn],["r",No],["color",Wn],["opacity",Io],["symbol",Xs],["length",Do],["projection",Db]]);function U8(e){return e===xn||e===Db}function V8(e){return e===xn||e===No||e===Do||e===Io}const H8=Math.sqrt(3),W8=2/H8,Y8={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*W8,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},iu=new Map([["asterisk",km],["circle",ao],["cross",Am],["diamond",Tm],["diamond2",Cm],["hexagon",Y8],["plus",Nm],["square",Dm],["square2",Im],["star",Om],["times",Bm],["triangle",Fm],["triangle2",Pm],["wye",$m]]);function ou(e){return e&&typeof e.draw=="function"}function G8(e){return ou(e)?!0:typeof e!="string"?!1:iu.has(e.toLowerCase())}function au(e){if(e==null||ou(e))return e;const t=iu.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function X8(e){if(e==null||ou(e))return[void 0,e];if(typeof e=="string"){const t=iu.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function su({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(e!=null&&(r=Ib(e)),t!=null&&!mi(t)&&(r=Rc(r,cu(t))),n&&(r=Rc(r,Lb))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||mi(t))&&{sort:t},transform:Rc(r,s)}}function Fr({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=Ib(e)),t!=null&&!mi(t)&&(r=jc(r,cu(t))),n&&(r=jc(r,Lb))),{...i,...(t===null||mi(t))&&{sort:t},initializer:jc(r,a)}}function Rc(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,gi(n),r,i)}}function jc(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let s,c,f,l,u,d;return{data:c=n,facets:f=r,channels:s}=e.call(this,n,r,i,...a),{data:u=c,facets:d=f,channels:l}=t.call(this,c,f,{...i,...s},...a),{data:u,facets:d,channels:{...s,...l}}}}function K8(e,t){return(e.initializer!=null?Fr:su)(e,t)}function Ib(e){return(t,n)=>{const r=qt(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function Lb(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function Z8(e,{sort:t,...n}={}){return{...(Hs(e)&&e.channel!==void 0?Fr:K8)(n,cu(e)),sort:mi(t)?t:null}}function cu(e){return(typeof e=="function"&&e.length!==1?J8:Q8)(e)}function J8(e){return(t,n)=>{const r=Rr(t)?(i,a)=>e(t[i],t[a]):(i,a)=>e(t.get(i),t.get(a));return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function Q8(e){let t,n;({channel:t,value:e,order:n}={...Ws(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?ls:En),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=En;break;case"descending":n=ls;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let c;if(t===void 0)c=qt(i,e);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(c=s[t],!c)return{};c=c.value}const f=(l,u)=>n(c[l],c[u]);return{data:i,facets:a.map(l=>l.slice().sort(f))}}}function e7(e,t,n=t7){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&qr(e))return n7(e);if(typeof e=="function")return r7(e);if(/^p\d{2}$/i.test(e))return Fn(w8(e));switch(`${e}`.toLowerCase()){case"first":return o7;case"last":return a7;case"identity":return i7;case"count":return Dh;case"distinct":return s7;case"sum":return t==null?Dh:c7;case"proportion":return Ih(t,"data");case"proportion-facet":return Ih(t,"facet");case"deviation":return Fn(iv);case"min":return Fn(kn);case"min-index":return Fn(uv);case"max":return Fn(zt);case"max-index":return Fn(lv);case"mean":return Nh(hv);case"median":return Nh(bf);case"variance":return Fn(Bp);case"mode":return Fn(gv)}return n(e)}function t7(e){throw new Error(`invalid reduce: ${e}`)}function n7(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function r7(e){return{reduceIndex(t,n,r){return e(nu(n,t),r)}}}function Fn(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function Nh(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Qt(n)?new Date(r):r}}}const i7={reduceIndex(e,t){return nu(t,e)}},o7={reduceIndex(e,t){return t[e[0]]}},a7={reduceIndex(e,t){return t[e[e.length-1]]}},Dh={label:"Frequency",reduceIndex(e){return e.length}},s7={label:"Distinct",reduceIndex(e,t){const n=new ks;for(const r of e)n.add(t[r]);return n.size}},c7=Fn(Nr);function Ih(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>Nr(n,a=>r[a])/i}}function uo(e,{scale:t,type:n,value:r,filter:i,hint:a,label:s=To(r)},c){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),Ob(c,{scale:t,type:n,value:qt(e,r),label:s,filter:i,hint:a})}function f7(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,uo(t,r,n)]))}function l7(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const s=i==null?null:t[i];return[r,s==null?a:tt(a,s)]}));return n.channels=e,n}function Ob(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&Bc(r,Ys)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&Bc(r,B8)?null:"opacity",t.defaultScale="opacity";break;case"symbol":n!==!0&&Bc(r,G8)?(t.scale=null,t.value=tt(r,au)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=ze.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!ze.has(n))throw new Error(`unknown scale: ${n}`);return t}function u7(e,t,n,r,i){const{order:a,reverse:s,reduce:c=!0,limit:f}=i;for(const l in i){if(!ze.has(l))continue;let{value:u,order:d=a,reverse:h=s,reduce:p=c,limit:m=f}=Ws(i[l]);const g=u==null?void 0:u.startsWith("-");if(g&&(u=u.slice(1)),d=d===void 0?g!==(u==="width"||u==="height")?Pb:Fb:p7(d),p==null||p===!1)continue;const b=l==="fx"||l==="fy"?h7(t,r[l]):d7(n,l);if(!b)throw new Error(`missing channel for scale: ${l}`);const v=b.value,[_=0,x=1/0]=zr(m)?m:m<0?[m]:[0,m];if(u==null)b.domain=()=>{let y=Array.from(new ks(v));return h&&(y=y.reverse()),(_!==0||x!==1/0)&&(y=y.slice(_,x)),y};else{const y=u==="data"?e:u==="height"?Lh(n,"y1","y2"):u==="width"?Lh(n,"x1","x2"):Zf(n,u,u==="y"?"y2":u==="x"?"x2":void 0),w=e7(p===!0?"max":p,y);b.domain=()=>{let M=ov(mr(v),k=>w.reduceIndex(k,y),k=>v[k]);return d&&M.sort(d),h&&M.reverse(),(_!==0||x!==1/0)&&(M=M.slice(_,x)),M.map(_b)}}}}function d7(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function h7(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const c of e[a])i[c]=s}return t}function Lh(e,t,n){const r=Zf(e,t),i=Zf(e,n);return tt(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function Zf(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function p7(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return Fb;case"descending":return Pb}throw new Error(`invalid order: ${e}`)}function Fb([e,t],[n,r]){return En(t,r)||En(e,n)}function Pb([e,t],[n,r]){return ls(t,r)||En(e,n)}function Oh(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const $b=new Map([["accent",A3],["category10",k3],["dark2",E3],["observable10",T3],["paired",C3],["pastel1",N3],["pastel2",D3],["set1",I3],["set2",L3],["set3",O3],["tableau10",F3]]);function g7(e){return e!=null&&$b.has(`${e}`.toLowerCase())}const Fh=new Map([...$b,["brbg",In(gg,mg)],["prgn",In(bg,yg)],["piyg",In(_g,vg)],["puor",In(wg,xg)],["rdbu",In(Vf,es)],["rdgy",In(Sg,Mg)],["rdylbu",In(Hf,ts)],["rdylgn",In(kg,Ag)],["spectral",In(Eg,Tg)],["burd",Ph(Vf,es)],["buylrd",Ph(Hf,ts)],["blues",ot(Qg,em)],["greens",ot(tm,nm)],["greys",ot(rm,im)],["oranges",ot(fm,lm)],["purples",ot(om,am)],["reds",ot(sm,cm)],["turbo",Ln(bm)],["viridis",Ln(ym)],["magma",Ln(_m)],["inferno",Ln(vm)],["plasma",Ln(wm)],["cividis",Ln(um)],["cubehelix",Ln(dm)],["warm",Ln(hm)],["cool",Ln(pm)],["bugn",ot(Cg,Ng)],["bupu",ot(Dg,Ig)],["gnbu",ot(Lg,Og)],["orrd",ot(Fg,Pg)],["pubu",ot(Rg,jg)],["pubugn",ot($g,Bg)],["purd",ot(qg,zg)],["rdpu",ot(Ug,Vg)],["ylgn",ot(Yg,Gg)],["ylgnbu",ot(Hg,Wg)],["ylorbr",ot(Xg,Kg)],["ylorrd",ot(Zg,Jg)],["rainbow",$h(gm)],["sinebow",$h(mm)]]);function ot(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?ln(t,n):e[n])}function In(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?ln(t,n):e[n])}function Ph(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?ln(r=>t(1-r),n):e[n].slice().reverse())}function Ln(e){return({length:t})=>ln(e,Math.max(2,Math.floor(t)))}function $h(e){return({length:t})=>ln(e,Math.floor(t)+1).slice(0,-1)}function Bb(e){const t=`${e}`.toLowerCase();if(!Fh.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Fh.get(t)}function Ks(e,t){const n=Bb(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function m7(e,t="greys"){const n=new Set,[r,i]=Ks(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const Bh=new Map([["brbg",mg],["prgn",yg],["piyg",vg],["puor",xg],["rdbu",es],["rdgy",Mg],["rdylbu",ts],["rdylgn",Ag],["spectral",Tg],["burd",e=>es(1-e)],["buylrd",e=>ts(1-e)],["blues",em],["greens",nm],["greys",im],["purples",am],["reds",cm],["oranges",lm],["turbo",bm],["viridis",ym],["magma",_m],["inferno",vm],["plasma",wm],["cividis",um],["cubehelix",dm],["warm",hm],["cool",pm],["bugn",Ng],["bupu",Ig],["gnbu",Og],["orrd",Pg],["pubugn",Bg],["pubu",jg],["purd",zg],["rdpu",Vg],["ylgnbu",Wg],["ylgn",Gg],["ylorbr",Kg],["ylorrd",Jg],["rainbow",gm],["sinebow",mm]]);function fu(e){const t=`${e}`.toLowerCase();if(!Bh.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Bh.get(t)}const b7=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function y7(e){return e!=null&&b7.has(`${e}`.toLowerCase())}const Rb=e=>t=>e(1-t),qc=[0,1],Rh=new Map([["number",cr],["rgb",Qi],["hsl",Bv],["hcl",qv],["lab",Rv]]);function jb(e){const t=`${e}`.toLowerCase();if(!Rh.has(t))throw new Error(`unknown interpolator: ${t}`);return Rh.get(t)}function Lo(e,t,n,{type:r,nice:i,clamp:a,zero:s,domain:c=zb(e,n),unknown:f,round:l,scheme:u,interval:d,range:h=ze.get(e)===No?C7(n,c):ze.get(e)===Do?N7(n,c):ze.get(e)===Io?qc:void 0,interpolate:p=ze.get(e)===Wn?u==null&&h!==void 0?Qi:fu(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):l?Cl:cr,reverse:m}){if(c=jh(c),d=Co(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof p!="function"&&(p=jb(p)),m=!!m,h!==void 0){const g=c.length,b=(h=jh(h)).length;if(g!==b){if(p.length===1)throw new Error("invalid piecewise interpolator");p=Es(p,h),h=void 0}}if(p.length===1?(m&&(p=Rb(p),m=!1),h===void 0&&(h=Float64Array.from(c,(g,b)=>b/(c.length-1)),h.length===2&&(h=qc)),t.interpolate((h===qc?qn:uu)(p))):t.interpolate(p),s){const[g,b]=ir(c);(g>0||b<0)&&(c=co(c),(pi(c)||1)===Math.sign(g)?c[0]=0:c[c.length-1]=0)}return m&&(c=Oa(c)),t.domain(c).unknown(f),i&&(t.nice(_7(i,r)),c=t.domain()),h!==void 0&&t.range(h),a&&t.clamp(a),{type:r,domain:c,range:h,scale:t,interpolate:p,interval:d}}function jh(e){return e=jr(e),e.length>=2?e:[e[0],e[0]]}function _7(e,t){return e===!0?void 0:typeof e=="number"?e:D8(e,t)}function v7(e,t,n){return Lo(e,Bl(),t,n)}function w7(e,t,n){return qb(e,t,{...n,exponent:.5})}function qb(e,t,{exponent:n=1,...r}){return Lo(e,X1().exponent(n),t,{...r,type:"pow"})}function x7(e,t,{base:n=10,domain:r=D7(t),...i}){return Lo(e,H1().base(n),t,{...i,domain:r})}function S7(e,t,{constant:n=1,...r}){return Lo(e,Y1().constant(n),t,r)}function M7(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=I7(t),unknown:c,interpolate:f,reverse:l}){return n===void 0&&(n=f!==void 0?ln(f,i):ze.get(e)===Wn?Ks(a,i):void 0),s.length>0&&(s=K1(s,n===void 0?{length:i}:n).quantiles()),lu(e,t,{domain:s,range:n,reverse:l,unknown:c})}function k7(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=zb(e,t),unknown:s,interpolate:c,reverse:f}){const[l,u]=ir(a);let d;return n===void 0?(d=Ia(l,u,r),d[0]<=l&&d.splice(0,1),d[d.length-1]>=u&&d.pop(),r=d.length+1,n=c!==void 0?ln(c,r):ze.get(e)===Wn?Ks(i,r):void 0):(d=ln(cr(l,u),r+1).slice(1,-1),l instanceof Date&&(d=d.map(h=>new Date(h)))),pi(jr(a))<0&&d.reverse(),lu(e,t,{domain:d,range:n,reverse:f,unknown:s})}function lu(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?ln(a,n.length+1):ze.get(e)===Wn?Ks(i,n.length+1):void 0,reverse:c}){n=jr(n);const f=pi(n);if(!isNaN(f)&&!A7(n,f))throw new Error(`the ${e} scale has a non-monotonic domain`);return c&&(s=Oa(s)),{type:"threshold",scale:Z1(f<0?Oa(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function A7(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=po(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function E7(e){return{type:"identity",scale:V8(ze.get(e))?z1():t=>t}}function ho(e,t=sb){return e.length?[kn(e,({value:n})=>n===void 0?n:kn(n,t)),zt(e,({value:n})=>n===void 0?n:zt(n,t))]:[0,1]}function zb(e,t){const n=ze.get(e);return(n===No||n===Io||n===Do?T7:ho)(t)}function T7(e){return[0,e.length?zt(e,({value:t})=>t===void 0?t:zt(t,sb)):1]}function C7(e,t){const n=e.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=La(e,.5,({value:s})=>s===void 0?NaN:La(s,.25,ko)),i=t.map(s=>3*Math.sqrt(s/r)),a=30/zt(i);return a<1?i.map(s=>s*a):i}function N7(e,t){const n=bf(e,({value:a})=>a===void 0?NaN:bf(a,Math.abs)),r=t.map(a=>12*a/n),i=60/zt(r);return i<1?r.map(a=>a*i):r}function D7(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return ho(e,ko);if(n<0)return ho(e,Us)}return[1,10]}function I7(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function uu(e){return(t,n)=>r=>e(t+r*(n-t))}let Jf=0,Qf;function L7(){const e=Jf;return Jf=0,Qf=void 0,e}function ar(e){e!==Qf&&(Qf=e,console.warn(e),++Jf)}function Zs(e,t,n,r,{type:i,nice:a,clamp:s,domain:c=ho(r),unknown:f,pivot:l=0,scheme:u,range:d,symmetric:h=!0,interpolate:p=ze.get(e)===Wn?u==null&&d!==void 0?Qi:fu(u!==void 0?u:"rdbu"):cr,reverse:m}){l=+l,c=jr(c);let[g,b]=c;if(c.length>2&&ar(`Warning: the diverging ${e} scale domain contains extra elements.`),po(g,b)<0&&([g,b]=[b,g],m=!m),g=Math.min(g,l),b=Math.max(b,l),typeof p!="function"&&(p=jb(p)),d!==void 0&&(p=p.length===1?uu(p)(...d):Es(p,d)),m&&(p=Rb(p)),h){const v=n.apply(l),_=v-n.apply(g),x=n.apply(b)-v;_<x?g=n.invert(v-x):_>x&&(b=n.invert(v+_))}return t.domain([g,l,b]).unknown(f).interpolator(p),s&&t.clamp(s),a&&t.nice(a),{type:i,domain:[g,b],pivot:l,interpolate:p,scale:t}}function O7(e,t,n){return Zs(e,ug(),B7,t,n)}function F7(e,t,n){return Ub(e,t,{...n,exponent:.5})}function Ub(e,t,{exponent:n=1,...r}){return Zs(e,pg().exponent(n=+n),q7(n),t,{...r,type:"diverging-pow"})}function P7(e,t,{base:n=10,pivot:r=1,domain:i=ho(t,r<0?Us:ko),...a}){return Zs(e,dg().base(n=+n),R7,t,{domain:i,pivot:r,...a})}function $7(e,t,{constant:n=1,...r}){return Zs(e,hg().constant(n=+n),z7(n),t,r)}const B7={apply(e){return e},invert(e){return e}},R7={apply:Math.log,invert:Math.exp},j7={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function q7(e){return e===.5?j7:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function z7(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Vb(e,t,n,r){return Lo(e,t,n,r)}function U7(e,t,n){return Vb(e,S3(),t,n)}function V7(e,t,n){return Vb(e,M3(),t,n)}const Oo=Symbol("ordinal");function Hb(e,t,n,{type:r,interval:i,domain:a,range:s,reverse:c,hint:f}){return i=Co(i,r),a===void 0&&(a=Yb(n,i,e)),(r==="categorical"||r===Oo)&&(r="ordinal"),c&&(a=Oa(a)),a=t.domain(a).domain(),s!==void 0&&(typeof s=="function"&&(s=s(a)),t.range(s)),{type:r,domain:a,range:s,scale:t,hint:f,interval:i}}function H7(e,t,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:c,...f}){r=Co(r,n),i===void 0&&(i=Yb(t,r,e));let l;if(ze.get(e)===Xs)l=G7(t),a=a===void 0?X7(l):tt(a,au);else if(ze.get(e)===Wn&&(a===void 0&&(n==="ordinal"||n===Oo)&&(a=m7(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"observable10"),s!==void 0))if(a!==void 0){const u=fu(s),d=a[0],h=a[1]-a[0];a=({length:p})=>ln(m=>u(d+h*m),p)}else a=Bb(s);if(c===qf)throw new Error(`implicit unknown on ${e} scale is not supported`);return Hb(e,$l().unknown(c),t,{...f,type:n,domain:i,range:a,hint:l})}function W7(e,t,{align:n=.5,padding:r=.5,...i}){return Wb(r6().align(n).padding(r),t,i,e)}function Y7(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...s}){return Wb(Ds().align(n).paddingInner(i).paddingOuter(a),t,s,e)}function Wb(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=Hb(r,e,t,n),e.round=i,e}function Yb(e,t,n){const r=new ks;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(t!==void 0){const[i,a]=ir(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&ze.get(n)===xn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return pf(r,En)}function qh(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function G7(e){return{fill:qh(e,"fill"),stroke:qh(e,"stroke")}}function X7(e){return Dt(e.fill)?Q3:J3}function el(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:c,nice:f,clamp:l,zero:u,align:d,padding:h,projection:p,facet:{label:m=t}={},...g}={}){const b={};for(const[v,_]of e){const x=g[v],y=Zb(v,_,{round:ze.get(v)===xn?c:void 0,nice:f,clamp:l,zero:u,align:d,padding:h,projection:p,...x});if(y){let{label:w=v==="fx"||v==="fy"?m:t,percent:M,transform:k,inset:A,insetTop:N=A!==void 0?A:v==="y"?r:0,insetRight:D=A!==void 0?A:v==="x"?i:0,insetBottom:S=A!==void 0?A:v==="y"?a:0,insetLeft:T=A!==void 0?A:v==="x"?s:0}=x||{};if(k==null)k=void 0;else if(typeof k!="function")throw new Error("invalid scale transform; not a function");y.percent=!!M,y.label=w===void 0?Z7(_,y):w,y.transform=k,v==="x"||v==="fx"?(y.insetLeft=+T,y.insetRight=+D):(v==="y"||v==="fy")&&(y.insetTop=+N,y.insetBottom=+S),b[v]=y}}return b}function zh(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:a,type:s,interval:c,label:f}=i;t[r]=Qb(i),n[r]=a,a.type=s,c!=null&&(a.interval=c),f!=null&&(a.label=f)}return n}function K7(e,t){const{x:n,y:r,fx:i,fy:a}=e,s=i||a?du(t):t;i&&Uh(i,s),a&&Vh(a,s);const c=i||a?Gb(e,t):t;n&&Uh(n,c),r&&Vh(r,c)}function Z7(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Ur(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function J7(e){return Math.sign(pi(e.domain()))*Math.sign(pi(e.range()))}function du(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:c,marginRight:f,marginBottom:l,marginLeft:u}}=e;return{marginTop:Math.max(t,c),marginRight:Math.max(n,f),marginBottom:Math.max(r,l),marginLeft:Math.max(i,u),width:a,height:s}}function Gb({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:c,height:f}=du(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:e?e.scale.bandwidth()+s+i:c,height:t?t.scale.bandwidth()+r+a:f,facet:{width:c,height:f}}}function Uh(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:s=0}=t,c=a+n,f=i-s-r;e.range=[c,Math.max(c,f)],Ur(e)||(e.range=Kb(e)),e.scale.range(e.range)}Xb(e)}function Vh(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:s=0}=t,c=a+n,f=i-s-r;e.range=[Math.max(c,f),c],Ur(e)?e.range.reverse():e.range=Kb(e),e.scale.range(e.range)}Xb(e)}function Xb(e){e.round===void 0&&n9(e)&&Q7(e)<=30&&e.scale.round(!0)}function Q7({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),s=t-i,c=Math.abs(r-n)/Math.max(1,s+a*2);return(c-Math.floor(c))*s}function Kb(e){const t=e.scale.domain().length+Jb(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function e9(e,t,n){return Zb(e,n===void 0?void 0:[{hint:n}],{...t})}function Zb(e,t=[],n={}){const r=t9(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Ur({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Qt)?ar(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Zr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Zr(r)}".`):i.some(O8)?ar(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Zr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Zr(r)}".`):i.some(F8)&&ar(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Zr(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Zr(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=ia(t,n,rr);break;case"identity":switch(ze.get(e)){case xn:n=ia(t,n,rr);break;case Xs:n=ia(t,n,r9);break}break;case"utc":case"time":n=ia(t,n,vb);break}switch(r){case"diverging":return O7(e,t,n);case"diverging-sqrt":return F7(e,t,n);case"diverging-pow":return Ub(e,t,n);case"diverging-log":return P7(e,t,n);case"diverging-symlog":return $7(e,t,n);case"categorical":case"ordinal":case Oo:return H7(e,t,n);case"cyclical":case"sequential":case"linear":return v7(e,t,n);case"sqrt":return w7(e,t,n);case"threshold":return lu(e,t,n);case"quantile":return M7(e,t,n);case"quantize":return k7(e,t,n);case"pow":return qb(e,t,n);case"log":return x7(e,t,n);case"symlog":return S7(e,t,n);case"utc":return V7(e,t,n);case"time":return U7(e,t,n);case"point":return W7(e,t,n);case"band":return Y7(e,t,n);case"identity":return E7(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Zr(e){return typeof e=="symbol"?e.description:e}function Hh(e){return typeof e=="string"?`${e}`.toLowerCase():e}const Wh={toString:()=>"projection"};function t9(e,t,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:c}){var u;if(n=Hh(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&c!=null&&(n=Wh);for(const d of t){const h=Hh(d.type);if(h!==void 0){if(n===void 0)n=h;else if(n!==h)throw new Error(`scale incompatible with channel: ${n} !== ${h}`)}}if(n===Wh)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:d})=>d!==void 0))return;const f=ze.get(e);if(f===No)return"sqrt";if(f===Io||f===Do)return"linear";if(f===Xs)return"ordinal";const l=(u=r??i)==null?void 0:u.length;if(l<2||l>2)return zc(f);if(r!==void 0){if(Ch(r))return zc(f);if(Qt(r))return"utc"}else{const d=t.map(({value:h})=>h).filter(h=>h!==void 0);if(d.some(Ch))return zc(f);if(d.some(Qt))return"utc"}if(f===Wn){if(s!=null||y7(a))return"diverging";if(g7(a))return"categorical"}return"linear"}function zc(e){switch(e){case xn:return"point";case Wn:return Oo;default:return"ordinal"}}function Ur({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Oo}function Jb({type:e}){return e==="threshold"}function n9({type:e}){return e==="point"||e==="band"}function bi(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function ia(e,{domain:t,...n},r){var i;for(const a of e)a.value!==void 0&&(t===void 0&&(t=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:t===void 0?t:r(t),...n}}function r9(e){return tt(e,au)}function tl(e={}){let t;for(const n in e)if(ze.has(n)&&us(e[n])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=Qb(e9(n,e[n]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function i9(e){return t=>{if(!ze.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function Qb({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:c,pivot:f}){if(t==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const l=e.unknown?e.unknown():void 0;return{type:t,domain:co(n),...r!==void 0&&{range:co(r)},...s!==void 0&&{transform:s},...c&&{percent:c},...l!==void 0&&{unknown:l},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...f!==void 0&&{pivot:f,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:u=>e(u),...e.invert&&{invert:u=>e.invert(u)}}}function o9(e,t){const{fx:n,fy:r}=el(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?nv(i,a).map(([s,c],f)=>({x:s,y:c,i:f})):i?i.map((s,c)=>({x:s,i:c})):a?a.map((s,c)=>({y:s,i:c})):void 0}function a9(e,{x:t,y:n}){return t&&(t=nl(t)),n&&(n=nl(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function hu(e,{fx:t,fy:n}){const r=mr(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?Gi(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):t?Gi(r,s=>(s.fx=i[s[0]],s),s=>i[s]):Gi(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function s9(e,t,{marginTop:n,marginLeft:r}){const i=e?({x:s})=>e(s)-r:()=>0,a=t?({y:s})=>t(s)-n:()=>0;return function(s){this.tagName==="svg"?(this.setAttribute("x",i(s)),this.setAttribute("y",a(s))):this.setAttribute("transform",`translate(${i(s)},${a(s)})`)}}function c9(e){const t=[],n=new Uint32Array(Nr(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const f9=new Map([["top",Uc],["right",Wc],["bottom",Vc],["left",Hc],["top-left",oa(Uc,Hc)],["top-right",oa(Uc,Wc)],["bottom-left",oa(Vc,Hc)],["bottom-right",oa(Vc,Wc)],["top-empty",d9],["right-empty",g9],["bottom-empty",h9],["left-empty",p9],["empty",m9]]);function l9(e){if(e==null)return null;const t=f9.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const Yh=new WeakMap;function nl(e){let t=Yh.get(e);return t||Yh.set(e,t=new Cr(tt(e,(n,r)=>[n,r]))),t}function br(e,t){return nl(e).get(t)}function u9(e,t,n){return t=zn(t),n=zn(n),e.find(r=>Object.is(zn(r.x),t)&&Object.is(zn(r.y),n))}function Js(e,t,n){var r;return(r=u9(e,t,n))==null?void 0:r.empty}function Uc(e,{y:t},{y:n}){return t?br(t,n)===0:!0}function Vc(e,{y:t},{y:n}){return t?br(t,n)===t.length-1:!0}function Hc(e,{x:t},{x:n}){return t?br(t,n)===0:!0}function Wc(e,{x:t},{x:n}){return t?br(t,n)===t.length-1:!0}function d9(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=br(t,r);if(a>0)return Js(e,n,t[a-1])}function h9(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=br(t,r);if(a<t.length-1)return Js(e,n,t[a+1])}function p9(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=br(t,n);if(a>0)return Js(e,t[a-1],r)}function g9(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=br(t,n);if(a<t.length-1)return Js(e,t[a+1],r)}function m9(e,t,{empty:n}){return n}function oa(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function Yc(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}const ey=Math.PI,On=2*ey,Gc=.618;function b9({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},s){if(e==null)return;if(typeof e.stream=="function")return e;let c,f,l="frame";if(qr(e)){let w;if({type:e,domain:f,inset:w,insetTop:n=w!==void 0?w:n,insetRight:r=w!==void 0?w:r,insetBottom:i=w!==void 0?w:i,insetLeft:a=w!==void 0?w:a,clip:l=l,...c}=e,e==null)return}typeof e!="function"&&({type:e}=rl(e));const{width:u,height:d,marginLeft:h,marginRight:p,marginTop:m,marginBottom:g}=s,b=u-h-p-a-r,v=d-m-g-n-i;if(e=e==null?void 0:e({width:b,height:v,clip:l,...c}),e==null)return;l=y9(l,h,m,u-p,d-g);let _=h+a,x=m+n,y;if(f!=null){const[[w,M],[k,A]]=Ll(e).bounds(f),N=Math.min(b/(k-w),v/(A-M));N>0?(_-=(N*(w+k)-b)/2,x-=(N*(M+A)-v)/2,y=Xa({point(D,S){this.stream.point(D*N+_,S*N+x)}})):ar("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=_===0&&x===0?ty():Xa({point(w,M){this.stream.point(w+_,M+x)}})),{stream:w=>e.stream(y.stream(l(w)))}}function rl(e){switch(`${e}`.toLowerCase()){case"albers-usa":return an(zw,.7463,.4673);case"albers":return aa(N1,.7463,.4673);case"azimuthal-equal-area":return an(Uw,4,4);case"azimuthal-equidistant":return an(Vw,On,On);case"conic-conformal":return aa(Yw,On,On);case"conic-equal-area":return aa(Ka,6.1702,2.9781);case"conic-equidistant":return aa(Kw,7.312,3.6282);case"equal-earth":return an(Jw,5.4133,2.6347);case"equirectangular":return an(Gw,On,ey);case"gnomonic":return an(Qw,3.4641,3.4641);case"identity":return{type:ty};case"reflect-y":return{type:_9};case"mercator":return an(Hw,On,On);case"orthographic":return an(e6,2,2);case"stereographic":return an(t6,2,2);case"transverse-mercator":return an(n6,On,On);default:throw new Error(`unknown projection type: ${e}`)}}function y9(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return p1(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function an(e,t,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:c})=>{var l,u,d;const f=e();return s!=null&&((l=f.precision)==null||l.call(f,s)),a!=null&&((u=f.rotate)==null||u.call(f,a)),typeof c=="number"&&((d=f.clipAngle)==null||d.call(f,c)),r!=null&&(f.scale(Math.min(r/t,i/n)),f.translate([r/2,i/2])),f},aspectRatio:n/t}}function aa(e,t,n){const{type:r,aspectRatio:i}=an(e,t,n);return{type:a=>{const{parallels:s,domain:c,width:f,height:l}=a,u=r(a);return s!=null&&(u.parallels(s),c===void 0&&f!=null&&u.fitSize([f,l],{type:"Sphere"})),u},aspectRatio:i}}const ty=qn({stream:e=>e}),_9=qn(Xa({point(e,t){this.stream.point(e,-t)}}));function v9(e,t,n,r){const i=n[e],a=n[t],s=i.length,c=n[e]=new Float64Array(s).fill(NaN),f=n[t]=new Float64Array(s).fill(NaN);let l;const u=r.stream({point(d,h){c[l]=d,f[l]=h}});for(l=0;l<s;++l)u.point(i[l],a[l])}function w9({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(qr(e)&&(e=e.type),e!=null)}function x9(e){if(typeof(e==null?void 0:e.stream)=="function")return Gc;if(qr(e)){let t,n;if({domain:t,type:e,...n}=e,t!=null&&e!=null){const r=typeof e=="string"?rl(e).type:e,[[i,a],[s,c]]=Ll(r({...n,width:100,height:100})).bounds(t),f=(c-a)/(s-i);return f&&isFinite(f)?f<.2?.2:f>5?5:f:Gc}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=rl(e);if(t)return t}return Gc}}function S9(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},a={point(s,c){t.push(s),n.push(c)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of e.value)wr(s,a);return[r,i]}function M9({x:e,y:t}){if(e||t)return e??(e=n=>n),t??(t=n=>n),Xa({point(n,r){this.stream.point(e(n),t(r))}})}function pu(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:Tb(n)}}function Qe(e,{document:t}){return pt(Np(e).call(t.documentElement))}const il=Symbol("unset");function Qs(e){return(e.length===1?k9:A9)(e)}function k9(e){let t,n=il;return r=>(Object.is(n,r)||(n=r,t=e(r)),t)}function A9(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>!Object.is(i,r[a])))&&(n=r,t=e(...r)),t)}const E9=Qs(e=>new Intl.NumberFormat(e));Qs((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}}));Qs((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function T9(e="en-US"){const t=E9(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function C9(e){return s8(e,"Invalid Date")}function N9(e="en-US"){const t=T9(e);return n=>(n instanceof Date?C9:typeof n=="number"?t:gt)(n)}const yi=N9(),jt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let D9=0;function ny(){return`plot-clip-${++D9}`}function I9(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:c,fillOpacity:f,stroke:l,strokeWidth:u,strokeOpacity:d,strokeLinejoin:h,strokeLinecap:p,strokeMiterlimit:m,strokeDasharray:g,strokeDashoffset:b,opacity:v,mixBlendMode:_,imageFilter:x,paintOrder:y,pointerEvents:w,shapeRendering:M,channels:k},{ariaLabel:A,fill:N="currentColor",fillOpacity:D,stroke:S="none",strokeOpacity:T,strokeWidth:F,strokeLinecap:L,strokeLinejoin:E,strokeMiterlimit:U,paintOrder:j}){N===null&&(c=null,f=null),S===null&&(l=null,d=null),Dt(N)?!Dt(S)&&(!Dt(c)||k!=null&&k.fill)&&(S="none"):Dt(S)&&(!Dt(l)||k!=null&&k.stroke)&&(N="none");const[ne,te]=Or(c,N),[Y,H]=bt(f,D),[ee,J]=Or(l,S),[P,re]=bt(d,T),[ue,G]=bt(v);lo(J)||(u===void 0&&(u=F),p===void 0&&(p=L),h===void 0&&(h=E),m===void 0&&!R8(h)&&(m=U),!lo(te)&&y===void 0&&(y=j));const[ce,C]=bt(u);return N!==null&&(e.fill=ct(te,"currentColor"),e.fillOpacity=Pi(H,1)),S!==null&&(e.stroke=ct(J,"none"),e.strokeWidth=Pi(C,1),e.strokeOpacity=Pi(re,1),e.strokeLinejoin=ct(h,"miter"),e.strokeLinecap=ct(p,"butt"),e.strokeMiterlimit=Pi(m,4),e.strokeDasharray=ct(g,"none"),e.strokeDashoffset=ct(b,"0")),e.target=gt(s),e.ariaLabel=gt(A),e.ariaDescription=gt(i),e.ariaHidden=gt(a),e.opacity=Pi(G,1),e.mixBlendMode=ct(_,"normal"),e.imageFilter=ct(x,"none"),e.paintOrder=ct(y,"normal"),e.pointerEvents=ct(w,"auto"),e.shapeRendering=ct(M,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:ne,scale:"auto",optional:!0},fillOpacity:{value:Y,scale:"auto",optional:!0},stroke:{value:ee,scale:"auto",optional:!0},strokeOpacity:{value:P,scale:"auto",optional:!0},strokeWidth:{value:ce,optional:!0},opacity:{value:ue,scale:"auto",optional:!0}}}function L9(e,t){t&&e.filter(n=>Kl(t[n])).append("title").call(F9,t)}function O9(e,t){t&&e.filter(([n])=>Kl(t[n])).append("title").call(P9,t)}function F9(e,t){t&&e.text(n=>yi(t[n]))}function P9(e,t){t&&e.text(([n])=>yi(t[n]))}function en(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:c,strokeOpacity:f,strokeWidth:l,opacity:u,href:d}){r&&ye(e,"aria-label",h=>r[h]),a&&ye(e,"fill",h=>a[h]),s&&ye(e,"fill-opacity",h=>s[h]),c&&ye(e,"stroke",h=>c[h]),f&&ye(e,"stroke-opacity",h=>f[h]),l&&ye(e,"stroke-width",h=>l[h]),u&&ye(e,"opacity",h=>u[h]),d&&ry(e,h=>d[h],t),n||L9(e,i)}function $9(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:c,strokeOpacity:f,strokeWidth:l,opacity:u,href:d}){r&&ye(e,"aria-label",([h])=>r[h]),a&&ye(e,"fill",([h])=>a[h]),s&&ye(e,"fill-opacity",([h])=>s[h]),c&&ye(e,"stroke",([h])=>c[h]),f&&ye(e,"stroke-opacity",([h])=>f[h]),l&&ye(e,"stroke-width",([h])=>l[h]),u&&ye(e,"opacity",([h])=>u[h]),d&&ry(e,([h])=>d[h],t),n||O9(e,i)}function B9({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:s,opacity:c,href:f},{tip:l}){return[e,l?void 0:t,n,r,i,a,s,c,f].filter(u=>u!==void 0)}function R9(e,t,n){const r=Ml(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&ar("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*j9(e,t,n,r){const{z:i}=n,{z:a}=r,s=B9(r,n),c=[...t,...s];for(const f of a?R9(e,a,i):[e]){let l,u;e:for(const d of f){for(const h of c)if(!dr(h[d])){u&&u.push(-1);continue e}if(l===void 0){u&&(yield u),l=s.map(h=>zn(h[d])),u=[d];continue}u.push(d);for(let h=0;h<s.length;++h)if(zn(s[h][d])!==l[h]){yield u,l=s.map(m=>zn(m[d])),u=[d];continue e}}u&&(yield u)}}function q9(e,t,n,r){let i;const{clip:a=r.clip}=t;a==="frame"?(e=Qe("svg:g",r).each(function(){this.appendChild(e.node()),e.node=()=>this}),i=U9(r,n)):a&&(i=H9(a,r)),ye(e,"aria-label",t.ariaLabel),ye(e,"aria-description",t.ariaDescription),ye(e,"aria-hidden",t.ariaHidden),ye(e,"clip-path",i)}function z9(e){const t=new WeakMap;return(n,r)=>{let i=t.get(n);if(!i){const a=ny();pt(n.ownerSVGElement).append("clipPath").attr("id",a).call(e,n,r),t.set(n,i=`url(#${a})`)}return i}}const U9=z9((e,t,n)=>{const{width:r,height:i,marginLeft:a,marginRight:s,marginTop:c,marginBottom:f}=n;e.append("rect").attr("x",a).attr("y",c).attr("width",r-s-a).attr("height",i-c-f)}),Gh=new WeakMap,V9={type:"Sphere"};function H9(e,t){let n,r;if((n=Gh.get(t))||Gh.set(t,n=new WeakMap),e.type==="Sphere"&&(e=V9),!(r=n.get(e))){const i=ny();pt(t.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",t.path()(e)),n.set(e,r=`url(#${i})`)}return r}function nn(e,t,n,r){q9(e,t,n,r),ye(e,"class",t.className),ye(e,"fill",t.fill),ye(e,"fill-opacity",t.fillOpacity),ye(e,"stroke",t.stroke),ye(e,"stroke-width",t.strokeWidth),ye(e,"stroke-opacity",t.strokeOpacity),ye(e,"stroke-linejoin",t.strokeLinejoin),ye(e,"stroke-linecap",t.strokeLinecap),ye(e,"stroke-miterlimit",t.strokeMiterlimit),ye(e,"stroke-dasharray",t.strokeDasharray),ye(e,"stroke-dashoffset",t.strokeDashoffset),ye(e,"shape-rendering",t.shapeRendering),ye(e,"filter",t.imageFilter),ye(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;ye(e,"pointer-events",i)}function Pt(e,t){W9(e,"mix-blend-mode",t.mixBlendMode),ye(e,"opacity",t.opacity)}function ry(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(Ca.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(Ca.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function ye(e,t,n){n!=null&&e.attr(t,n)}function W9(e,t,n){n!=null&&e.style(t,n)}function rn(e,t,{x:n,y:r},i=jt,a=jt){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function ct(e,t){if((e=gt(e))!==t)return e}function Pi(e,t){if((e=mt(e))!==t)return e}const Y9=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function gu(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!Y9.test(e))throw new Error(`invalid class name: ${e}`);return e}function mu(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Fo({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(e)?s:/right$/.test(e)?t-i:(s+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}class Nt{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:c,fy:f,sort:l,dx:u=0,dy:d=0,margin:h=0,marginTop:p=h,marginRight:m=h,marginBottom:g=h,marginLeft:b=h,className:v,clip:_=i==null?void 0:i.clip,channels:x,tip:y,render:w}=r;if(this.data=t,this.sort=mi(l)?l:null,this.initializer=Fr(r).initializer,this.transform=this.initializer?r.transform:su(r).transform,a===null||a===!1?this.facet=null:(this.facet=hn(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===Sa&&typeof c=="string"?[c]:c,this.fy=t===Sa&&typeof f=="string"?[f]:f),this.facetAnchor=l9(s),n=Eb(n),x!==void 0&&(n={...G9(x),...n}),i!==void 0&&(n={...I9(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([M,k])=>{if(Hs(k.value)){const{value:A,label:N=k.label,scale:D=k.scale}=k.value;k={...k,label:N,scale:D,value:A}}if(t===Sa&&typeof k.value=="string"){const{value:A}=k;k={...k,value:[A]}}return[M,k]}).filter(([M,{value:k,optional:A}])=>{if(k!=null)return!0;if(A)return!1;throw new Error(`missing channel value: ${M}`)})),this.dx=+u,this.dy=+d,this.marginTop=+p,this.marginRight=+m,this.marginBottom=+g,this.marginLeft=+b,this.clip=Tb(_),this.tip=X9(y),this.className=gt(v),this.facet==="super"){if(c||f)throw new Error("super-faceting cannot use fx or fy");for(const M in this.channels){const{scale:k}=n[M];if(!(k!=="x"&&k!=="y"))throw new Error("super-faceting cannot use x or y")}}w!=null&&(this.render=oy(w,this.render))}initialize(t,n,r){let i=gi(this.data);t===void 0&&i!=null&&(t=[mr(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=gi(i)),t!==void 0&&(t.original=a);const s=f7(this.channels,i);return this.sort!=null&&u7(i,t,s,n,this.sort),{data:i,facets:t,channels:s}}filter(t,n,r){for(const i in n){const{filter:a=dr}=n[i];if(a!==null){const s=r[i];t=t.filter(c=>a(s[c]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&v9(i,a,n,r.projection)}}scale(t,n,r){const i=l7(t,n);return r.projection&&this.project(t,i,r),i}}function iy(...e){return e.plot=Nt.prototype.plot,e}function oy(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,a,s,c){return e.call(this,n,r,i,a,s,(f,l,u,d,h)=>t.call(this,f,l,u,d,h,c))}}function G9(e){return Object.fromEntries(Object.entries(Eb(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:Ws(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function X9(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?hn(e,"tip",["x","y","xy"]):e}function bu(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:qr(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function K9(e,t,n={}){let r=.5-jt,i=.5+jt,a=.5+jt,s=.5-jt;for(const{marginTop:g,marginRight:b,marginBottom:v,marginLeft:_}of t)g>r&&(r=g),b>i&&(i=b),v>a&&(a=v),_>s&&(s=_);let{margin:c,marginTop:f=c!==void 0?c:r,marginRight:l=c!==void 0?c:i,marginBottom:u=c!==void 0?c:a,marginLeft:d=c!==void 0?c:s}=n;f=+f,l=+l,u=+u,d=+d;let{width:h=640,height:p=Z9(e,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,f-r+u-a)}=n;h=+h,p=+p;const m={width:h,height:p,marginTop:f,marginRight:l,marginBottom:u,marginLeft:d};if(e.fx||e.fy){let{margin:g,marginTop:b=g!==void 0?g:f,marginRight:v=g!==void 0?g:l,marginBottom:_=g!==void 0?g:u,marginLeft:x=g!==void 0?g:d}=n.facet??{};b=+b,v=+v,_=+_,x=+x,m.facet={marginTop:b,marginRight:v,marginBottom:_,marginLeft:x}}return m}function Z9({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:c,marginRightDefault:f,marginBottomDefault:l,marginLeftDefault:u}){const d=n&&n.scale.domain().length||1,h=x9(i);if(h){const m=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*m-.1)*h,b=Math.max(.1,Math.min(10,g));return Math.round((s-u-f)*b+c+l)}const p=t?Ur(t)?t.scale.domain().length||1:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const m=Xh("y",t)/(Xh("x",e)*a),g=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,v=g*(s-u-f)-e.insetLeft-e.insetRight;return(m*v+t.insetTop+t.insetBottom)/b+c+l}return!!(t||n)*Math.max(1,Math.min(60,p*d))*20+!!r*30+60}function Xh(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const c=t.scale.exponent();i=f=>Math.pow(f,c);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,s]=ir(r);return Math.abs(i(s)-i(a))}const Kh=new WeakMap;function yu(e,t,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:c,render:f,...l}={}){return s=+s,i!=null&&(n??(n=null),c={...c,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),c={...c,py:{value:a,scale:"y"}}),{x:n,y:r,channels:c,...l,render:oy(function(u,d,h,p,m,g){m={...m,pointerSticky:!1};const b=m.ownerSVGElement,{data:v}=m.getMarkState(this);let _=Kh.get(b);_||Kh.set(b,_={sticky:!1,roots:[],renders:[]});let x=_.renders.push(J)-1;const{x:y,y:w,fx:M,fy:k}=d;let A=M?M(u.fx)-p.marginLeft:0,N=k?k(u.fy)-p.marginTop:0;y!=null&&y.bandwidth&&(A+=y.bandwidth()/2),w!=null&&w.bandwidth&&(N+=w.bandwidth()/2);const D=u.fi!=null;let S;if(D){let G=_.facetStates;G||(_.facetStates=G=new Map),S=G.get(this),S||G.set(this,S=new Map)}const[T,F]=Fo(this,p),{px:L,py:E}=h,U=L?G=>L[G]:ay(h,T),j=E?G=>E[G]:sy(h,F);let ne,te,Y,H;function ee(G,ce){if(D)if(H&&(H=cancelAnimationFrame(H)),G==null)S.delete(u.fi);else{S.set(u.fi,ce),H=requestAnimationFrame(()=>{H=null;for(const[C,V]of S)if(V<ce||V===ce&&C<u.fi){G=null;break}J(G)});return}J(G)}function J(G){if(ne===G&&Y===_.sticky)return;ne=G,Y=m.pointerSticky=_.sticky;const ce=ne==null?[]:[ne];D&&(ce.fx=u.fx,ce.fy=u.fy,ce.fi=u.fi);const C=g(ce,d,h,p,m);if(te){if(D){const V=te.parentNode,X=te.getAttribute("transform"),q=C.getAttribute("transform");X?C.setAttribute("transform",X):C.removeAttribute("transform"),q?V.setAttribute("transform",q):V.removeAttribute("transform"),C.removeAttribute("aria-label"),C.removeAttribute("aria-description"),C.removeAttribute("aria-hidden")}te.replaceWith(C)}if(_.roots[x]=te=C,!(ne==null&&(S==null?void 0:S.size)>1)){const V=ne==null?null:Rr(v)?v[ne]:v.get(ne);m.dispatchValue(V)}return C}function P(G){if(_.sticky||G.pointerType==="mouse"&&G.buttons===1)return;let[ce,C]=vf(G);ce-=A,C-=N;const V=ce<p.marginLeft||ce>p.width-p.marginRight?1:e,X=C<p.marginTop||C>p.height-p.marginBottom?1:t;let q=null,fe=s*s;for(const se of u){const de=V*(U(se)-ce),me=X*(j(se)-C),W=de*de+me*me;W<=fe&&(q=se,fe=W)}if(q!=null&&(e!==1||t!==1)){const se=U(q)-ce,de=j(q)-C;fe=se*se+de*de}ee(q,fe)}function re(G){G.pointerType==="mouse"&&ne!=null&&(_.sticky&&_.roots.some(ce=>ce==null?void 0:ce.contains(G.target))||(_.sticky?(_.sticky=!1,_.renders.forEach(ce=>ce(null))):(_.sticky=!0,J(ne)),G.stopImmediatePropagation()))}function ue(G){G.pointerType==="mouse"&&(_.sticky||ee(null))}return b.addEventListener("pointerenter",P),b.addEventListener("pointermove",P),b.addEventListener("pointerdown",re),b.addEventListener("pointerleave",ue),J(null)},f)}}function J9(e){return yu(1,1,e)}function Q9(e){return yu(1,.01,e)}function Zh(e){return yu(.01,1,e)}function ay({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function sy({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function cy(e){return Ur(e)&&e.interval===void 0?void 0:"tabular-nums"}function ex(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:c=0,marginBottom:f=16+r,marginLeft:l=0,style:u,ticks:d=(i-l-c)/64,tickFormat:h,fontVariant:p=cy(e),round:m=!0,opacity:g,className:b}=t;const v=pu(t);b=gu(b),g=bt(g)[1],h===null&&(h=()=>null);const _=Qe("svg",v).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(T=>T.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(mu,u);let x=T=>T.selectAll(".tick line").attr("y1",s+f-a),y;const w=m?(T,F)=>T.rangeRound(F):(T,F)=>T.range(F),{type:M,domain:k,range:A,interpolate:N,scale:D,pivot:S}=e;if(N){const T=A===void 0?N:Es(N.length===1?uu(N):N,A);y=w(D.copy(),ln(cr(l,i-c),Math.min(k.length+(S!==void 0),A===void 0?1/0:A.length)));const F=256,L=v.document.createElement("canvas");L.width=F,L.height=1;const E=L.getContext("2d");for(let U=0,j=F-1;U<F;++U)E.fillStyle=T(U/j),E.fillRect(U,0,1,1);_.append("image").attr("opacity",g).attr("x",l).attr("y",s).attr("width",i-l-c).attr("height",a-s-f).attr("preserveAspectRatio","none").attr("xlink:href",L.toDataURL())}else if(M==="threshold"){const T=k,F=h===void 0?L=>L:typeof h=="string"?Mi(h):h;y=w(Bl().domain([-1,A.length-1]),[l,i-c]),_.append("g").attr("fill-opacity",g).selectAll().data(A).enter().append("rect").attr("x",(L,E)=>y(E-1)).attr("y",s).attr("width",(L,E)=>y(E)-y(E-1)).attr("height",a-s-f).attr("fill",L=>L),d=tt(T,(L,E)=>E),h=L=>F(T[L],L)}else y=w(Ds().domain(k),[l,i-c]),_.append("g").attr("fill-opacity",g).selectAll().data(k).enter().append("rect").attr("x",y).attr("y",s).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",a-s-f).attr("fill",D),x=()=>{};return _.append("g").attr("transform",`translate(0,${a-f})`).call(kv(y).ticks(Array.isArray(d)?null:d,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",ct(p,"normal")).call(x).call(T=>T.select(".domain").remove()),n!==void 0&&_.append("text").attr("x",l).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),_.node()}const fy=Math.PI/180;function ec(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=Xc(n),e.markerMid=Xc(r),e.markerEnd=Xc(i)}function Xc(e){if(e==null||e===!1)return null;if(e===!0)return Qh;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return Jh("auto");case"arrow-reverse":return Jh("auto-start-reverse");case"dot":return tx;case"circle":case"circle-fill":return Qh;case"circle-stroke":return nx;case"tick":return Kc("auto");case"tick-x":return Kc(90);case"tick-y":return Kc(0)}throw new Error(`invalid marker: ${e}`)}function Jh(e){return(t,n)=>Qe("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function tx(e,t){return Qe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Qh(e,t){return Qe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function nx(e,t){return Qe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Kc(e){return(t,n)=>Qe("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let rx=0;function _u(e,t,{stroke:n},r){return uy(e,t,n&&(i=>n[i]),null,r)}function ix(e,t,{stroke:n,z:r},i){return uy(e,t,n&&(([a])=>n[a]),r,i)}const ol=1,ly=2;function ox(e,t){const n=new Uint8Array(t.length),r=e.data().filter(a=>a.length>1),i=r.length;for(let a=0,s=il;a<i;++a){const c=r[a];if(c.length>1){const f=c[0];s!==(s=zn(t[f]))&&(n[f]|=ol)}}for(let a=i-1,s=il;a>=0;--a){const c=r[a];if(c.length>1){const f=c[0];s!==(s=zn(t[f]))&&(n[f]|=ly)}}return([a])=>n[a]}function uy(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s,c){if(!t&&!n&&!r)return;const f=new Map,l=s&&ox(e,s);function u(d,h,p){return function(m){if(p&&!p(m))return;const g=a(m);let b=f.get(h);b||f.set(h,b=new Map);let v=b.get(g);if(!v){const _=this.parentNode.insertBefore(h(g,c),this),x=`plot-marker-${++rx}`;_.setAttribute("id",x),b.set(g,v=`url(#${x})`)}this.setAttribute(d,v)}}t&&e.each(u("marker-start",t,l&&(d=>l(d)&ol))),n&&l&&e.each(u("marker-start",n,d=>!(l(d)&ol))),n&&e.each(u("marker-mid",n)),r&&e.each(u("marker-end",r,l&&(d=>l(d)&ly)))}function vu({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=dy(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function wu({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=dy(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function dy(e,t,n){return e===void 0&&t===void 0&&n===void 0?jt?[1,0]:[.5,.5]:[t,n]}function hy(e,{interval:t}){return e={...Ws(e)},e.interval=ru(e.interval===void 0?t:e.interval),e}function tc(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:s}=n,{value:c,interval:f}=hy(i,n);if(c==null||f==null&&!r)return n;const l=To(i);if(f==null){let p;const m={transform:g=>p||(p=qt(g,c)),label:l};return{...n,[e]:void 0,[`${e}1`]:a===void 0?m:a,[`${e}2`]:s===void 0&&!(a===s&&r)?m:s}}let u,d;function h(p){return d!==void 0&&p===u?d:d=tt(qt(u=p,c),m=>f.floor(m))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:h,label:l}:a,[`${e}2`]:s===void 0?{transform:p=>h(p).map(m=>f.offset(m)),label:l}:s})}function py(e,t,n){const{[e]:r}=n,{value:i,interval:a}=hy(r,n);return i==null||a==null?n:t({...n,[e]:{label:To(r),transform:s=>{const c=tt(qt(s,i),l=>a.floor(l)),f=c.map(l=>a.offset(l));return c.map(Qt(c)?(l,u)=>l==null||isNaN(l=+l)||(u=f[u],u==null)||isNaN(u=+u)?void 0:new Date((l+u)/2):(l,u)=>l==null||(u=f[u],u==null)?NaN:(+l+ +u)/2)}}})}function ax(e={}){return tc("x",vu,e,!0)}function gy(e={}){return tc("y",wu,e,!0)}function sx(e={}){return tc("x",vu,e)}function cx(e={}){return tc("y",wu,e)}function fx(e={}){return py("x",vu,e)}function lx(e={}){return py("y",wu,e)}const my={ariaLabel:"rule",fill:null,stroke:"currentColor"};class ux extends Nt{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:c=s,insetBottom:f=s}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},bu(n,"x"),my),this.insetTop=mt(c),this.insetBottom=mt(f),ec(this,n)}render(t,n,r,i,a){const{x:s,y:c}=n,{x:f,y1:l,y2:u}=r,{width:d,height:h,marginTop:p,marginRight:m,marginLeft:g,marginBottom:b}=i,{insetTop:v,insetBottom:_}=this;return Qe("svg:g",a).call(nn,this,i,a).call(rn,this,{x:f&&s},jt,0).call(x=>x.selectAll().data(t).enter().append("line").call(Pt,this).attr("x1",f?y=>f[y]:(g+d-m)/2).attr("x2",f?y=>f[y]:(g+d-m)/2).attr("y1",l&&!bi(c)?y=>l[y]+v:p+v).attr("y2",u&&!bi(c)?c.bandwidth?y=>u[y]+c.bandwidth()-_:y=>u[y]-_:h-b-_).call(en,this,r).call(_u,this,r,a)).node()}}class dx extends Nt{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:c=s,insetLeft:f=s}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},bu(n,"y"),my),this.insetRight=mt(c),this.insetLeft=mt(f),ec(this,n)}render(t,n,r,i,a){const{x:s,y:c}=n,{y:f,x1:l,x2:u}=r,{width:d,height:h,marginTop:p,marginRight:m,marginLeft:g,marginBottom:b}=i,{insetLeft:v,insetRight:_}=this;return Qe("svg:g",a).call(nn,this,i,a).call(rn,this,{y:f&&c},0,jt).call(x=>x.selectAll().data(t).enter().append("line").call(Pt,this).attr("x1",l&&!bi(s)?y=>l[y]+v:g+v).attr("x2",u&&!bi(s)?s.bandwidth?y=>u[y]+s.bandwidth()-_:y=>u[y]-_:d-m-_).attr("y1",f?y=>f[y]:(p+h-b)/2).attr("y2",f?y=>f[y]:(p+h-b)/2).call(en,this,r).call(_u,this,r,a)).node()}}function xu(e,t){let{x:n=$t,y:r,y1:i,y2:a,...s}=cx(t);return[i,a]=by(r,i,a),new ux(e,{...s,x:n,y1:i,y2:a})}function Su(e,t){let{y:n=$t,x:r,x1:i,x2:a,...s}=sx(t);return[i,a]=by(r,i,a),new dx(e,{...s,y:n,x1:i,x2:a})}function by(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Mu(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const hx={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},yy="­";class ku extends Nt{constructor(t,n={}){const{x:r,y:i,text:a=zr(t)&&Ab(t)?$t:yb,frameAnchor:s,textAnchor:c=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:f=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:l=1,lineWidth:u=1/0,textOverflow:d,monospace:h,fontFamily:p=h?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:g,fontVariant:b,fontWeight:v,rotate:_}=n,[x,y]=bt(_,0),[w,M]=_x(m);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:L8(x),optional:!0},text:{value:a,filter:Kl,optional:!0}},n,hx),this.rotate=y,this.textAnchor=ct(c,"middle"),this.lineAnchor=hn(f,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+u,this.textOverflow=_y(d),this.monospace=!!h,this.fontFamily=gt(p),this.fontSize=M,this.fontStyle=gt(g),this.fontVariant=gt(b),this.fontWeight=gt(v),this.frameAnchor=Gs(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=wy(this),this.clipLine=xy(this)}render(t,n,r,i,a){const{x:s,y:c}=n,{x:f,y:l,rotate:u,text:d,title:h,fontSize:p}=r,{rotate:m}=this,[g,b]=Fo(this,i);return Qe("svg:g",a).call(nn,this,i,a).call(vy,this,d,i).call(rn,this,{x:f&&s,y:l&&c}).call(v=>v.selectAll().data(t).enter().append("text").call(Pt,this).call(px,this,d,h).attr("transform",Mu`translate(${f?_=>f[_]:g},${l?_=>l[_]:b})${u?_=>` rotate(${u[_]})`:m?` rotate(${m})`:""}`).call(ye,"font-size",p&&(_=>p[_])).call(en,this,r)).node()}}function _y(e){return e==null?null:hn(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function px(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:c,clipLine:f}=t;e.each(function(l){const u=c(yi(n[l])??"").map(f),d=u.length,h=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let p=0;for(let m=0;m<d;++m){if(++p,!u[m])continue;const g=this.ownerDocument.createElementNS(Ca.svg,"tspan");g.setAttribute("x",0),m===p-1?g.setAttribute("y",`${(h+m)*a}em`):g.setAttribute("dy",`${p*a}em`),g.textContent=u[m],this.appendChild(g),p=0}}else h&&this.setAttribute("y",`${h*a}em`),this.textContent=u[0];if(s&&!r&&u[0]!==n[l]){const p=this.ownerDocument.createElementNS(Ca.svg,"title");p.textContent=n[l],this.appendChild(p)}})}function nc(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Eo(t,n)),new ku(e,{...r,x:t,y:n})}function gx(e,{x:t=$t,...n}={}){return new ku(e,lx({...n,x:t}))}function mx(e,{y:t=$t,...n}={}){return new ku(e,fx({...n,y:t}))}function vy(e,t,n){ye(e,"text-anchor",t.textAnchor),ye(e,"font-family",t.fontFamily),ye(e,"font-size",t.fontSize),ye(e,"font-style",t.fontStyle),ye(e,"font-variant",t.fontVariant===void 0?bx(n):t.fontVariant),ye(e,"font-weight",t.fontWeight)}function bx(e){return e&&(P8(e)||Qt(e))?"tabular-nums":void 0}const yx=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function _x(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),yx.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function vx(e,t,n){const r=[];let i,a=0;for(const[s,c,f]of wx(e)){if(i===void 0&&(i=s),a>i&&n(e,i,c)>t&&(r.push(e.slice(i,a)+(e[a-1]===yy?"-":"")),i=s),f){r.push(e.slice(i,c)),i=void 0;continue}a=c}return r}function*wx(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case yy:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const e0={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Au(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Ai(e,i))r+=e0[e[i]]??(My(e,i)?120:e0.e);return r}function Eu(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Ai(e,i))r+=My(e,i)?126:63;return r}function wy({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?Eu:Au,i=t*100;return a=>vx(a,i,r)}function xy({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?Eu:Au,i=t*100;switch(n){case"clip-start":return a=>n0(a,i,r,"");case"clip-end":return a=>t0(a,i,r,"");case"ellipsis-start":return a=>n0(a,i,r,ii);case"ellipsis-middle":return a=>xx(a,i,r,ii);case"ellipsis-end":return a=>t0(a,i,r,ii)}}const ii="…";function _i(e,t,n,r){const i=[];let a=0;for(let s=0,c=0,f=e.length;s<f;s=c){c=Ai(e,s);const l=n(e,s,c);if(a+l>t){for(a+=r;a>t&&s>0;)c=s,s=i.pop(),a-=n(e,s,c);return[s,t-a]}a+=l,i.push(s)}return[-1,0]}function t0(e,t,n,r){e=e.trim();const i=n(r),[a]=_i(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function xx(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[s,c]=_i(e,t/2,n,a),[f]=_i(e,i-t/2-c+a,n,-a);return f<0?r:e.slice(0,s).trimEnd()+r+e.slice(Ai(e,f)).trimStart()}function n0(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[s]=_i(e,i-t+a,n,-a);return s<0?r:r+e.slice(Ai(e,s)).trimStart()}const al=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,r0=/\p{Extended_Pictographic}/uy;function Ai(e,t){return t+=Sx(e,t)?2:1,kx(e,t)&&(t=al.lastIndex),Mx(e,t)?Ai(e,t+1):t}function Sy(e,t){return e.charCodeAt(t)<128}function Sx(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function Mx(e,t){return e.charCodeAt(t)===8205}function kx(e,t){return Sy(e,t)?!1:(al.lastIndex=t,al.test(e))}function My(e,t){return Sy(e,t)?!1:(r0.lastIndex=t,r0.test(e))}const Ax={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},ky=3.5,Ex=ky*5,Ay={draw(e,t,n){const r=t*n/Ex;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},Tx={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},Cx=new Map([["arrow",Ay],["spike",Tx]]);function Nx(e){return e&&typeof e.draw=="function"}function Dx(e){if(Nx(e))return e;const t=Cx.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}let Ey=class extends Nt{constructor(t,n={}){const{x:r,y:i,r:a=ky,length:s,rotate:c,shape:f=Ay,anchor:l="middle",frameAnchor:u}=n,[d,h]=bt(s,12),[p,m]=bt(c,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:p,optional:!0}},n,Ax),this.r=+a,this.length=h,this.rotate=m,this.shape=Dx(f),this.anchor=hn(l,"anchor",["start","middle","end"]),this.frameAnchor=Gs(u)}render(t,n,r,i,a){const{x:s,y:c}=n,{x:f,y:l,length:u,rotate:d}=r,{length:h,rotate:p,anchor:m,shape:g,r:b}=this,[v,_]=Fo(this,i);return Qe("svg:g",a).call(nn,this,i,a).call(rn,this,{x:f&&s,y:l&&c}).call(x=>x.selectAll().data(t).enter().append("path").call(Pt,this).attr("transform",Mu`translate(${f?y=>f[y]:v},${l?y=>l[y]:_})${d?y=>` rotate(${d[y]})`:p?` rotate(${p})`:""}${m==="start"?"":m==="end"?u?y=>` translate(0,${u[y]})`:` translate(0,${h})`:u?y=>` translate(0,${u[y]/2})`:` translate(0,${h/2})`}`).attr("d",u?y=>{const w=er();return g.draw(w,u[y],b),w}:(()=>{const y=er();return g.draw(y,h,b),y})()).call(en,this,r)).node()}};function Ix(e,t={}){const{x:n=$t,...r}=t;return new Ey(e,{...r,x:n})}function Lx(e,t={}){const{y:n=$t,...r}=t;return new Ey(e,{...r,y:n})}function yr(e,t){return arguments.length<2&&!zr(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function rc({anchor:e}={},t){return e===void 0?t[0]:hn(e,"anchor",t)}function Ty(e){return rc(e,["left","right"])}function Cy(e){return rc(e,["right","left"])}function Ny(e){return rc(e,["bottom","top"])}function Dy(e){return rc(e,["top","bottom"])}function Po(){const[e,t]=yr(...arguments);return Iy("y",Ty(t),e,t)}function Ox(){const[e,t]=yr(...arguments);return Iy("fy",Cy(t),e,t)}function Ei(){const[e,t]=yr(...arguments);return Ly("x",Ny(t),e,t)}function Fx(){const[e,t]=yr(...arguments);return Ly("fx",Dy(t),e,t)}function Iy(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:c=1,fill:f=r,fillOpacity:l=i,textAnchor:u,textStroke:d,textStrokeOpacity:h,textStrokeWidth:p,tickSize:m=e==="y"?6:0,tickPadding:g,tickRotate:b,x:v,margin:_,marginTop:x=_===void 0?20:_,marginRight:y=_===void 0?t==="right"?40:0:_,marginBottom:w=_===void 0?20:_,marginLeft:M=_===void 0?t==="left"?40:0:_,label:k,labelAnchor:A,labelArrow:N,labelOffset:D,ariaLabel:S=`${e}-axis`,...T}){return m=mt(m),g=mt(g),b=mt(b),A!==void 0&&(A=hn(A,"labelAnchor",["center","top","bottom"])),N=qy(N),iy(m&&!Dt(a)?Px(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:c,tickSize:m,tickPadding:g,tickRotate:b,x:v,ariaLabel:S,...T}):null,Dt(f)?null:Bx(e,t,n,{fill:f,fillOpacity:l,stroke:d,strokeOpacity:h,strokeWidth:p,textAnchor:u,tickSize:m,tickPadding:g,tickRotate:b,x:v,marginTop:x,marginRight:y,marginBottom:w,marginLeft:M,ariaLabel:S,...T}),!Dt(f)&&k!==null?nc([],$y({fill:f,fillOpacity:l,...T},function(F,L,E,U,j){const ne=U[e],{marginTop:te,marginRight:Y,marginBottom:H,marginLeft:ee}=e==="y"&&j.inset||j,J=A??(ne.bandwidth?"center":"top"),P=D??(t==="right"?Y:ee)-3;return J==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=J,this.frameAnchor=`${J}-${t}`,this.rotate=0),this.dy=J==="top"?3-te:J==="bottom"?H-3:0,this.dx=t==="right"?P:-P,this.ariaLabel=`${S} label`,{facets:[[0]],channels:{text:{value:[jy(e,ne,{anchor:t,label:k,labelAnchor:J,labelArrow:N})]}}}})):null)}function Ly(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:c=1,fill:f=r,fillOpacity:l=i,textAnchor:u,textStroke:d,textStrokeOpacity:h,textStrokeWidth:p,tickSize:m=e==="x"?6:0,tickPadding:g,tickRotate:b,y:v,margin:_,marginTop:x=_===void 0?t==="top"?30:0:_,marginRight:y=_===void 0?20:_,marginBottom:w=_===void 0?t==="bottom"?30:0:_,marginLeft:M=_===void 0?20:_,label:k,labelAnchor:A,labelArrow:N,labelOffset:D,ariaLabel:S=`${e}-axis`,...T}){return m=mt(m),g=mt(g),b=mt(b),A!==void 0&&(A=hn(A,"labelAnchor",["center","left","right"])),N=qy(N),iy(m&&!Dt(a)?$x(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:c,tickSize:m,tickPadding:g,tickRotate:b,y:v,ariaLabel:S,...T}):null,Dt(f)?null:Rx(e,t,n,{fill:f,fillOpacity:l,stroke:d,strokeOpacity:h,strokeWidth:p,textAnchor:u,tickSize:m,tickPadding:g,tickRotate:b,y:v,marginTop:x,marginRight:y,marginBottom:w,marginLeft:M,ariaLabel:S,...T}),!Dt(f)&&k!==null?nc([],$y({fill:f,fillOpacity:l,...T},function(F,L,E,U,j){const ne=U[e],{marginTop:te,marginRight:Y,marginBottom:H,marginLeft:ee}=e==="x"&&j.inset||j,J=A??(ne.bandwidth?"center":"right"),P=D??(t==="top"?te:H)-3;return J==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${J}`,this.textAnchor=J==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-P:P,this.dx=J==="right"?Y-3:J==="left"?3-ee:0,this.ariaLabel=`${S} label`,{facets:[[0]],channels:{text:{value:[jy(e,ne,{anchor:t,label:k,labelAnchor:J,labelArrow:N})]}}}})):null)}function Px(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="y"?"-empty":""),frameAnchor:c=t,tickSize:f,inset:l=0,insetLeft:u=l,insetRight:d=l,dx:h=0,y:p=e==="y"?void 0:null,ariaLabel:m,...g}){return Ti(Lx,e,n,{ariaLabel:`${m} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:c,y:p,...g,dx:t==="left"?+h-jt+ +u:+h+jt-d,anchor:"start",length:f,shape:t==="left"?Yx:Gx})}function $x(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="x"?"-empty":""),frameAnchor:c=t,tickSize:f,inset:l=0,insetTop:u=l,insetBottom:d=l,dy:h=0,x:p=e==="x"?void 0:null,ariaLabel:m,...g}){return Ti(Ix,e,n,{ariaLabel:`${m} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:c,x:p,...g,dy:t==="bottom"?+h-jt-d:+h+jt+ +u,anchor:"start",length:f,shape:t==="bottom"?Hx:Wx})}function Bx(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*fy):0),text:f,textAnchor:l=Math.abs(s)>60?"middle":t==="left"?"end":"start",lineAnchor:u=s>60?"top":s<-60?"bottom":"middle",fontVariant:d,inset:h=0,insetLeft:p=h,insetRight:m=h,dx:g=0,ariaLabel:b,y:v=e==="y"?void 0:null,..._}){return Ti(mx,e,n,{ariaLabel:`${b} tick label`},{facetAnchor:r,frameAnchor:i,text:f,textAnchor:l,lineAnchor:u,fontVariant:d,rotate:s,y:v,..._,dx:t==="left"?+g-a-c+ +p:+g+ +a+ +c-m},function(x,y,w,M,k){d===void 0&&(this.fontVariant=Ry(x)),f===void 0&&(k.text=By(x,y,w,M,t))})}function Rx(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*fy):0),text:f,textAnchor:l=Math.abs(s)>=10?s<0^t==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(s)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:h=0,insetTop:p=h,insetBottom:m=h,dy:g=0,x:b=e==="x"?void 0:null,ariaLabel:v,..._}){return Ti(gx,e,n,{ariaLabel:`${v} tick label`},{facetAnchor:r,frameAnchor:i,text:f===void 0?null:f,textAnchor:l,lineAnchor:u,fontVariant:d,rotate:s,x:b,..._,dy:t==="bottom"?+g+ +a+ +c-m:+g-a-c+ +p},function(x,y,w,M,k){d===void 0&&(this.fontVariant=Ry(x)),f===void 0&&(k.text=By(x,y,w,M,t))})}function jx(){const[e,t]=yr(...arguments);return Oy("y",Ty(t),e,t)}function qx(){const[e,t]=yr(...arguments);return Oy("fy",Cy(t),e,t)}function zx(){const[e,t]=yr(...arguments);return Fy("x",Ny(t),e,t)}function Ux(){const[e,t]=yr(...arguments);return Fy("fx",Dy(t),e,t)}function Oy(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:s=t==="right"?i:null,ariaLabel:c=`${e}-grid`,ariaHidden:f=!0,...l}){return Ti(Su,e,n,{ariaLabel:c,ariaHidden:f},{y:r,x1:a,x2:s,...Py(l)})}function Fy(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:s=t==="bottom"?i:null,ariaLabel:c=`${e}-grid`,ariaHidden:f=!0,...l}){return Ti(xu,e,n,{ariaLabel:c,ariaHidden:f},{x:r,y1:a,y2:s,...Py(l)})}function Py({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function $y({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:c,pointerEvents:f,shapeRendering:l,clip:u=!1},d){return[,e]=Or(e),[,t]=bt(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:c,pointerEvents:f,shapeRendering:l,clip:u,initializer:d}}function Ti(e,t,n,r,i,a){let s;function c(u,d,h,p,m,g){const b=u==null&&(t==="fx"||t==="fy"),{[t]:v}=p;if(!v)throw new Error(`missing scale: ${t}`);const _=v.domain();let{interval:x,ticks:y,tickFormat:w,tickSpacing:M=t==="x"?80:35}=i;if(typeof y=="string"&&zy(v)&&(x=y,y=void 0),y===void 0&&(y=Co(x,v.type)??Vx(v,M)),u==null){if(zr(y))u=jr(y);else if(I8(y))u=Zc(y,...ir(_));else if(v.interval){let A=v.interval;if(v.ticks){const[N,D]=ir(_),S=(D-N)/A[Ao];A=kh(A,S/y)??A,u=Zc(A,N,D)}else{u=_;const N=u.length;A=kh(A,N/y)??A,A!==v.interval&&(u=Zc(A,...ir(u)))}if(A===v.interval){const N=Math.round(u.length/y);N>1&&(u=u.filter((D,S)=>S%N===0))}}else v.ticks?u=v.ticks(y):u=_;if(!v.ticks&&u.length&&u!==_){const A=new ks(_);u=u.filter(N=>A.has(N)),u.length||ar(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?d=[mr(u)]:s[t]={scale:t,value:$t}}a==null||a.call(this,v,u,y,w,s);const k=Object.fromEntries(Object.entries(s).map(([A,N])=>[A,{...N,value:qt(u,N.value)}]));return b&&(d=g.filterFacets(u,k)),{data:u,facets:d,channels:k}}const f=Fr(i).initializer,l=e(n,Fr({...i,initializer:c},f));return n==null?(s=l.channels,l.channels={}):s={},r!==void 0&&Object.assign(l,r),l.clip===void 0&&(l.clip=!1),l}function Vx(e,t){const[n,r]=ir(e.range());return(r-n)/t}function By(e,t,n,r,i){return{value:Tu(e,t,n,r,i)}}function Tu(e,t,n,r,i){return typeof r=="function"&&!(e.type==="log"&&e.tickFormat)?r:r===void 0&&t&&Qt(t)?h8(e.type,t,i)??yi:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):typeof r=="string"&&e.domain().length>0?(Qt(e.domain())?Mo:Mi)(r):r===void 0?yi:qn(r)}function Zc(e,t,n){return e.range(t,e.offset(e.floor(n)))}const Hx={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},Wx={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},Yx={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},Gx={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function Ry(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function jy(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&zy(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=J7(t);s&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function qy(e="auto"){return Dt(e)?!1:typeof e=="boolean"?e:hn(e,"labelArrow",["auto","up","right","down","left"])}function zy(e){return Qt(e.domain())}function i0(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function Xx(e,{opacity:t,...n}={}){if(!Ur(e)&&!Jb(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Uy(e,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",bt(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function Kx(e,{fill:t=(l=>(l=e.hint)==null?void 0:l.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(u=>(u=e.hint)==null?void 0:u.stroke)()!==void 0?e.hint.stroke:Dt(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...c}={},f){const[d,h]=Or(t),[p,m]=Or(r),g=i0(f,d),b=i0(f,p),v=s*s*Math.PI;return n=bt(n)[1],i=bt(i)[1],a=bt(a)[1],Uy(e,c,(_,x,y,w)=>_.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",w).attr("fill",d==="color"?M=>g.scale(M):h).attr("fill-opacity",n).attr("stroke",p==="color"?M=>b.scale(M):m).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",M=>{const k=er();return e.scale(M).draw(k,v),k}))}function Uy(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=cy(e),swatchSize:s=15,swatchWidth:c=s,swatchHeight:f=s,marginLeft:l=0,className:u,style:d,width:h}=t;const p=pu(t);u=gu(u),i=Tu(e.scale,e.domain,void 0,i);const m=Qe("div",p).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,m.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${u}-swatch`).call(n,e,c,f).call(b=>b.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,m.selectAll().data(e.domain).enter().append("span").attr("class",`${u}-swatch`).call(n,e,c,f).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),m.call(b=>b.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",l?`${+l}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",ct(a,"normal")).call(mu,d).node()}const sl=new Map([["symbol",Kx],["color",Hy],["opacity",Jx]]);function Zx(e,t,n={}){return(r,i)=>{if(!sl.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return sl.get(r)(e[r],Vy(t,n[r],i),a=>e[a])}}function Vy({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return j8(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function Hy(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return Xx(e,n);case"ramp":return ex(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function Jx({type:e,interpolate:t,...n},{legend:r=!0,color:i=Ta(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Hy({type:e,...n,interpolate:Qx(i)},{legend:r,...a})}function Qx(e){const{r:t,g:n,b:r}=Ta(e)||Ta(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function eS(e,t,n){const r=[];for(const[i,a]of sl){const s=n[i];if(s!=null&&s.legend&&i in e){const c=a(e[i],Vy(t,e[i],s),f=>e[f]);c!=null&&r.push(c)}}return r}function tS(e={},t="x"){return Sb(e)?e:{...e,[t]:$t}}function nS(e,t){if(t.length===1)return{data:e,facets:t};const n=fo(e),r=new Uint8Array(n);let i=0;for(const c of t)for(const f of c)r[f]&&++i,r[f]=1;if(i===0)return{data:e,facets:t};e=co(e);const a=e[mb]=new Uint32Array(n+i);t=t.map(c=>co(c,Uint32Array));let s=n;r.fill(0);for(const c of t)for(let f=0,l=c.length;f<l;++f){const u=c[f];r[u]?(c[f]=s,e[s]=e[u],a[s]=u,++s):a[u]=u,r[u]=1}return{data:e,facets:t}}function rS(e={},t={}){arguments.length===1&&([e,t]=oS(e));const{y1:n,y:r=n,x:i,...a}=t,[s,c,f,l]=sS(r,i,"y","x",e,a);return{...s,y1:n,y:c,x1:f,x2:l,x:T8(f,l)}}function iS({x:e,x1:t,x2:n,...r}={}){return r=bu(r,"y"),t===void 0&&n===void 0?rS({x:e,...r}):([t,n]=k8(e,t,n),{...r,x1:t,x2:n})}function oS(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const aS={length:!0};function sS(e,t=y8,n,r,{offset:i,order:a,reverse:s},c){if(t===null)throw new Error(`stack requires ${r}`);const f=Mb(c),[l,u]=E8(e),[d,h]=Xf(t),[p,m]=Xf(t);return d.hint=p.hint=aS,i=cS(i),a=uS(a,i,r),[su(c,(g,b,v)=>{({data:g,facets:b}=nS(g,b));const _=e==null?void 0:u(C8(qt(g,e),v==null?void 0:v[n])),x=qt(g,t,Float64Array),y=qt(g,f),w=a&&a(g,_,x,y),M=fo(g),k=h(new Float64Array(M)),A=m(new Float64Array(M)),N=[];for(const D of b){const S=_?Array.from(Ml(D,T=>_[T]).values()):[D];if(w)for(const T of S)T.sort(w);for(const T of S){let F=0,L=0;s&&T.reverse();for(const E of T){const U=x[E];U<0?F=A[E]=(k[E]=F)+U:U>0?L=A[E]=(k[E]=L)+U:A[E]=k[E]=L}}N.push(S)}return i&&i(N,k,A,y),{data:g,facets:b}}),l,d,p]}function cS(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return fS;case"center":case"silhouette":return lS;case"wiggle":return Yy}throw new Error(`unknown offset: ${e}`)}}function Wy(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function fS(e,t,n){for(const r of e)for(const i of r){const[a,s]=Wy(i,n);for(const c of i){const f=1/(s-a||1);t[c]=f*(t[c]-a),n[c]=f*(n[c]-a)}}}function lS(e,t,n){for(const r of e){for(const i of r){const[a,s]=Wy(i,n);for(const c of i){const f=(s+a)/2;t[c]-=f,n[c]-=f}}Gy(r,t,n)}Xy(e,t,n)}function Yy(e,t,n,r){for(const i of e){const a=new Cr;let s=0;for(const c of i){let f=-1;const l=c.map(p=>Math.abs(n[p]-t[p])),u=c.map(p=>{f=r?r[p]:++f;const m=n[p]-t[p],g=a.has(f)?m-a.get(f):0;return a.set(f,m),g}),d=[0,...rv(u)];for(const p of c)t[p]+=s,n[p]+=s;const h=Nr(l);h&&(s-=Nr(l,(p,m)=>(u[m]/2+d[m])*p)/h)}Gy(i,t,n)}Xy(e,t,n)}function Gy(e,t,n){const r=kn(e,i=>kn(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function Xy(e,t,n){const r=e.length;if(r===1)return;const i=e.map(c=>c.flat()),a=i.map(c=>(kn(c,f=>t[f])+zt(c,f=>n[f]))/2),s=kn(a);for(let c=0;c<r;c++){const f=s-a[c];for(const l of i[c])t[l]+=f,n[l]+=f}}function uS(e,t,n){if(e===void 0&&t===Yy)return o0(En);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?ls:En;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return dS(i);case"z":return hS(i);case"sum":return pS(i);case"appearance":return gS(i);case"inside-out":return o0(i)}return a0(bb(e))}if(typeof e=="function")return(e.length===1?a0:mS)(e);if(Rr(e))return bS(e);throw new Error(`invalid order: ${e}`)}}function dS(e){return(t,n,r)=>(i,a)=>e(r[i],r[a])}function hS(e){return(t,n,r,i)=>(a,s)=>e(i[a],i[s])}function pS(e){return ic(e,(t,n,r,i)=>Al(mr(t),a=>Nr(a,s=>r[s]),a=>i[a]))}function gS(e){return ic(e,(t,n,r,i)=>Al(mr(t),a=>n[Vp(a,s=>r[s])],a=>i[a]))}function o0(e){return ic(e,(t,n,r,i)=>{const a=mr(t),s=Al(a,d=>n[Vp(d,h=>r[h])],d=>i[d]),c=Gi(a,d=>Nr(d,h=>r[h]),d=>i[d]),f=[],l=[];let u=0;for(const d of s)u<0?(u+=c.get(d),f.push(d)):(u-=c.get(d),l.push(d));return l.reverse().concat(f)})}function a0(e){return t=>{const n=qt(t,e);return(r,i)=>En(n[r],n[i])}}function mS(e){return t=>Rr(t)?(n,r)=>e(t[n],t[r]):(n,r)=>e(t.get(n),t.get(r))}function bS(e){return ic(En,()=>e)}function ic(e,t){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new Cr(t(n,r,i,a).map((c,f)=>[c,f]));return(c,f)=>e(s.get(a[c]),s.get(a[f]))}}const yS={ariaLabel:"rect"};class Ky extends Nt{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s}=n;super(t,{x1:{value:r,scale:"x",type:r!=null&&a==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&s==null?"band":void 0,optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,yS),Cu(this,n),Nu(this,n)}render(t,n,r,i,a){const{x:s,y:c}=n;let{x1:f,y1:l,x2:u,y2:d}=r;const{marginTop:h,marginRight:p,marginBottom:m,marginLeft:g,width:b,height:v}=i,{projection:_}=a,{insetTop:x,insetRight:y,insetBottom:w,insetLeft:M}=this,{rx:k,ry:A,rx1y1:N,rx1y2:D,rx2y1:S,rx2y2:T}=this;(f||u)&&!_&&bi(s)&&(f=u=null),(l||d)&&!_&&bi(c)&&(l=d=null);const F=s!=null&&s.bandwidth?s.bandwidth():0,L=c!=null&&c.bandwidth?c.bandwidth():0;return Qe("svg:g",a).call(nn,this,i,a).call(rn,this,{},0,0).call(E=>E.selectAll().data(t).enter().call(N||D||S||T?U=>U.append("path").call(Pt,this).call(Du,f&&u?j=>f[j]+(u[j]<f[j]?-y:M):f?j=>f[j]+M:g+M,l&&d?j=>l[j]+(d[j]<l[j]?-w:x):l?j=>l[j]+x:h+x,f&&u?j=>u[j]-(u[j]<f[j]?-M:y):f?j=>f[j]+F-y:b-p-y,l&&d?j=>d[j]-(d[j]<l[j]?-x:w):l?j=>l[j]+L-w:v-m-w,this).call(en,this,r):U=>U.append("rect").call(Pt,this).attr("x",f?u?j=>Math.min(f[j],u[j])+M:j=>f[j]+M:g+M).attr("y",l?d?j=>Math.min(l[j],d[j])+x:j=>l[j]+x:h+x).attr("width",f?u?j=>Math.max(0,Math.abs(u[j]-f[j])+F-M-y):F-M-y:b-p-g-y-M).attr("height",l?d?j=>Math.max(0,Math.abs(l[j]-d[j])+L-x-w):L-x-w:v-h-m-x-w).call(ye,"rx",k).call(ye,"ry",A).call(en,this,r))).node()}}function Cu(e,{inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={}){e.insetTop=mt(n),e.insetRight=mt(r),e.insetBottom=mt(i),e.insetLeft=mt(a)}function Nu(e,{r:t,rx:n,ry:r,rx1:i=t,ry1:a=t,rx2:s=t,ry2:c=t,rx1y1:f=i!==void 0?+i:a!==void 0?+a:0,rx1y2:l=i!==void 0?+i:c!==void 0?+c:0,rx2y1:u=s!==void 0?+s:a!==void 0?+a:0,rx2y2:d=s!==void 0?+s:c!==void 0?+c:0}={}){f||l||u||d?(e.rx1y1=f,e.rx1y2=l,e.rx2y1=u,e.rx2y2=d):(e.rx=ct(n,"auto"),e.ry=ct(r,"auto"))}function Du(e,t,n,r,i,a){const{rx1y1:s,rx1y2:c,rx2y1:f,rx2y2:l}=a;typeof t!="function"&&(t=qn(t)),typeof n!="function"&&(n=qn(n)),typeof r!="function"&&(r=qn(r)),typeof i!="function"&&(i=qn(i));const u=Math.max(Math.abs(s+f),Math.abs(c+l)),d=Math.max(Math.abs(s+c),Math.abs(f+l));e.attr("d",h=>{const p=t(h),m=n(h),g=r(h),b=i(h),v=p>g,_=m>b,x=v?g:p,y=v?p:g,w=_?b:m,M=_?m:b,k=Math.min(1,(y-x)/u,(M-w)/d),A=k*(v?_?l:f:_?c:s),N=k*(v?_?c:s:_?l:f),D=k*(v?_?s:c:_?f:l),S=k*(v?_?f:l:_?s:c);return`M${x},${w+ca(A,S)}A${A},${A} 0 0 ${A<0?0:1} ${x+sa(A,S)},${w}H${y-sa(N,D)}A${N},${N} 0 0 ${N<0?0:1} ${y},${w+ca(N,D)}V${M-ca(D,N)}A${D},${D} 0 0 ${D<0?0:1} ${y-sa(D,N)},${M}H${x+sa(S,A)}A${S},${S} 0 0 ${S<0?0:1} ${x},${M-ca(S,A)}Z`})}function sa(e,t){return t<0?e:Math.abs(e)}function ca(e,t){return t<0?Math.abs(e):e}function _S(e,t){return new Ky(e,ax(gy(t)))}function Iu(e,t={}){return M8(t)||(t={...t,y:yb,x2:$t,interval:1}),new Ky(e,iS(gy(tS(t))))}const vS={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},wS={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class xS extends Nt{constructor(t={}){const{anchor:n=null}=t;super(Sa,void 0,t,n==null?vS:wS),this.anchor=wb(n,"anchor",["top","right","bottom","left"]),Cu(this,t),n||Nu(this,t)}render(t,n,r,i,a){const{marginTop:s,marginRight:c,marginBottom:f,marginLeft:l,width:u,height:d}=i,{anchor:h,insetTop:p,insetRight:m,insetBottom:g,insetLeft:b}=this,{rx:v,ry:_,rx1y1:x,rx1y2:y,rx2y1:w,rx2y2:M}=this,k=l+b,A=u-c-m,N=s+p,D=d-f-g;return Qe(h?"svg:line":x||y||w||M?"svg:path":"svg:rect",a).datum(0).call(nn,this,i,a).call(Pt,this).call(en,this,r).call(rn,this,{}).call(h==="left"?S=>S.attr("x1",k).attr("x2",k).attr("y1",N).attr("y2",D):h==="right"?S=>S.attr("x1",A).attr("x2",A).attr("y1",N).attr("y2",D):h==="top"?S=>S.attr("x1",k).attr("x2",A).attr("y1",N).attr("y2",N):h==="bottom"?S=>S.attr("x1",k).attr("x2",A).attr("y1",D).attr("y2",D):x||y||w||M?S=>S.call(Du,k,N,A,D,this):S=>S.attr("x",k).attr("y",N).attr("width",A-k).attr("height",D-N).attr("rx",v).attr("ry",_)).node()}}function Zy(e){return new xS(e)}const Jc={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},SS=new Set(["geometry","href","src","ariaLabel","scales"]);class MS extends Nt{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&zr(t)&&Ab(t)&&(n={...n,title:$t});const{x:r,y:i,x1:a,x2:s,y1:c,y2:f,anchor:l,preferredAnchor:u="bottom",monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:b,lineHeight:v=1,lineWidth:_=20,frameAnchor:x,format:y,textAnchor:w="start",textOverflow:M,textPadding:k=8,title:A,pointerSize:N=12,pathFilter:D="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:c!=null&&f!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:c,scale:"y",optional:f==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:f,scale:"y",optional:c==null},title:{value:A,optional:!0}},n,Jc),this.anchor=Kf(l,"anchor"),this.preferredAnchor=Kf(u,"preferredAnchor"),this.frameAnchor=Gs(x),this.textAnchor=ct(w,"middle"),this.textPadding=+k,this.pointerSize=+N,this.pathFilter=gt(D),this.lineHeight=+v,this.lineWidth=+_,this.textOverflow=_y(M),this.monospace=!!d,this.fontFamily=gt(h),this.fontSize=mt(p),this.fontStyle=gt(m),this.fontVariant=gt(g),this.fontWeight=gt(b);for(const S in Jc)S in this.channels&&(this[S]=Jc[S]);this.splitLines=wy(this),this.clipLine=xy(this),this.format=typeof y=="string"||typeof y=="function"?{title:y}:{...y}}render(t,n,r,i,a){const s=this,{x:c,y:f,fx:l,fy:u}=n,{ownerSVGElement:d,document:h}=a,{anchor:p,monospace:m,lineHeight:g,lineWidth:b}=this,{textPadding:v,pointerSize:_,pathFilter:x}=this,{marginTop:y,marginLeft:w}=i,{x1:M,y1:k,x2:A,y2:N,x:D=M??A,y:S=k??N}=r,T=l?l(t.fx)-w:0,F=u?u(t.fy)-y:0,[L,E]=Fo(this,i),U=ay(r,L),j=sy(r,E),ne=m?Eu:Au,te=ne(ii);let Y,H;"title"in r?(Y=s0.call(this,{title:r.channels.title},n),H=CS):(Y=s0.call(this,r.channels,n),H=NS);const ee=Qe("svg:g",a).call(nn,this,i,a).call(vy,this).call(rn,this,{x:D&&c,y:S&&f}).call(re=>re.selectAll().data(t).enter().append("g").attr("transform",ue=>`translate(${Math.round(U(ue))},${Math.round(j(ue))})`).call(Pt,this).call(ue=>ue.append("path").attr("filter",x)).call(ue=>ue.append("text").each(function(G){const ce=pt(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const C=H.call(s,G,t,Y,n,r);if(typeof C=="string")for(const V of s.splitLines(C))J(ce,{value:s.clipLine(V)});else{const V=new Set;for(const X of C){const{label:q=""}=X;q&&V.has(q)||(V.add(q),J(ce,X))}}})));function J(re,{label:ue,value:G,color:ce,opacity:C}){ue??(ue=""),G??(G="");const V=ce!=null||C!=null;let X,q=b*100;const[fe]=_i(ue,q,ne,te);if(fe>=0)ue=ue.slice(0,fe).trimEnd()+ii,X=G.trim(),G="";else{(ue||!G&&!V)&&(G=" "+G);const[de]=_i(G,q-ne(ue),ne,te);de>=0&&(X=G.trim(),G=G.slice(0,de).trimEnd()+ii)}const se=re.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");ue&&se.append("tspan").attr("font-weight","bold").text(ue),G&&se.append(()=>h.createTextNode(G)),V&&se.append("tspan").text(" ■").attr("fill",ce).attr("fill-opacity",C).style("user-select","none"),X&&se.append("title").text(X)}function P(){const{width:re,height:ue}=i.facet??i;ee.selectChildren().each(function(G){let{x:ce,width:C,height:V}=this.getBBox();C=Math.round(C),V=Math.round(V);let X=p;if(X===void 0){const se=U(G)+T,de=j(G)+F,me=se+C+_+v*2<re,W=se-C-_-v*2>0,le=de+V+_+v*2<ue,_e=de-V-_-v*2>0;X=me&&W?le&&_e?s.preferredAnchor:_e?"bottom":"top":le&&_e?me?"left":"right":(me||W)&&(le||_e)?`${_e?"bottom":"top"}-${me?"left":"right"}`:s.preferredAnchor}const q=this.firstChild,fe=this.lastChild;if(q.setAttribute("d",TS(X,_,v,C,V)),ce)for(const se of fe.childNodes)se.setAttribute("x",-ce);fe.setAttribute("y",`${+AS(X,fe.childNodes.length,g).toFixed(6)}em`),fe.setAttribute("transform",`translate(${ES(X,_,v,C,V)})`)}),ee.attr("visibility",null)}return t.length&&(ee.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(P):typeof requestAnimationFrame<"u"&&requestAnimationFrame(P)),ee.node()}}function kS(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Eo(t,n)),new MS(e,{...r,x:t,y:n})}function AS(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function ES(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function TS(e,t,n,r,i){const a=r+n*2,s=i+n*2;switch(e){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${s}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${s}h${-a}v${-s}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${s}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-s/2}h${-a}v${s}h${a}v${t/2-s/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-s}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-s}h${-a}v${s}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-s}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-s/2}h${a}v${s}h${-a}v${t/2-s/2}z`}}function s0(e,t){var i,a;const n={};let r=this.format;r=c0(r,e,"x"),r=c0(r,e,"y"),this.format=r;for(const s in r){const c=r[s];if(!(c===null||c===!1))if(s==="fx"||s==="fy")n[s]=!0;else{const f=Oh(e,s);f&&(n[s]=f)}}for(const s in e){if(s in n||s in r||SS.has(s)||(s==="x"||s==="y")&&e.geometry)continue;const c=Oh(e,s);if(c){if(c.scale==null&&c.defaultScale==="color")continue;n[s]=c}}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const s in n){const c=this.format[s];if(typeof c=="string"){const f=((i=n[s])==null?void 0:i.value)??((a=t[s])==null?void 0:a.domain())??[];this.format[s]=(Qt(f)?Mo:Mi)(c)}else if(c===void 0||c===!0){const f=t[s];this.format[s]=f!=null&&f.bandwidth?Tu(f,f.domain()):yi}}return n}function c0(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const a=Object.entries(e),s=e[n];return a.splice(a.findIndex(([c])=>c===n)+1,0,[r,s],[i,s]),Object.fromEntries(a)}function CS(e,t,{title:n}){return this.format.title(n.value[e],e)}function*NS(e,t,n,r,i){for(const a in n){if(a==="fx"||a==="fy"){yield{label:ds(r,n,a),value:this.format[a](t[a],e)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const s=n[a];if(a==="x2"&&"x1"in n)yield{label:l0(r,n,"x"),value:f0(this.format.x2,n.x1,s,e)};else if(a==="y2"&&"y1"in n)yield{label:l0(r,n,"y"),value:f0(this.format.y2,n.y1,s,e)};else{const c=s.value[e],f=s.scale;if(!dr(c)&&f==null)continue;yield{label:ds(r,n,a),value:this.format[a](c,e),color:f==="color"?i[a][e]:null,opacity:f==="opacity"?i[a][e]:null}}}}function f0(e,t,n,r){var i;return(i=n.hint)!=null&&i.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}–${e(n.value[r],r)}`}function l0(e,t,n){const r=ds(e,t,`${n}1`,n),i=ds(e,t,`${n}2`,n);return r===i?r:`${r}–${i}`}function ds(e,t,n,r=n){const i=t[n],a=e[(i==null?void 0:i.scale)??n];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function Lu(e={}){var te;const{facet:t,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:c}=e,f=gu(e.className),l=e.marks===void 0?[]:d0(e.marks);l.push(...$S(l));const u=FS(t,e),d=new Map;for(const Y of l){const H=h0(Y,u,e);H&&d.set(Y,H)}const h=new Map;u&&$i(h,[u],e),$i(h,d,e);const p=d0(BS(l,h,e));for(const Y of p){const H=h0(Y,u,e);H&&d.set(Y,H)}l.unshift(...p);let m=o9(h,e);if(m!==void 0){const Y=u?Yc(m,u):void 0;for(const ee of l){if(ee.facet===null||ee.facet==="super")continue;const J=d.get(ee);J!==void 0&&(J.facetsIndex=ee.fx!=null||ee.fy!=null?Yc(m,J):Y)}const H=new Set;for(const{facetsIndex:ee}of d.values())ee==null||ee.forEach((J,P)=>{(J==null?void 0:J.length)>0&&H.add(P)});m.forEach(0<H.size&&H.size<m.length?(ee,J)=>ee.empty=!H.has(J):ee=>ee.empty=!1);for(const ee of l)if(ee.facet==="exclude"){const J=d.get(ee);J!==void 0&&(J.facetsIndex=c9(J.facetsIndex))}}for(const Y of ze.keys())us(e[Y])&&Y!=="fx"&&Y!=="fy"&&h.set(Y,[]);const g=new Map;for(const Y of l){if(g.has(Y))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:H,channels:ee}=d.get(Y)??{},{data:J,facets:P,channels:re}=Y.initialize(H,ee,e);Ou(re,e),g.set(Y,{data:J,facets:P,channels:re})}const b=el($i(h,g,e),e),v=K9(b,l,e);K7(b,v);const _=zh(b),{fx:x,fy:y}=_,w=x||y?Gb(b,v):v,M=x||y?HS(_,v):v,k=pu(e),A=k.document,N=Np("svg").call(A.documentElement);let D=N;k.ownerSVGElement=N,k.className=f,k.projection=b9(e,w),k.path=function(){return Ll(this.projection??M9(_))},k.filterFacets=(Y,H)=>Yc(m,{channels:H,groups:hu(Y,H)}),k.getMarkState=Y=>{const H=g.get(Y),ee=d.get(Y);return{...H,channels:{...H.channels,...ee==null?void 0:ee.channels}}},k.dispatchValue=Y=>{D.value!==Y&&(D.value=Y,D.dispatchEvent(new k.document.defaultView.Event("input",{bubbles:!0})))};const S=new Set;for(const[Y,H]of g)if(Y.initializer!=null){const ee=Y.facet==="super"?M:w,J=Y.initializer(H.data,H.facets,H.channels,_,ee,k);if(J.data!==void 0&&(H.data=J.data),J.facets!==void 0&&(H.facets=J.facets),J.channels!==void 0){const{fx:P,fy:re,...ue}=J.channels;OS(ue),Object.assign(H.channels,ue);for(const G of Object.values(ue)){const{scale:ce}=G;ce!=null&&!U8(ze.get(ce))&&(Jy(G,e),S.add(ce))}(P!=null||re!=null)&&d.set(Y,!0)}}if(S.size){const Y=new Map;$i(Y,g,e,P=>S.has(P)),$i(h,g,e,P=>S.has(P));const H=VS(el(Y,e),b),{scales:ee,...J}=zh(H);Object.assign(b,H),Object.assign(_,J),Object.assign(_.scales,ee)}let T,F;m!==void 0&&(T={x:x==null?void 0:x.domain(),y:y==null?void 0:y.domain()},m=a9(m,T),F=s9(x,y,v));for(const[Y,H]of g)H.values=Y.scale(H.channels,_,k);const{width:L,height:E}=v;pt(N).attr("class",f).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",L).attr("height",E).attr("viewBox",`0 0 ${L} ${E}`).attr("aria-label",s).attr("aria-description",c).call(Y=>Y.append("style").text(`:where(.${f}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${f} text),
:where(.${f} tspan) {
  white-space: pre;
}`)).call(mu,n);for(const Y of l){const{channels:H,values:ee,facets:J}=g.get(Y);if(m===void 0||Y.facet==="super"){let P=null;if(J&&(P=J[0],P=Y.filter(P,H,ee),P.length===0))continue;const re=Y.render(P,_,ee,M,k);if(re==null)continue;N.appendChild(re)}else{let P;for(const re of m){if(!(((te=Y.facetAnchor)==null?void 0:te.call(Y,m,T,re))??!re.empty))continue;let ue=null;if(J){const ce=d.has(Y);if(ue=J[ce?re.i:0],ue=Y.filter(ue,H,ee),ue.length===0)continue;!ce&&ue===J[0]&&(ue=A8(ue)),ue.fx=re.x,ue.fy=re.y,ue.fi=re.i}const G=Y.render(ue,_,ee,w,k);if(G!=null){(P??(P=pt(N).append("g"))).append(()=>G).datum(re);for(const ce of["aria-label","aria-description","aria-hidden","transform"])G.hasAttribute(ce)&&(P.attr(ce,G.getAttribute(ce)),G.removeAttribute(ce))}}P==null||P.selectChildren().each(F)}}const U=eS(b,k,e),{figure:j=r!=null||i!=null||a!=null||U.length>0}=e;j&&(D=A.createElement("figure"),D.className=`${f}-figure`,D.style.maxWidth="initial",r!=null&&D.append(u0(A,r,"h2")),i!=null&&D.append(u0(A,i,"h3")),D.append(...U,N),a!=null&&D.append(DS(A,a)),"value"in N&&(D.value=N.value,delete N.value)),D.scale=i9(_.scales),D.legend=Zx(b,k,e);const ne=L7();return ne>0&&pt(N).append("text").attr("x",L).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${ne.toLocaleString("en-US")} warning${ne===1?"":"s"}. Please check the console.`),D}function u0(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function DS(e,t){const n=e.createElement("figcaption");return n.append(t),n}function d0(e){return e.flat(1/0).filter(t=>t!=null).map(IS)}function IS(e){return typeof e.render=="function"?e:new LS(e)}class LS extends Nt{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Ou(e,t){for(const n in e)Jy(e[n],t);return e}function Jy(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:c=a?f=>f==null?NaN:f*100:kb(s,i)}=t[n]??{};c!=null&&(e.value=tt(e.value,c),e.transform=!1)}function OS(e){for(const t in e)Ob(t,e[t])}function $i(e,t,n,r=_8){var i,a;for(const{channels:s}of t.values())for(const c in s){const f=s[c],{scale:l}=f;if(l!=null&&r(l))if(l==="projection"){if(!w9(n)){const u=((i=n.x)==null?void 0:i.domain)===void 0,d=((a=n.y)==null?void 0:a.domain)===void 0;if(u||d){const[h,p]=S9(f);u&&Qc(e,"x",h),d&&Qc(e,"y",p)}}}else Qc(e,l,f)}return e}function Qc(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function FS(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=gi(e.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=uo(i,{value:n,scale:"fx"})),r!=null&&(a.fy=uo(i,{value:r,scale:"fy"})),Ou(a,t);const s=hu(i,a);return{channels:a,groups:s,data:e.data}}function h0(e,t,n){if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const f=gi(e.data??r??i);if(f===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(f===null)return;const l={};return r!=null&&(l.fx=uo(f,{value:r,scale:"fx"})),i!=null&&(l.fy=uo(f,{value:i,scale:"fy"})),Ou(l,n),{channels:l,groups:hu(f,l)}}if(t===void 0)return;const{channels:a,groups:s,data:c}=t;if(e.facet!=="auto"||e.data===c)return{channels:a,groups:s};c.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&fo(gi(e.data))===fo(c)&&ar(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function PS(e,t={}){return Fr({...t,x:null,y:null},(n,r,i,a,s,c)=>c.getMarkState(e))}function $S(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?Q9:/^y$/i.test(i)?Zh:J9,r=i(PS(n,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===Zh?"left":"bottom");const s=kS(n.data,r);s.facet=n.facet,s.facetAnchor=n.facetAnchor,t.push(s)}}return t}function BS(e,t,n){let{projection:r,x:i={},y:a={},fx:s={},fy:c={},axis:f,grid:l,facet:u={},facet:{axis:d=f,grid:h}=u,x:{axis:p=f,grid:m=p===null?null:l}=i,y:{axis:g=f,grid:b=g===null?null:l}=a,fx:{axis:v=d,grid:_=v===null?null:h}=s,fy:{axis:x=d,grid:y=x===null?null:h}=c}=n;(r||!us(i)&&!p0("x",e))&&(p=m=null),(r||!us(a)&&!p0("y",e))&&(g=b=null),t.has("fx")||(v=_=null),t.has("fy")||(x=y=null),p===void 0&&(p=!ua(e,"x")),g===void 0&&(g=!ua(e,"y")),v===void 0&&(v=!ua(e,"fx")),x===void 0&&(x=!ua(e,"fy")),p===!0&&(p="bottom"),g===!0&&(g="left"),v===!0&&(v=p==="top"||p===null?"bottom":"top"),x===!0&&(x=g==="right"||g===null?"left":"right");const w=[];return la(w,y,qx,c),fa(w,x,Ox,"right","left",u,c),la(w,_,Ux,s),fa(w,v,Fx,"top","bottom",u,s),la(w,b,jx,a),fa(w,g,Po,"left","right",n,a),la(w,m,zx,i),fa(w,p,Ei,"bottom","top",n,i),w}function fa(e,t,n,r,i,a,s){if(!t)return;const c=RS(t);s=jS(c?r:t,a,s);const{line:f}=s;(n===Po||n===Ei)&&f&&!lo(f)&&e.push(Zy(qS(s))),e.push(n(s)),c&&e.push(n({...s,anchor:i,label:null}))}function la(e,t,n,r){!t||lo(t)||e.push(n(zS(t,r)))}function RS(e){return/^\s*both\s*$/i.test(e)}function jS(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:c,tickRotate:f,fontVariant:l,ariaLabel:u,ariaDescription:d,label:h=t.label,labelAnchor:p,labelArrow:m=t.labelArrow,labelOffset:g}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:c,tickRotate:f,fontVariant:l,ariaLabel:u,ariaDescription:d,label:h,labelAnchor:p,labelArrow:m,labelOffset:g}}function qS(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function zS(e,{stroke:t=Ys(e)?e:void 0,ticks:n=US(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function US(e){switch(typeof e){case"number":return!0;case"string":return!Ys(e)}return zr(e)||typeof(e==null?void 0:e.range)=="function"}function ua(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function p0(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function VS(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function HS({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:c,height:f}=du(n),l=e&&g0(e),u=t&&g0(t);return{marginTop:t?u[0]:r,marginRight:e?c-l[1]:i,marginBottom:t?f-u[1]:a,marginLeft:e?l[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:c,height:f}}function g0(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const WS=new Map([["basis",e5],["basis-closed",t5],["basis-open",n5],["bundle",r5],["bump-x",U3],["bump-y",V3],["cardinal",i5],["cardinal-closed",o5],["cardinal-open",a5],["catmull-rom",s5],["catmull-rom-closed",c5],["catmull-rom-open",f5],["linear",Rs],["linear-closed",l5],["monotone-x",u5],["monotone-y",d5],["natural",h5],["step",p5],["step-after",m5],["step-before",g5]]);function YS(e=Rs,t){if(typeof e=="function")return e;const n=WS.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function Qy(e=vi,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?vi:YS(e,t)}function vi(e){return Rs(e)}const GS={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class XS extends Nt{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,curve:c,tension:f}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,GS),this.curve=Qy(c,f),ec(this,n)}project(t,n,r){this.curve!==vi&&super.project(t,n,r)}render(t,n,r,i,a){const{x1:s,y1:c,x2:f=s,y2:l=c}=r,{curve:u}=this;return Qe("svg:g",a).call(nn,this,i,a).call(rn,this,n).call(d=>d.selectAll().data(t).enter().append("path").call(Pt,this).attr("d",u===vi&&a.projection?KS(a.path(),s,c,f,l):h=>{const p=er(),m=u(p);return m.lineStart(),m.point(s[h],c[h]),m.point(f[h],l[h]),m.lineEnd(),p}).call(en,this,r).call(_u,this,r,a)).node()}}function KS(e,t,n,r,i){return t=rr(t),n=rr(n),r=rr(r),i=rr(i),a=>e({type:"LineString",coordinates:[[t[a],n[a]],[r[a],i[a]]]})}function cl(e,{x:t,x1:n,x2:r,y:i,y1:a,y2:s,...c}={}){return[n,r]=m0(t,n,r),[a,s]=m0(i,a,s),new XS(e,{...c,x1:n,x2:r,y1:a,y2:s})}function m0(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[t]}else{if(t===void 0)return n===void 0?[e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}const ZS={ariaLabel:"bar"};class JS extends Nt{constructor(t,n,r={},i=ZS){super(t,n,r,i),Cu(this,r),Nu(this,r)}render(t,n,r,i,a){const{rx:s,ry:c,rx1y1:f,rx1y2:l,rx2y1:u,rx2y2:d}=this,h=this._x(n,r,i),p=this._y(n,r,i),m=this._width(n,r,i),g=this._height(n,r,i);return Qe("svg:g",a).call(nn,this,i,a).call(this._transform,this,n).call(b=>b.selectAll().data(t).enter().call(f||l||u||d?v=>v.append("path").call(Pt,this).call(Du,h,p,b0(h,m),b0(p,g),this).call(en,this,r):v=>v.append("rect").call(Pt,this).attr("x",h).attr("width",m).attr("y",p).attr("height",g).call(ye,"rx",s).call(ye,"ry",c).call(en,this,r))).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:c}=this,f=n&&t?t.bandwidth():a-r-i;return Math.max(0,f-s-c)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:c}=this,f=n&&t?t.bandwidth():a-r-i;return Math.max(0,f-s-c)}}function b0(e,t){return typeof e=="function"&&typeof t=="function"?n=>e(n)+t(n):typeof e=="function"?n=>e(n)+t:typeof t=="function"?n=>e+t(n):e+t}const QS={ariaLabel:"cell"};class eM extends JS{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,QS)}_transform(t,n){t.call(rn,n,{},0,0)}}function tM(e,{x:t,y:n,...r}={}){return[t,n]=Eo(t,n),new eM(e,{...r,x:t,y:n})}const nM={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function e2(e){return e.sort===void 0&&e.reverse===void 0?Z8({channel:"-r"},e):e}class rM extends Nt{constructor(t,n={}){const{x:r,y:i,r:a,rotate:s,symbol:c=ao,frameAnchor:f}=n,[l,u]=bt(s,0),[d,h]=X8(c),[p,m]=bt(a,d==null?3:4.5);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:p,scale:"r",filter:ko,optional:!0},rotate:{value:l,optional:!0},symbol:{value:d,scale:"auto",optional:!0}},e2(n),nM),this.r=m,this.rotate=u,this.symbol=h,this.frameAnchor=Gs(f);const{channels:g}=this,{symbol:b}=g;if(b){const{fill:v,stroke:_}=g;b.hint={fill:v?v.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:_?_.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,r,i,a){const{x:s,y:c}=n,{x:f,y:l,r:u,rotate:d,symbol:h}=r,{r:p,rotate:m,symbol:g}=this,[b,v]=Fo(this,i),_=g===ao,x=u?void 0:p*p*Math.PI;return Us(p)&&(t=[]),Qe("svg:g",a).call(nn,this,i,a).call(rn,this,{x:f&&s,y:l&&c}).call(y=>y.selectAll().data(t).enter().append(_?"circle":"path").call(Pt,this).call(_?w=>{w.attr("cx",f?M=>f[M]:b).attr("cy",l?M=>l[M]:v).attr("r",u?M=>u[M]:p)}:w=>{w.attr("transform",Mu`translate(${f?M=>f[M]:b},${l?M=>l[M]:v})${d?M=>` rotate(${d[M]})`:m?` rotate(${m})`:""}`).attr("d",u&&h?M=>{const k=er();return h[M].draw(k,u[M]*u[M]*Math.PI),k}:u?M=>{const k=er();return g.draw(k,u[M]*u[M]*Math.PI),k}:h?M=>{const k=er();return h[M].draw(k,x),k}:(()=>{const M=er();return g.draw(M,x),M})())}).call(en,this,r)).node()}}function iM(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Eo(t,n)),new rM(e,{...r,x:t,y:n})}function oM(e,t){return iM(e,{...t,symbol:"circle"})}const aM={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};let sM=class extends Nt{constructor(t,n={}){const{x:r,y:i,z:a,curve:s,tension:c}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Mb(n),optional:!0}},n,aM),this.z=a,this.curve=Qy(s,c),ec(this,n)}filter(t){return t}project(t,n,r){this.curve!==vi&&super.project(t,n,r)}render(t,n,r,i,a){const{x:s,y:c}=r,{curve:f}=this;return Qe("svg:g",a).call(nn,this,i,a).call(rn,this,n).call(l=>l.selectAll().data(j9(t,[s,c],this,r)).enter().append("path").call(Pt,this).call($9,this,r).call(ix,this,r,a).attr("d",f===vi&&a.projection?cM(a.path(),s,c):z3().curve(f).defined(u=>u>=0).x(u=>s[u]).y(u=>c[u]))).node()}};function cM(e,t,n){return t=rr(t),n=rr(n),r=>{let i=[];const a=[i];for(const s of r)s===-1?(i=[],a.push(i)):i.push([t[s],n[s]]);return e({type:"MultiLineString",coordinates:a})}}function fM(e,{x:t,y:n,...r}={}){return[t,n]=Eo(t,n),new sM(e,{...r,x:t,y:n})}function lM({geometry:e=$t,...t}={}){const n=Qs(r=>qt(r,e));return Fr({...t,x:null,y:null,geometry:{transform:n}},(r,i,a,s,c,f)=>{const l=n(r),u=l.length,d=new Float64Array(u),h=new Float64Array(u),{centroid:p}=f.path();for(let m=0;m<u;++m)[d[m],h[m]]=p(l[m]);return{data:r,facets:i,channels:{x:{value:d,scale:null,source:null},y:{value:h,scale:null,source:null}}}})}const uM={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class dM extends Nt{constructor(t,n={}){const[r,i]=bt(n.r,3);super(t,{x:{value:n.tip?n.x:null,scale:"x",optional:!0},y:{value:n.tip?n.y:null,scale:"y",optional:!0},r:{value:r,scale:"r",filter:ko,optional:!0},geometry:{value:n.geometry,scale:"projection"}},e2(n),uM),this.r=i}render(t,n,r,i,a){const{geometry:s,r:c}=r,f=a.path(),{r:l}=this;return Us(l)?t=[]:l!==void 0&&f.pointRadius(l),Qe("svg:g",a).call(nn,this,i,a).call(rn,this,n).call(u=>{u.selectAll().data(t).enter().append("path").call(Pt,this).attr("d",c?d=>f.pointRadius(c[d])(s[d]):d=>f(s[d])).call(en,this,r)}).node()}}function hM(e,t={}){return t.tip&&t.x===void 0&&t.y===void 0?t=lM(t):t.geometry===void 0&&(t={...t,geometry:$t}),new dM(e,t)}function pM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}Nt.prototype.plot=function({marks:e=[],...t}={}){return Lu({...t,marks:[...e,this]})};function gM(e,t={}){if(!e||e.length===0)return[];let n=sr(e[0]),r=t.include?t.include:n;r=Ea(t.include||n,t.exclude||[]);let i=Ea(n,r);return console.log(r,i),Lp(a=>r.map(s=>{let c=q_(i,a);return c[t.key||"key"]=s,c[t.value||"value"]=a[s],c}),e)}class mM{add(t,n,r){let i=`${r.view.id}::${r.eventname}`;return Te(this[i])?this[i]={iact:r,oldVal:t,newVal:n}:this[i].newVal=n,console.log("WriteSet.add",i,this[i]),this}forEach(t){yn(this).forEach(t)}merge(t){if(Te(t))return this;t.forEach(({iact:n,oldVal:r,newVal:i})=>{this.add(r,i,n)})}}const Qn=qe(Array),y0=()=>null;function oi(e,t,n){if(qe(String,t))e[t]=n;else if(Qn(t)){let[r,...i]=t;Te(e[r])&&(e[r]={}),Tt(i)?oi(e,r,n):oi(e[r],i,n)}}function hs(e,t,n){if(qe(String,t))Te(e[t])&&(e[t]=[]),e[t].push(n);else if(Qn(t)){let[r,...i]=t;Te(e[r])&&(e[r]=Tt(i)?[]:{}),Tt(i)?hs(e,r,n):hs(e[r],i,n)}}function Zn(e,t,n){if(qe(String,t))return e[t]||(qe(Function,n)?n():n);if(Qn(t)){let[r,...i]=t;return Te(e[r])?qe(Function,n)?n():n:Tt(i)?Zn(e,r,n):Zn(e[r],i,n)}}class bM{constructor(){this.defaults={},this.dependencies={},this.view2iacts={},this.states={},this.viewData={}}add(t,n,r=y0,i){if(!t.attr)return this;let a=t.view.id,s=t.eventname;return hs(this.dependencies,[a,s],{view:n,domainfunction:r}),hs(this.view2iacts,n.id,t),this.setDefault(n,i),this}dependentViews(t){let n=t.eventname;return Zn(this.dependencies,[t.view.id,n],[])}cmp(t,n){return this.isDependentOn(t.view,n)?1:this.isDependentOn(n.view,t)?-1:0}isDependentOn(t,n){let r=this.getAncestorIacts(t);return xl(i=>(i.store??i)==n,r)}setDefault(t,n){return Te(n)||(this.defaults[t.id]=n),this}getDefault(t,n){return(Zn(this.defaults,t.id)??y0)(n,this.getAncestorIacts(t))}getAncestorIacts(t){let n=[];return Zn(this.view2iacts,t.id,[]).forEach(r=>{n.push(r),n=eo(n,this.getAncestorIacts(r.view))}),n}getStatesKey(t){let n=this.getAncestorIacts(t),r=eo([t.id],n.map(i=>[i.id,i.val()]));return console.debug("ancestorStates",r,JSON.stringify(r)),JSON.stringify(r)}saveState(t,n,r){let i=this.getStatesKey(n.view);!Te(r)&&Te(r.states[i])&&oi(r.states,[i,n.eventname],{old:Zn(this.states,[i,n.eventname]),iact:n}),console.debug("saveState",i,n.eventname,Zn(this.states,[i,n.eventname]),t),oi(this.states,[i,n.eventname],t)}restoreStates(t){bn((n,r)=>{bn(({iact:i,old:a},s)=>{console.debug("restoreState",r,i.eventname,a),oi(this.states,[r,i.eventname],a)},n)},t.states)}getState(t,n,r=!0){let i=this.getStatesKey(t);return Te(n)?this.states[i]:Zn(this.states,[i,n],()=>r?this.getDefault(t,n):void 0)}}class yM{constructor(t){this.interactions={},this.views={},this.backends={},this.i2b={},this.dependencies=new bM,this.transactions=[],this._isaborting=!1,this.backends=t,this._iactid=0,this._xid=0;const n=r=>i=>this.backends.createBackend({...i,type:r});this.backend=r=>this.backends.createBackend(r),this.backend.array=n("array"),this.backend.duckdb=n("duckdb"),this.backend.identity=n("identity"),this.backend.overlay=n("overlay"),this.backend.query=n("query"),this.backend.matching=n("matching")}view(t){if(this.views[t.id]=t,Qn(t)){t.forEach(n=>this.view(n));return}this.interactions[t.id]=this.interactions[t.id]??{_attrs:{}},t.magic=this,bn((n,r)=>{if(!Te(this.interactions[t.id][r]))return;let i=a=>{t.load(o,event)};Object.assign(n,{start:(...a)=>this.start(n,...a),end:()=>this.end(n),abort:()=>this.abort(n),val:()=>sc(n)??{},load:i,id:this._iactid++,view:t,eventname:r,isActive:!1}),n.get=(a,s=null)=>{if(!Te(this.interactions[t.id]._attrs[a]))return this.interactions[t.id]._attrs[a];let c={store:n,attr:a,view:t,eventname:r,load:i,default:s,id:this._iactid++,val:()=>{let f=sc(n);return fr(a)(f)?f[a]:(Tt(f)||console.error("could not find attr:",sr(sc(n)).length),qe(Function,s)?s():s)},start:()=>this.start(c),end:()=>this.end(c),abort:()=>this.abort(c)};return this.interactions[t.id]._attrs[a]=c,c},this.interactions[t.id][r]=n},t.interactions)}render(t,n,r,i={}){return t=Qn(t)?t:[t],n=Qn(n)?n:[n],t.map(s=>{if(qe($2,s))return s;let c=this.backend.identity();return this.connect(c,s),c}).forEach(s=>{n.forEach(c=>s.registerView(c,r,i))}),this}saveBackends(t){console.debug("save backends invoked on: ",t),t=Qn(t)?t:[t],t.forEach(n=>{n.registerView((r,i)=>{console.debug("saveBackend",this,n,r,i),bn((a,s)=>{bn((c,f)=>{c.forEach(l=>{console.debug("saveBackend.DependencyLeaf.ViewIact",l.view.id,this.i2b[l.view.id]);let u=this.dependencies.getAncestorIacts(l.view),d=eo([n.id],u.map(h=>[h.id,h.val()]));Tt(O_(sr(this.i2b[l.view.id]),n.id))||(console.debug("saveBackend.View",n.id,l.view.id),this.dependencies.viewData[d]=r)})},a)},this.dependencies.dependencies)})})}connect(t,n,r){var s;if(Qn(n)){n.forEach(c=>this.connect(t,c,r));return}let i=n,a=i.view;Te(this.i2b[a.id])&&(i.subscribe(c=>{console.log("iact.subscribe.handleEvent",a.id,i.id),this.handleEvent(c,i)}),i.store?i.store.isActive=!0:i.isActive=!0,(s=a.registerInteraction)==null||s.call(a,i),this.i2b[a.id]={}),Te(t)||oi(this.i2b,[a.id,t.id],this.processBindings(r))}processBindings(t){if(Te(t)||Tt(t))return sf;if(qe(Function,t))return t;let n=uf(Pp(qe(Array),qe(Object)),Un(r=>this.processBindings(r)),uf(qe(Function),sf,r=>()=>r))(t);return fr("*",t)?r=>B2(r,fd(n)(r)):fd(n)}saveIactState(t,n,r){this.dependencies.saveState(t,n,r),this.dependencies.dependentViews(n).forEach(({view:i,domainfunction:a})=>{if(a){let c=this.dependencies.getAncestorIacts(i);i.render(a(t,c))}let s=this.dependencies.getState(i);bn((c,f)=>{c=c??this.dependencies.getDefault(i,f),c&&(console.debug("saveIactState.load",i.id,f,c),i.load(c,f))},s),(Te(s)||Tt(s))&&(console.debug("saveIactState.load.default",i.id),i.load(this.dependencies.getDefault(i)))})}handleEvent(t,n){if(!Te(t))if(console.log("handleEvent",this._isaborting,n.view.id,t),this._isaborting)this.dependencies.saveState(t,n,null),this.sendEventToBackends(t,n);else if(this.transactions.length==0||lc(this.transactions).iact!=n)n.start(),this.handleEvent(t,n),n.end();else{let r=lc(this.transactions),i=this.dependencies.getState(n.view,n.eventname,!1);r.writeSet.add(i,t,n),r.visible&&this.sendEventToBackends(t,n)}}sendEventToBackends(t,n){bn((r,i)=>{let a=r(t);this.backends[i].execute(a,n)},this.i2b[n.view.id])}snapshot(){return P_(t=>t.snapshot(),this.backends)}restoreSnapshot(t){bn((n,r)=>{Te(n)||this.backends[r].restoreSnapshot(n)},t.snapshot)}start(t,n=!0){this.transactions.push({xid:this._xid++,iact:t,visible:n,snapshot:this.snapshot(),states:{},writeSet:new mM}),console.log("magic.start",this.transactions)}end(t){if(!xl(a=>a.iact=t,this.transactions)){console.log("magic.end: can't find interaction",t);return}let n=this.transactions.pop();console.log("magic.end[",n.writeSet),n.writeSet.forEach(({newVal:a,iact:s})=>{this.saveIactState(a,s,n),n.visible||this.sendEventToBackends(a,s)});let r=yn(n.writeSet).map(({iact:a})=>a.id),i=Lp(a=>yn(a).map(({iact:s})=>s.id),yn(n.states));if(Tt(H_(r,i))||console.error("writeset != statesids",r,i),this.transactions.length>0){let a=lc(this.transactions);a.snapshot=cf(a.snapshot,n.snapshot),a.states=cf(a.states,n.states),a.writeSet.merge(n.writeSet)}console.log("magic.end]",this.dependencies.states,this.transactions)}abort(t){try{this._isaborting=!0;let n=this.transactions.pop();console.log("magic.abort",n.states,n.writeSet),this.restoreSnapshot(n),console.log("magic.abort.restoredStates.before",R2(this.dependencies.states)),this.dependencies.restoreStates(n),console.log("magic.abort.restoredStates.after",this.dependencies.states),U_((i,a)=>this.dependencies.cmp(i.iact,a.iact),yn(n.writeSet)).forEach(({iact:i})=>{let a=this.dependencies.getState(i.view,i.eventname);a&&i.view.load&&(console.log("magic.abort.load",a,i),i.view.load(a,i.eventname))})}finally{this._isaborting=!1}}importState(t){let n=JSON.parse(t);this.dependencies.states=n,bn((r,i)=>{let a=this.views[i];this.walkViews(a)},this.dependencies.dependencies)}walkViews(t){let n=this.dependencies.getStatesKey(t),r=this.dependencies.states[n],i=yn(r);if(i.length>1){console.error("unexpected behavior, multiple values for state");return}t.load(i[0])}exportState(){return JSON.stringify(this.dependencies.states)}exportData(){return JSON.stringify(this.dependencies.viewData)}}const _M=e=>({}),_0=e=>({}),vM=e=>({}),v0=e=>({}),wM=e=>({}),w0=e=>({}),xM=e=>({}),x0=e=>({}),SM=e=>({}),S0=e=>({}),MM=e=>({}),M0=e=>({}),kM=e=>({}),k0=e=>({}),AM=e=>({}),A0=e=>({}),EM=e=>({}),E0=e=>({}),TM=e=>({}),T0=e=>({}),CM=e=>({}),C0=e=>({}),NM=e=>({}),N0=e=>({}),DM=e=>({}),D0=e=>({}),IM=e=>({}),I0=e=>({}),LM=e=>({}),L0=e=>({});function OM(e){let t,n,r,i,a,s,c,f,l,u,d,h,p,m,g,b,v,_,x,y,w,M,k,A,N,D,S,T,F,L,E;const U=e[1].header,j=St(U,e,e[0],L0),ne=e[1].alert,te=St(ne,e,e[0],I0),Y=e[1].dropdown1,H=St(Y,e,e[0],D0),ee=e[1].chart1,J=St(ee,e,e[0],N0),P=e[1].dropdown2,re=St(P,e,e[0],C0),ue=e[1].chart2,G=St(ue,e,e[0],T0),ce=e[1].dropdown3,C=St(ce,e,e[0],E0),V=e[1].chart3,X=St(V,e,e[0],A0),q=e[1].dropdown4,fe=St(q,e,e[0],k0),se=e[1].chart4,de=St(se,e,e[0],M0),me=e[1].obplot,W=St(me,e,e[0],S0),le=e[1].slider1,_e=St(le,e,e[0],x0),De=e[1].slider2,Le=St(De,e,e[0],w0),lt=e[1].slider3,Pe=St(lt,e,e[0],v0),st=e[1].slider4,Ue=St(st,e,e[0],_0);return{c(){t=K("div"),n=K("div"),j&&j.c(),r=pe(),i=K("div"),te&&te.c(),a=pe(),s=K("div"),H&&H.c(),c=pe(),f=K("div"),J&&J.c(),l=pe(),u=K("div"),re&&re.c(),d=pe(),h=K("div"),G&&G.c(),p=pe(),m=K("div"),C&&C.c(),g=pe(),b=K("div"),X&&X.c(),v=pe(),_=K("div"),fe&&fe.c(),x=pe(),y=K("div"),de&&de.c(),w=pe(),M=K("div"),W&&W.c(),k=pe(),A=K("div"),_e&&_e.c(),N=pe(),D=K("div"),Le&&Le.c(),S=pe(),T=K("div"),Pe&&Pe.c(),F=pe(),L=K("div"),Ue&&Ue.c(),this.h()},l(z){t=Z(z,"DIV",{class:!0});var ae=Q(t);n=Z(ae,"DIV",{class:!0});var $e=Q(n);j&&j.l($e),$e.forEach(B),r=ge(ae),i=Z(ae,"DIV",{class:!0});var Ke=Q(i);te&&te.l(Ke),Ke.forEach(B),a=ge(ae),s=Z(ae,"DIV",{class:!0});var xt=Q(s);H&&H.l(xt),xt.forEach(B),c=ge(ae),f=Z(ae,"DIV",{class:!0});var Ge=Q(f);J&&J.l(Ge),Ge.forEach(B),l=ge(ae),u=Z(ae,"DIV",{class:!0});var Bt=Q(u);re&&re.l(Bt),Bt.forEach(B),d=ge(ae),h=Z(ae,"DIV",{class:!0});var Rt=Q(h);G&&G.l(Rt),Rt.forEach(B),p=ge(ae),m=Z(ae,"DIV",{class:!0});var O=Q(m);C&&C.l(O),O.forEach(B),g=ge(ae),b=Z(ae,"DIV",{class:!0});var oe=Q(b);X&&X.l(oe),oe.forEach(B),v=ge(ae),_=Z(ae,"DIV",{class:!0});var Me=Q(_);fe&&fe.l(Me),Me.forEach(B),x=ge(ae),y=Z(ae,"DIV",{class:!0});var Ee=Q(y);de&&de.l(Ee),Ee.forEach(B),w=ge(ae),M=Z(ae,"DIV",{class:!0});var et=Q(M);W&&W.l(et),et.forEach(B),k=ge(ae),A=Z(ae,"DIV",{class:!0});var Nn=Q(A);_e&&_e.l(Nn),Nn.forEach(B),N=ge(ae),D=Z(ae,"DIV",{class:!0});var Yn=Q(D);Le&&Le.l(Yn),Yn.forEach(B),S=ge(ae),T=Z(ae,"DIV",{class:!0});var pn=Q(T);Pe&&Pe.l(pn),pn.forEach(B),F=ge(ae),L=Z(ae,"DIV",{class:!0});var Vr=Q(L);Ue&&Ue.l(Vr),Vr.forEach(B),ae.forEach(B),this.h()},h(){$(n,"class","mx-auto"),$(i,"class",""),$(s,"class","mx-auto"),$(f,"class",""),$(u,"class","mx-auto"),$(h,"class",""),$(m,"class","mx-auto"),$(b,"class",""),$(_,"class","mx-auto"),$(y,"class",""),$(M,"class",""),$(A,"class",""),$(D,"class",""),$(T,"class",""),$(L,"class",""),$(t,"class","px-5 py-2 bg-white")},m(z,ae){Se(z,t,ae),I(t,n),j&&j.m(n,null),I(t,r),I(t,i),te&&te.m(i,null),I(t,a),I(t,s),H&&H.m(s,null),I(t,c),I(t,f),J&&J.m(f,null),I(t,l),I(t,u),re&&re.m(u,null),I(t,d),I(t,h),G&&G.m(h,null),I(t,p),I(t,m),C&&C.m(m,null),I(t,g),I(t,b),X&&X.m(b,null),I(t,v),I(t,_),fe&&fe.m(_,null),I(t,x),I(t,y),de&&de.m(y,null),I(t,w),I(t,M),W&&W.m(M,null),I(t,k),I(t,A),_e&&_e.m(A,null),I(t,N),I(t,D),Le&&Le.m(D,null),I(t,S),I(t,T),Pe&&Pe.m(T,null),I(t,F),I(t,L),Ue&&Ue.m(L,null),E=!0},p(z,[ae]){j&&j.p&&(!E||ae&1)&&Mt(j,U,z,z[0],E?At(U,z[0],ae,LM):kt(z[0]),L0),te&&te.p&&(!E||ae&1)&&Mt(te,ne,z,z[0],E?At(ne,z[0],ae,IM):kt(z[0]),I0),H&&H.p&&(!E||ae&1)&&Mt(H,Y,z,z[0],E?At(Y,z[0],ae,DM):kt(z[0]),D0),J&&J.p&&(!E||ae&1)&&Mt(J,ee,z,z[0],E?At(ee,z[0],ae,NM):kt(z[0]),N0),re&&re.p&&(!E||ae&1)&&Mt(re,P,z,z[0],E?At(P,z[0],ae,CM):kt(z[0]),C0),G&&G.p&&(!E||ae&1)&&Mt(G,ue,z,z[0],E?At(ue,z[0],ae,TM):kt(z[0]),T0),C&&C.p&&(!E||ae&1)&&Mt(C,ce,z,z[0],E?At(ce,z[0],ae,EM):kt(z[0]),E0),X&&X.p&&(!E||ae&1)&&Mt(X,V,z,z[0],E?At(V,z[0],ae,AM):kt(z[0]),A0),fe&&fe.p&&(!E||ae&1)&&Mt(fe,q,z,z[0],E?At(q,z[0],ae,kM):kt(z[0]),k0),de&&de.p&&(!E||ae&1)&&Mt(de,se,z,z[0],E?At(se,z[0],ae,MM):kt(z[0]),M0),W&&W.p&&(!E||ae&1)&&Mt(W,me,z,z[0],E?At(me,z[0],ae,SM):kt(z[0]),S0),_e&&_e.p&&(!E||ae&1)&&Mt(_e,le,z,z[0],E?At(le,z[0],ae,xM):kt(z[0]),x0),Le&&Le.p&&(!E||ae&1)&&Mt(Le,De,z,z[0],E?At(De,z[0],ae,wM):kt(z[0]),w0),Pe&&Pe.p&&(!E||ae&1)&&Mt(Pe,lt,z,z[0],E?At(lt,z[0],ae,vM):kt(z[0]),v0),Ue&&Ue.p&&(!E||ae&1)&&Mt(Ue,st,z,z[0],E?At(st,z[0],ae,_M):kt(z[0]),_0)},i(z){E||(Xe(j,z),Xe(te,z),Xe(H,z),Xe(J,z),Xe(re,z),Xe(G,z),Xe(C,z),Xe(X,z),Xe(fe,z),Xe(de,z),Xe(W,z),Xe(_e,z),Xe(Le,z),Xe(Pe,z),Xe(Ue,z),E=!0)},o(z){Ze(j,z),Ze(te,z),Ze(H,z),Ze(J,z),Ze(re,z),Ze(G,z),Ze(C,z),Ze(X,z),Ze(fe,z),Ze(de,z),Ze(W,z),Ze(_e,z),Ze(Le,z),Ze(Pe,z),Ze(Ue,z),E=!1},d(z){z&&B(t),j&&j.d(z),te&&te.d(z),H&&H.d(z),J&&J.d(z),re&&re.d(z),G&&G.d(z),C&&C.d(z),X&&X.d(z),fe&&fe.d(z),de&&de.d(z),W&&W.d(z),_e&&_e.d(z),Le&&Le.d(z),Pe&&Pe.d(z),Ue&&Ue.d(z)}}}function FM(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=a=>{"$$scope"in a&&n(0,i=a.$$scope)},[i,r]}class PM extends _t{constructor(t){super(),vt(this,t,FM,OM,wt,{})}}const ps="_theplot_",$M={top:30,right:20,bottom:50,left:40};function oc(e,t){e.className=e.className||ps,Te(e.width);let n=Lu(e),r=null;return n.tagName=="svg"&&n.classList.contains(e.className)?r=n:r=n.querySelector(`svg.${e.className}`),r.classList.add(ps),e.width||r.setAttribute("width","100%"),e.height||r.setAttribute("height","100%"),t.innerHTML="",t.appendChild(n),n}class Fu{constructor({iact:t,magic:n,plot:r=null}){this.x=null,this.y=null,this.defaultSelection,this.brush,this.el,this.iact=t,this.magic=n,this.plot=r,r&&this.init(r)}load(t){if(!(!this.el||!this.brush)&&this.iact.isActive){if(!t||Tt(t)){this.el.call(this.brush.clear);return}const{left:n,right:r}=t;this.el.call(this.brush.move,[this.x.apply(n),this.x.apply(r)])}}brushed({selection:t}){if(this.iact.isActive)if(!t)this.iact.set(this.defaultSelection);else{const[n,r]=t;this.iact.set({left:this.x.invert(n),right:this.x.invert(r)})}}brushstart({selection:t,sourceEvent:n}){this.iact.isActive&&n&&this.magic.start(this.iact)}brushended({selection:t,sourceEvent:n}){this.iact.isActive&&(t||this.iact.set({left:this.x.domain[0],right:this.x.domain[1]}),n&&this.magic.end(this.iact))}init(t){if(!this.iact.isActive)return;if(this.plot=t,this.x=t.scale("x"),this.y=t.scale("y"),this.y.range[0]<this.y.range[1]){let r=this.y.range[0];this.y.range[0]=this.y.range[1],this.y.range[1]=r}this.defaultSelection={left:this.x.domain[0],right:this.x.domain[1]};let n=t.classList.contains(ps)?pt(t):pt(t.querySelector(`.${ps}`));this.brush=Kv().extent([[this.x.range[0],this.y.range[1]],[this.x.range[1],this.y.range[0]]]).on("brush",r=>this.brushed(r)).on("start",r=>this.brushstart(r)).on("end",r=>this.brushended(r)),this.el=n.append("g").attr("class","brush").call(this.brush)}}function BM(e){let t,n;return{c(){t=K("div"),n=K("div"),this.h()},l(r){t=Z(r,"DIV",{id:!0});var i=Q(t);n=Z(i,"DIV",{}),Q(n).forEach(B),i.forEach(B),this.h()},h(){$(t,"id",e[0])},m(r,i){Se(r,t,i),I(t,n),e[15](n)},p(r,[i]){i&1&&$(t,"id",r[0])},i:Ce,o:Ce,d(r){r&&B(t),e[15](null)}}}function RM(e,t,n){let{id:r,name:i,magic:a,description:s,xAttr:c,yAttr:f,xDomainMin:l=null,xDomainMax:u=null,brushX:d=ft({}),interactions:h={brushX:d}}=t,p,m=null,g={},b=[],v;const _=["#93c1cf","#feb144","#9ee09e","#ff6663"];function x(A,N){return N==="overlay"?(g=A,!0):!1}function y(A,N){!A||A.length===0||typeof N=="object"||(x(A,N)?console.debug("overlays"):b=A,M())}let{load:w=A=>v==null?void 0:v.load(A)}=t;function M(){n(2,l=l??kn(Un(ff(c),b))),n(3,u=u??zt(Un(ff(c),b)));const A=Math.max(36,Math.min(b.length,20));let N={x:{domain:[+l,+u]},height:200,marginBottom:50,color:{range:_,legend:!0,style:{"font-size":10,"margin-left":"2rem"}},marks:[Ei({ticks:A,fontSize:10}),Po({fontSize:10}),xu([l]),Su([0]),Iu(g,{x1:"left",x2:"right",y2:zt(wl(f,b)),fill:"key",color:"key"}),fM(b,{x:c,y:f,marker:!0,strokeWidth:3})]};m=oc(N,p),d.isActive&&(v=v??new Fu({iact:d,magic:a}),v.init(m))}function k(A){hr[A?"unshift":"push"](()=>{p=A,n(1,p)})}return e.$$set=A=>{"id"in A&&n(4,r=A.id),"name"in A&&n(0,i=A.name),"magic"in A&&n(5,a=A.magic),"description"in A&&n(6,s=A.description),"xAttr"in A&&n(7,c=A.xAttr),"yAttr"in A&&n(8,f=A.yAttr),"xDomainMin"in A&&n(2,l=A.xDomainMin),"xDomainMax"in A&&n(3,u=A.xDomainMax),"brushX"in A&&n(9,d=A.brushX),"interactions"in A&&n(10,h=A.interactions),"load"in A&&n(13,w=A.load)},[i,p,l,u,r,a,s,c,f,d,h,x,y,w,M,k]}class jM extends _t{constructor(t){super(),vt(this,t,RM,BM,wt,{id:4,name:0,magic:5,description:6,xAttr:7,yAttr:8,xDomainMin:2,xDomainMax:3,brushX:9,interactions:10,overlay:11,render:12,load:13,update:14})}get id(){return this.$$.ctx[4]}set id(t){this.$$set({id:t}),ie()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ie()}get magic(){return this.$$.ctx[5]}set magic(t){this.$$set({magic:t}),ie()}get description(){return this.$$.ctx[6]}set description(t){this.$$set({description:t}),ie()}get xAttr(){return this.$$.ctx[7]}set xAttr(t){this.$$set({xAttr:t}),ie()}get yAttr(){return this.$$.ctx[8]}set yAttr(t){this.$$set({yAttr:t}),ie()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(t){this.$$set({xDomainMin:t}),ie()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(t){this.$$set({xDomainMax:t}),ie()}get brushX(){return this.$$.ctx[9]}set brushX(t){this.$$set({brushX:t}),ie()}get interactions(){return this.$$.ctx[10]}set interactions(t){this.$$set({interactions:t}),ie()}get overlay(){return this.$$.ctx[11]}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}set load(t){this.$$set({load:t}),ie()}get update(){return this.$$.ctx[14]}}function O0(e){return Object.prototype.toString.call(e)==="[object Date]"}function fl(e,t,n,r){if(typeof n=="number"||O0(n)){const i=r-n,a=(n-t)/(e.dt||1/60),s=e.opts.stiffness*i,c=e.opts.damping*a,f=(s-c)*e.inv_mass,l=(a+f)*e.dt;return Math.abs(l)<e.opts.precision&&Math.abs(i)<e.opts.precision?r:(e.settled=!1,O0(n)?new Date(n.getTime()+l):n+l)}else{if(Array.isArray(n))return n.map((i,a)=>fl(e,t[a],n[a],r[a]));if(typeof n=="object"){const i={};for(const a in n)i[a]=fl(e,t[a],n[a],r[a]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function qM(e,t={}){const n=ft(e),{stiffness:r=.15,damping:i=.8,precision:a=.01}=t;let s,c,f,l=e,u=e,d=1,h=0,p=!1;function m(b,v={}){u=b;const _=f={};return e==null||v.hard||g.stiffness>=1&&g.damping>=1?(p=!0,s=Xu(),l=b,n.set(e=u),Promise.resolve()):(v.soft&&(h=1/((v.soft===!0?.5:+v.soft)*60),d=0),c||(s=Xu(),p=!1,c=b2(x=>{if(p)return p=!1,c=null,!1;d=Math.min(d+h,1);const y={inv_mass:d,opts:g,settled:!0,dt:(x-s)*60/1e3},w=fl(y,l,e,u);return s=x,l=e,n.set(e=w),y.settled&&(c=null),!y.settled})),new Promise(x=>{c.promise.then(()=>{_===f&&x()})}))}const g={set:m,update:(b,v)=>m(b(u,e),v),subscribe:n.subscribe,stiffness:r,damping:i,precision:a};return g}function F0(e,t,n){const r=e.slice();return r[37]=t[n],r[39]=n,r}function P0(e){let t,n,r,i,a=(e[6]==="label"||e[7]==="label")&&$0(e);return{c(){t=K("span"),a&&a.c(),this.h()},l(s){t=Z(s,"SPAN",{class:!0,style:!0});var c=Q(t);a&&a.l(c),c.forEach(B),this.h()},h(){$(t,"class","pip first"),$(t,"style",n=e[14]+": 0%;"),be(t,"selected",e[18](e[0])),be(t,"in-range",e[17](e[0]))},m(s,c){Se(s,t,c),a&&a.m(t,null),r||(i=[Fe(t,"pointerdown",e[30]),Fe(t,"pointerup",e[31])],r=!0)},p(s,c){s[6]==="label"||s[7]==="label"?a?a.p(s,c):(a=$0(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null),c[0]&16384&&n!==(n=s[14]+": 0%;")&&$(t,"style",n),c[0]&262145&&be(t,"selected",s[18](s[0])),c[0]&131073&&be(t,"in-range",s[17](s[0]))},d(s){s&&B(t),a&&a.d(),r=!1,pr(i)}}}function $0(e){let t,n,r,i=e[12](e[16](e[0]),0,0)+"",a,s=e[10]&&B0(e),c=e[11]&&R0(e);return{c(){t=K("span"),s&&s.c(),n=Ye(),r=new vs(!1),a=Ye(),c&&c.c(),this.h()},l(f){t=Z(f,"SPAN",{class:!0});var l=Q(t);s&&s.l(l),n=Ye(),r=ws(l,!1),a=Ye(),c&&c.l(l),l.forEach(B),this.h()},h(){r.a=a,$(t,"class","pipVal")},m(f,l){Se(f,t,l),s&&s.m(t,null),I(t,n),r.m(i,t),I(t,a),c&&c.m(t,null)},p(f,l){f[10]?s?s.p(f,l):(s=B0(f),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&69633&&i!==(i=f[12](f[16](f[0]),0,0)+"")&&r.p(i),f[11]?c?c.p(f,l):(c=R0(f),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},d(f){f&&B(t),s&&s.d(),c&&c.d()}}}function B0(e){let t,n;return{c(){t=K("span"),n=Re(e[10]),this.h()},l(r){t=Z(r,"SPAN",{class:!0});var i=Q(t);n=je(i,e[10]),i.forEach(B),this.h()},h(){$(t,"class","pipVal-prefix")},m(r,i){Se(r,t,i),I(t,n)},p(r,i){i[0]&1024&&tn(n,r[10])},d(r){r&&B(t)}}}function R0(e){let t,n;return{c(){t=K("span"),n=Re(e[11]),this.h()},l(r){t=Z(r,"SPAN",{class:!0});var i=Q(t);n=je(i,e[11]),i.forEach(B),this.h()},h(){$(t,"class","pipVal-suffix")},m(r,i){Se(r,t,i),I(t,n)},p(r,i){i[0]&2048&&tn(n,r[11])},d(r){r&&B(t)}}}function j0(e){let t,n=Array(e[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=H0(F0(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Ye()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=Ye()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);Se(i,t,a)},p(i,a){if(a[0]&8314435){n=Array(i[20]+1);let s;for(s=0;s<n.length;s+=1){const c=F0(i,n,s);r[s]?r[s].p(c,a):(r[s]=H0(c),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){dl(r,i),i&&B(t)}}}function q0(e){let t,n,r,i,a,s=(e[6]==="label"||e[9]==="label")&&z0(e);function c(...f){return e[33](e[39],...f)}return{c(){t=K("span"),s&&s.c(),n=pe(),this.h()},l(f){t=Z(f,"SPAN",{class:!0,style:!0});var l=Q(t);s&&s.l(l),n=ge(l),l.forEach(B),this.h()},h(){$(t,"class","pip"),$(t,"style",r=e[14]+": "+e[15](e[19](e[39]))+"%;"),be(t,"selected",e[18](e[19](e[39]))),be(t,"in-range",e[17](e[19](e[39])))},m(f,l){Se(f,t,l),s&&s.m(t,null),I(t,n),i||(a=[Fe(t,"pointerdown",e[32]),Fe(t,"pointerup",c)],i=!0)},p(f,l){e=f,e[6]==="label"||e[9]==="label"?s?s.p(e,l):(s=z0(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&573440&&r!==(r=e[14]+": "+e[15](e[19](e[39]))+"%;")&&$(t,"style",r),l[0]&786432&&be(t,"selected",e[18](e[19](e[39]))),l[0]&655360&&be(t,"in-range",e[17](e[19](e[39])))},d(f){f&&B(t),s&&s.d(),i=!1,pr(a)}}}function z0(e){let t,n,r,i=e[12](e[19](e[39]),e[39],e[15](e[19](e[39])))+"",a,s=e[10]&&U0(e),c=e[11]&&V0(e);return{c(){t=K("span"),s&&s.c(),n=Ye(),r=new vs(!1),a=Ye(),c&&c.c(),this.h()},l(f){t=Z(f,"SPAN",{class:!0});var l=Q(t);s&&s.l(l),n=Ye(),r=ws(l,!1),a=Ye(),c&&c.l(l),l.forEach(B),this.h()},h(){r.a=a,$(t,"class","pipVal")},m(f,l){Se(f,t,l),s&&s.m(t,null),I(t,n),r.m(i,t),I(t,a),c&&c.m(t,null)},p(f,l){f[10]?s?s.p(f,l):(s=U0(f),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&561152&&i!==(i=f[12](f[19](f[39]),f[39],f[15](f[19](f[39])))+"")&&r.p(i),f[11]?c?c.p(f,l):(c=V0(f),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},d(f){f&&B(t),s&&s.d(),c&&c.d()}}}function U0(e){let t,n;return{c(){t=K("span"),n=Re(e[10]),this.h()},l(r){t=Z(r,"SPAN",{class:!0});var i=Q(t);n=je(i,e[10]),i.forEach(B),this.h()},h(){$(t,"class","pipVal-prefix")},m(r,i){Se(r,t,i),I(t,n)},p(r,i){i[0]&1024&&tn(n,r[10])},d(r){r&&B(t)}}}function V0(e){let t,n;return{c(){t=K("span"),n=Re(e[11]),this.h()},l(r){t=Z(r,"SPAN",{class:!0});var i=Q(t);n=je(i,e[11]),i.forEach(B),this.h()},h(){$(t,"class","pipVal-suffix")},m(r,i){Se(r,t,i),I(t,n)},p(r,i){i[0]&2048&&tn(n,r[11])},d(r){r&&B(t)}}}function H0(e){let t=e[19](e[39])!==e[0]&&e[19](e[39])!==e[1],n,r=t&&q0(e);return{c(){r&&r.c(),n=Ye()},l(i){r&&r.l(i),n=Ye()},m(i,a){r&&r.m(i,a),Se(i,n,a)},p(i,a){a[0]&524291&&(t=i[19](i[39])!==i[0]&&i[19](i[39])!==i[1]),t?r?r.p(i,a):(r=q0(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&B(n)}}}function W0(e){let t,n,r,i,a=(e[6]==="label"||e[8]==="label")&&Y0(e);return{c(){t=K("span"),a&&a.c(),this.h()},l(s){t=Z(s,"SPAN",{class:!0,style:!0});var c=Q(t);a&&a.l(c),c.forEach(B),this.h()},h(){$(t,"class","pip last"),$(t,"style",n=e[14]+": 100%;"),be(t,"selected",e[18](e[1])),be(t,"in-range",e[17](e[1]))},m(s,c){Se(s,t,c),a&&a.m(t,null),r||(i=[Fe(t,"pointerdown",e[34]),Fe(t,"pointerup",e[35])],r=!0)},p(s,c){s[6]==="label"||s[8]==="label"?a?a.p(s,c):(a=Y0(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null),c[0]&16384&&n!==(n=s[14]+": 100%;")&&$(t,"style",n),c[0]&262146&&be(t,"selected",s[18](s[1])),c[0]&131074&&be(t,"in-range",s[17](s[1]))},d(s){s&&B(t),a&&a.d(),r=!1,pr(i)}}}function Y0(e){let t,n,r,i=e[12](e[16](e[1]),e[20],100)+"",a,s=e[10]&&G0(e),c=e[11]&&X0(e);return{c(){t=K("span"),s&&s.c(),n=Ye(),r=new vs(!1),a=Ye(),c&&c.c(),this.h()},l(f){t=Z(f,"SPAN",{class:!0});var l=Q(t);s&&s.l(l),n=Ye(),r=ws(l,!1),a=Ye(),c&&c.l(l),l.forEach(B),this.h()},h(){r.a=a,$(t,"class","pipVal")},m(f,l){Se(f,t,l),s&&s.m(t,null),I(t,n),r.m(i,t),I(t,a),c&&c.m(t,null)},p(f,l){f[10]?s?s.p(f,l):(s=G0(f),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&1118210&&i!==(i=f[12](f[16](f[1]),f[20],100)+"")&&r.p(i),f[11]?c?c.p(f,l):(c=X0(f),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},d(f){f&&B(t),s&&s.d(),c&&c.d()}}}function G0(e){let t,n;return{c(){t=K("span"),n=Re(e[10]),this.h()},l(r){t=Z(r,"SPAN",{class:!0});var i=Q(t);n=je(i,e[10]),i.forEach(B),this.h()},h(){$(t,"class","pipVal-prefix")},m(r,i){Se(r,t,i),I(t,n)},p(r,i){i[0]&1024&&tn(n,r[10])},d(r){r&&B(t)}}}function X0(e){let t,n;return{c(){t=K("span"),n=Re(e[11]),this.h()},l(r){t=Z(r,"SPAN",{class:!0});var i=Q(t);n=je(i,e[11]),i.forEach(B),this.h()},h(){$(t,"class","pipVal-suffix")},m(r,i){Se(r,t,i),I(t,n)},p(r,i){i[0]&2048&&tn(n,r[11])},d(r){r&&B(t)}}}function zM(e){let t,n,r,i=(e[6]&&e[7]!==!1||e[7])&&P0(e),a=(e[6]&&e[9]!==!1||e[9])&&j0(e),s=(e[6]&&e[8]!==!1||e[8])&&W0(e);return{c(){t=K("div"),i&&i.c(),n=pe(),a&&a.c(),r=pe(),s&&s.c(),this.h()},l(c){t=Z(c,"DIV",{class:!0});var f=Q(t);i&&i.l(f),n=ge(f),a&&a.l(f),r=ge(f),s&&s.l(f),f.forEach(B),this.h()},h(){$(t,"class","rangePips"),be(t,"disabled",e[5]),be(t,"hoverable",e[4]),be(t,"vertical",e[2]),be(t,"reversed",e[3]),be(t,"focus",e[13])},m(c,f){Se(c,t,f),i&&i.m(t,null),I(t,n),a&&a.m(t,null),I(t,r),s&&s.m(t,null)},p(c,f){c[6]&&c[7]!==!1||c[7]?i?i.p(c,f):(i=P0(c),i.c(),i.m(t,n)):i&&(i.d(1),i=null),c[6]&&c[9]!==!1||c[9]?a?a.p(c,f):(a=j0(c),a.c(),a.m(t,r)):a&&(a.d(1),a=null),c[6]&&c[8]!==!1||c[8]?s?s.p(c,f):(s=W0(c),s.c(),s.m(t,null)):s&&(s.d(1),s=null),f[0]&32&&be(t,"disabled",c[5]),f[0]&16&&be(t,"hoverable",c[4]),f[0]&4&&be(t,"vertical",c[2]),f[0]&8&&be(t,"reversed",c[3]),f[0]&8192&&be(t,"focus",c[13])},i:Ce,o:Ce,d(c){c&&B(t),i&&i.d(),a&&a.d(),s&&s.d()}}}function UM(e,t,n){let r,i,a,s,c,{range:f=!1}=t,{min:l=0}=t,{max:u=100}=t,{step:d=1}=t,{values:h=[(u+l)/2]}=t,{vertical:p=!1}=t,{reversed:m=!1}=t,{hoverable:g=!0}=t,{disabled:b=!1}=t,{pipstep:v=void 0}=t,{all:_=!0}=t,{first:x=void 0}=t,{last:y=void 0}=t,{rest:w=void 0}=t,{prefix:M=""}=t,{suffix:k=""}=t,{formatter:A=(P,re,ue)=>P}=t,{focus:N=void 0}=t,{orientationStart:D=void 0}=t,{percentOf:S=void 0}=t,{moveHandle:T=void 0}=t,{fixFloat:F=void 0}=t,{normalisedClient:L=void 0}=t,E;function U(P){P=L(P),E={x:P.clientX,y:P.clientY}}function j(P,re){if(re=L(re),!b){const ue=Math.sqrt(Math.pow(E.x-re.clientX,2)+Math.pow(E.y-re.clientY,2));E&&ue<=5&&T(void 0,P)}}const ne=P=>{U(P)},te=P=>{j(l,P)},Y=P=>{U(P)},H=(P,re)=>{j(a(P),re)},ee=P=>{U(P)},J=P=>{j(u,P)};return e.$$set=P=>{"range"in P&&n(23,f=P.range),"min"in P&&n(0,l=P.min),"max"in P&&n(1,u=P.max),"step"in P&&n(24,d=P.step),"values"in P&&n(25,h=P.values),"vertical"in P&&n(2,p=P.vertical),"reversed"in P&&n(3,m=P.reversed),"hoverable"in P&&n(4,g=P.hoverable),"disabled"in P&&n(5,b=P.disabled),"pipstep"in P&&n(26,v=P.pipstep),"all"in P&&n(6,_=P.all),"first"in P&&n(7,x=P.first),"last"in P&&n(8,y=P.last),"rest"in P&&n(9,w=P.rest),"prefix"in P&&n(10,M=P.prefix),"suffix"in P&&n(11,k=P.suffix),"formatter"in P&&n(12,A=P.formatter),"focus"in P&&n(13,N=P.focus),"orientationStart"in P&&n(14,D=P.orientationStart),"percentOf"in P&&n(15,S=P.percentOf),"moveHandle"in P&&n(27,T=P.moveHandle),"fixFloat"in P&&n(16,F=P.fixFloat),"normalisedClient"in P&&n(28,L=P.normalisedClient)},e.$$.update=()=>{e.$$.dirty[0]&83886087&&n(29,r=v||((u-l)/d>=(p?50:100)?(u-l)/(p?10:20):1)),e.$$.dirty[0]&553648131&&n(20,i=parseInt((u-l)/(d*r),10)),e.$$.dirty[0]&553713665&&n(19,a=function(P){return F(l+P*d*r)}),e.$$.dirty[0]&33619968&&n(18,s=function(P){return h.some(re=>F(re)===F(P))}),e.$$.dirty[0]&41943040&&n(17,c=function(P){if(f==="min")return h[0]>P;if(f==="max")return h[0]<P;if(f)return h[0]<P&&h[1]>P})},[l,u,p,m,g,b,_,x,y,w,M,k,A,N,D,S,F,c,s,a,i,U,j,f,d,h,v,T,L,r,ne,te,Y,H,ee,J]}class VM extends _t{constructor(t){super(),vt(this,t,UM,zM,wt,{range:23,min:0,max:1,step:24,values:25,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:26,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:27,fixFloat:16,normalisedClient:28},null,[-1,-1])}}function K0(e,t,n){const r=e.slice();return r[65]=t[n],r[67]=n,r}function Z0(e){let t,n,r,i=e[21](e[65],e[67],e[24](e[65]))+"",a,s=e[18]&&J0(e),c=e[19]&&Q0(e);return{c(){t=K("span"),s&&s.c(),n=Ye(),r=new vs(!1),a=Ye(),c&&c.c(),this.h()},l(f){t=Z(f,"SPAN",{class:!0});var l=Q(t);s&&s.l(l),n=Ye(),r=ws(l,!1),a=Ye(),c&&c.l(l),l.forEach(B),this.h()},h(){r.a=a,$(t,"class","rangeFloat")},m(f,l){Se(f,t,l),s&&s.m(t,null),I(t,n),r.m(i,t),I(t,a),c&&c.m(t,null)},p(f,l){f[18]?s?s.p(f,l):(s=J0(f),s.c(),s.m(t,n)):s&&(s.d(1),s=null),l[0]&18874369&&i!==(i=f[21](f[65],f[67],f[24](f[65]))+"")&&r.p(i),f[19]?c?c.p(f,l):(c=Q0(f),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},d(f){f&&B(t),s&&s.d(),c&&c.d()}}}function J0(e){let t,n;return{c(){t=K("span"),n=Re(e[18]),this.h()},l(r){t=Z(r,"SPAN",{class:!0});var i=Q(t);n=je(i,e[18]),i.forEach(B),this.h()},h(){$(t,"class","rangeFloat-prefix")},m(r,i){Se(r,t,i),I(t,n)},p(r,i){i[0]&262144&&tn(n,r[18])},d(r){r&&B(t)}}}function Q0(e){let t,n;return{c(){t=K("span"),n=Re(e[19]),this.h()},l(r){t=Z(r,"SPAN",{class:!0});var i=Q(t);n=je(i,e[19]),i.forEach(B),this.h()},h(){$(t,"class","rangeFloat-suffix")},m(r,i){Se(r,t,i),I(t,n)},p(r,i){i[0]&524288&&tn(n,r[19])},d(r){r&&B(t)}}}function ep(e){let t,n,r,i,a,s,c,f,l,u,d,h,p,m=e[7]&&Z0(e);return{c(){t=K("span"),n=K("span"),r=pe(),m&&m.c(),this.h()},l(g){t=Z(g,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-label":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var b=Q(t);n=Z(b,"SPAN",{class:!0}),Q(n).forEach(B),r=ge(b),m&&m.l(b),b.forEach(B),this.h()},h(){$(n,"class","rangeNub"),$(t,"role","slider"),$(t,"class","rangeHandle"),$(t,"data-handle",e[67]),$(t,"style",i=e[29]+": "+e[30][e[67]]+"%; z-index: "+(e[27]===e[67]?3:2)+";"),$(t,"aria-label",a=e[22][e[67]]),$(t,"aria-valuemin",s=e[2]===!0&&e[67]===1?e[0][0]:e[3]),$(t,"aria-valuemax",c=e[2]===!0&&e[67]===0?e[0][1]:e[4]),$(t,"aria-valuenow",f=e[65]),$(t,"aria-valuetext",l=""+(e[18]+ip(e[21](e[65],e[67],e[24](e[65])))+e[19])),$(t,"aria-orientation",u=e[6]?"vertical":"horizontal"),$(t,"aria-disabled",e[10]),$(t,"disabled",e[10]),$(t,"tabindex",d=e[10]?-1:0),be(t,"active",e[25]&&e[27]===e[67]),be(t,"press",e[26]&&e[27]===e[67])},m(g,b){Se(g,t,b),I(t,n),I(t,r),m&&m.m(t,null),h||(p=[Fe(t,"blur",e[35]),Fe(t,"focus",e[36]),Fe(t,"keydown",e[37])],h=!0)},p(g,b){g[7]?m?m.p(g,b):(m=Z0(g),m.c(),m.m(t,null)):m&&(m.d(1),m=null),b[0]&1744830464&&i!==(i=g[29]+": "+g[30][g[67]]+"%; z-index: "+(g[27]===g[67]?3:2)+";")&&$(t,"style",i),b[0]&4194304&&a!==(a=g[22][g[67]])&&$(t,"aria-label",a),b[0]&13&&s!==(s=g[2]===!0&&g[67]===1?g[0][0]:g[3])&&$(t,"aria-valuemin",s),b[0]&21&&c!==(c=g[2]===!0&&g[67]===0?g[0][1]:g[4])&&$(t,"aria-valuemax",c),b[0]&1&&f!==(f=g[65])&&$(t,"aria-valuenow",f),b[0]&19660801&&l!==(l=""+(g[18]+ip(g[21](g[65],g[67],g[24](g[65])))+g[19]))&&$(t,"aria-valuetext",l),b[0]&64&&u!==(u=g[6]?"vertical":"horizontal")&&$(t,"aria-orientation",u),b[0]&1024&&$(t,"aria-disabled",g[10]),b[0]&1024&&$(t,"disabled",g[10]),b[0]&1024&&d!==(d=g[10]?-1:0)&&$(t,"tabindex",d),b[0]&167772160&&be(t,"active",g[25]&&g[27]===g[67]),b[0]&201326592&&be(t,"press",g[26]&&g[27]===g[67])},d(g){g&&B(t),m&&m.d(),h=!1,pr(p)}}}function tp(e){let t,n;return{c(){t=K("span"),this.h()},l(r){t=Z(r,"SPAN",{class:!0,style:!0}),Q(t).forEach(B),this.h()},h(){$(t,"class","rangeBar"),$(t,"style",n=e[29]+": "+e[33](e[30])+"%; "+e[28]+": "+e[34](e[30])+"%;")},m(r,i){Se(r,t,i)},p(r,i){i[0]&1879048192&&n!==(n=r[29]+": "+r[33](r[30])+"%; "+r[28]+": "+r[34](r[30])+"%;")&&$(t,"style",n)},d(r){r&&B(t)}}}function np(e){let t,n;return t=new VM({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[29],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[25],percentOf:e[24],moveHandle:e[32],fixFloat:e[31],normalisedClient:Ma}}),{c(){hl(t.$$.fragment)},l(r){pl(t.$$.fragment,r)},m(r,i){gl(t,r,i),n=!0},p(r,i){const a={};i[0]&1&&(a.values=r[0]),i[0]&8&&(a.min=r[3]),i[0]&16&&(a.max=r[4]),i[0]&32&&(a.step=r[5]),i[0]&4&&(a.range=r[2]),i[0]&64&&(a.vertical=r[6]),i[0]&256&&(a.reversed=r[8]),i[0]&536870912&&(a.orientationStart=r[29]),i[0]&512&&(a.hoverable=r[9]),i[0]&1024&&(a.disabled=r[10]),i[0]&8192&&(a.all=r[13]),i[0]&16384&&(a.first=r[14]),i[0]&32768&&(a.last=r[15]),i[0]&65536&&(a.rest=r[16]),i[0]&4096&&(a.pipstep=r[12]),i[0]&262144&&(a.prefix=r[18]),i[0]&524288&&(a.suffix=r[19]),i[0]&1048576&&(a.formatter=r[20]),i[0]&33554432&&(a.focus=r[25]),i[0]&16777216&&(a.percentOf=r[24]),t.$set(a)},i(r){n||(Xe(t.$$.fragment,r),n=!0)},o(r){Ze(t.$$.fragment,r),n=!1},d(r){ml(t,r)}}}function HM(e){let t,n,r,i,a,s,c=e[0],f=[];for(let d=0;d<c.length;d+=1)f[d]=ep(K0(e,c,d));let l=e[2]&&tp(e),u=e[11]&&np(e);return{c(){t=K("div");for(let d=0;d<f.length;d+=1)f[d].c();n=pe(),l&&l.c(),r=pe(),u&&u.c(),this.h()},l(d){t=Z(d,"DIV",{id:!0,role:!0,class:!0});var h=Q(t);for(let p=0;p<f.length;p+=1)f[p].l(h);n=ge(h),l&&l.l(h),r=ge(h),u&&u.l(h),h.forEach(B),this.h()},h(){$(t,"id",e[17]),$(t,"role","none"),$(t,"class","rangeSlider"),be(t,"range",e[2]),be(t,"disabled",e[10]),be(t,"hoverable",e[9]),be(t,"vertical",e[6]),be(t,"reversed",e[8]),be(t,"focus",e[25]),be(t,"min",e[2]==="min"),be(t,"max",e[2]==="max"),be(t,"pips",e[11]),be(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(d,h){Se(d,t,h);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(t,null);I(t,n),l&&l.m(t,null),I(t,r),u&&u.m(t,null),e[51](t),i=!0,a||(s=[Fe(window,"mousedown",e[40]),Fe(window,"touchstart",e[40]),Fe(window,"mousemove",e[41]),Fe(window,"touchmove",e[41]),Fe(window,"mouseup",e[42]),Fe(window,"touchend",e[43]),Fe(window,"keydown",e[44]),Fe(t,"mousedown",e[38]),Fe(t,"mouseup",e[39]),Fe(t,"touchstart",Ku(e[38])),Fe(t,"touchend",Ku(e[39]))],a=!0)},p(d,h){if(h[0]&1869350109|h[1]&112){c=d[0];let p;for(p=0;p<c.length;p+=1){const m=K0(d,c,p);f[p]?f[p].p(m,h):(f[p]=ep(m),f[p].c(),f[p].m(t,n))}for(;p<f.length;p+=1)f[p].d(1);f.length=c.length}d[2]?l?l.p(d,h):(l=tp(d),l.c(),l.m(t,r)):l&&(l.d(1),l=null),d[11]?u?(u.p(d,h),h[0]&2048&&Xe(u,1)):(u=np(d),u.c(),Xe(u,1),u.m(t,null)):u&&(y2(),Ze(u,1,1,()=>{u=null}),_2()),(!i||h[0]&131072)&&$(t,"id",d[17]),(!i||h[0]&4)&&be(t,"range",d[2]),(!i||h[0]&1024)&&be(t,"disabled",d[10]),(!i||h[0]&512)&&be(t,"hoverable",d[9]),(!i||h[0]&64)&&be(t,"vertical",d[6]),(!i||h[0]&256)&&be(t,"reversed",d[8]),(!i||h[0]&33554432)&&be(t,"focus",d[25]),(!i||h[0]&4)&&be(t,"min",d[2]==="min"),(!i||h[0]&4)&&be(t,"max",d[2]==="max"),(!i||h[0]&2048)&&be(t,"pips",d[11]),(!i||h[0]&122880)&&be(t,"pip-labels",d[13]==="label"||d[14]==="label"||d[15]==="label"||d[16]==="label")},i(d){i||(Xe(u),i=!0)},o(d){Ze(u),i=!1},d(d){d&&B(t),dl(f,d),l&&l.d(),u&&u.d(),e[51](null),a=!1,pr(s)}}}function rp(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function Ma(e){return e.type.includes("touch")?e.touches[0]||e.changedTouches[0]:e}function ip(e){return`${e}`.replace(/<[^>]*>/g,"")}function WM(e,t,n){let r,i,a,s,c,f,l=Ce,u=()=>(l(),l=fn(V,O=>n(30,f=O)),V);e.$$.on_destroy.push(()=>l());let{slider:d=void 0}=t,{range:h=!1}=t,{pushy:p=!1}=t,{min:m=0}=t,{max:g=100}=t,{step:b=1}=t,{values:v=[(g+m)/2]}=t,{vertical:_=!1}=t,{float:x=!1}=t,{reversed:y=!1}=t,{hoverable:w=!0}=t,{disabled:M=!1}=t,{pips:k=!1}=t,{pipstep:A=void 0}=t,{all:N=void 0}=t,{first:D=void 0}=t,{last:S=void 0}=t,{rest:T=void 0}=t,{id:F=void 0}=t,{prefix:L=""}=t,{suffix:E=""}=t,{formatter:U=(O,oe,Me)=>O}=t,{handleFormatter:j=U}=t,{ariaLabels:ne=[]}=t,{precision:te=2}=t,{springValues:Y={stiffness:.15,damping:.4}}=t;const H=v2();let ee=0,J=!1,P=!1,re=!1,ue=!1,G=v.length-1,ce,C,V;const X=O=>parseFloat((+O).toFixed(te));function q(O){const oe=d.querySelectorAll(".handle"),Me=Array.prototype.includes.call(oe,O),Ee=Array.prototype.some.call(oe,et=>et.contains(O));return Me||Ee}function fe(O){return h==="min"||h==="max"?O.slice(0,1):h?O.slice(0,2):O}function se(){return d.getBoundingClientRect()}function de(O){const oe=se();let Me=0,Ee=0,et=0;_?(Me=O.clientY-oe.top,Ee=Me/oe.height*100,Ee=y?Ee:100-Ee):(Me=O.clientX-oe.left,Ee=Me/oe.width*100,Ee=y?100-Ee:Ee),et=(g-m)/100*Ee+m;let Nn;return h===!0&&v[0]===v[1]?et>v[1]?1:0:(Nn=v.indexOf([...v].sort((Yn,pn)=>Math.abs(et-Yn)-Math.abs(et-pn))[0]),Nn)}function me(O){const oe=se();let Me=0,Ee=0,et=0;_?(Me=O.clientY-oe.top,Ee=Me/oe.height*100,Ee=y?Ee:100-Ee):(Me=O.clientX-oe.left,Ee=Me/oe.width*100,Ee=y?100-Ee:Ee),et=(g-m)/100*Ee+m,W(G,et)}function W(O,oe){return oe=a(oe),typeof O>"u"&&(O=G),h&&(O===0&&oe>v[1]?p?n(0,v[1]=oe,v):oe=v[1]:O===1&&oe<v[0]&&(p?n(0,v[0]=oe,v):oe=v[0])),v[O]!==oe&&n(0,v[O]=oe,v),C!==oe&&(Bt(),C=oe),oe}function le(O){return h==="min"?0:O[0]}function _e(O){return h==="max"?0:h==="min"?100-O[0]:100-O[1]}function De(O){ue&&(n(25,J=!1),P=!1,n(26,re=!1))}function Le(O){M||(n(27,G=rp(O.target)),n(25,J=!0))}function lt(O){if(!M){const oe=rp(O.target);let Me=O.ctrlKey||O.metaKey||O.shiftKey?b*10:b,Ee=!1;switch(O.key){case"PageDown":Me*=10;case"ArrowRight":case"ArrowUp":W(oe,v[oe]+Me),Ee=!0;break;case"PageUp":Me*=10;case"ArrowLeft":case"ArrowDown":W(oe,v[oe]-Me),Ee=!0;break;case"Home":W(oe,m),Ee=!0;break;case"End":W(oe,g),Ee=!0;break}Ee&&(O.preventDefault(),O.stopPropagation())}}function Pe(O){if(!M){const oe=O.target,Me=Ma(O);n(25,J=!0),P=!0,n(26,re=!0),n(27,G=de(Me)),ce=C=a(v[G]),xt(),O.type==="touchstart"&&!oe.matches(".pipVal")&&me(Me)}}function st(O){O.type==="touchend"&&Ge(),n(26,re=!1)}function Ue(O){ue=!1,J&&O.target!==d&&!d.contains(O.target)&&n(25,J=!1)}function z(O){M||P&&me(Ma(O))}function ae(O){if(!M){const oe=O.target;P&&((oe===d||d.contains(oe))&&(n(25,J=!0),!q(oe)&&!oe.matches(".pipVal")&&me(Ma(O))),Ge())}P=!1,n(26,re=!1)}function $e(O){P=!1,n(26,re=!1)}function Ke(O){M||(O.target===d||d.contains(O.target))&&(ue=!0)}function xt(){!M&&H("start",{activeHandle:G,value:ce,values:v.map(O=>a(O))})}function Ge(){!M&&H("stop",{activeHandle:G,startValue:ce,value:v[G],values:v.map(O=>a(O))})}function Bt(){!M&&H("change",{activeHandle:G,startValue:ce,previousValue:typeof C>"u"?ce:C,value:v[G],values:v.map(O=>a(O))})}function Rt(O){hr[O?"unshift":"push"](()=>{d=O,n(1,d)})}return e.$$set=O=>{"slider"in O&&n(1,d=O.slider),"range"in O&&n(2,h=O.range),"pushy"in O&&n(45,p=O.pushy),"min"in O&&n(3,m=O.min),"max"in O&&n(4,g=O.max),"step"in O&&n(5,b=O.step),"values"in O&&n(0,v=O.values),"vertical"in O&&n(6,_=O.vertical),"float"in O&&n(7,x=O.float),"reversed"in O&&n(8,y=O.reversed),"hoverable"in O&&n(9,w=O.hoverable),"disabled"in O&&n(10,M=O.disabled),"pips"in O&&n(11,k=O.pips),"pipstep"in O&&n(12,A=O.pipstep),"all"in O&&n(13,N=O.all),"first"in O&&n(14,D=O.first),"last"in O&&n(15,S=O.last),"rest"in O&&n(16,T=O.rest),"id"in O&&n(17,F=O.id),"prefix"in O&&n(18,L=O.prefix),"suffix"in O&&n(19,E=O.suffix),"formatter"in O&&n(20,U=O.formatter),"handleFormatter"in O&&n(21,j=O.handleFormatter),"ariaLabels"in O&&n(22,ne=O.ariaLabels),"precision"in O&&n(46,te=O.precision),"springValues"in O&&n(47,Y=O.springValues)},e.$$.update=()=>{if(e.$$.dirty[0]&24&&n(50,i=function(O){return O<=m?m:O>=g?g:O}),e.$$.dirty[0]&56|e.$$.dirty[1]&524288&&n(49,a=function(O){if(O<=m)return X(m);if(O>=g)return X(g);O=X(O);let oe=(O-m)%b,Me=O-oe;return Math.abs(oe)*2>=b&&(Me+=oe>0?b:-b),Me=i(Me),X(Me)}),e.$$.dirty[0]&24&&n(24,r=function(O){let oe=(O-m)/(g-m)*100;return isNaN(oe)||oe<=0?0:oe>=100?100:X(oe)}),e.$$.dirty[0]&29360153|e.$$.dirty[1]&458752){Array.isArray(v)||(n(0,v=[(g+m)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)"));const O=fe(v.map(oe=>a(oe)));(v.length!==O.length||!v.every((oe,Me)=>X(oe)===O[Me]))&&n(0,v=O),ee!==v.length?u(n(23,V=qM(v.map(oe=>r(oe)),Y))):V.set(v.map(oe=>r(oe))),n(48,ee=v.length),v.length>1&&!Array.isArray(ne)&&console.warn("'ariaLabels' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")}e.$$.dirty[0]&320&&n(29,s=_?y?"top":"bottom":y?"right":"left"),e.$$.dirty[0]&320&&n(28,c=_?y?"bottom":"top":y?"left":"right")},[v,d,h,m,g,b,_,x,y,w,M,k,A,N,D,S,T,F,L,E,U,j,ne,V,r,J,re,G,c,s,f,X,W,le,_e,De,Le,lt,Pe,st,Ue,z,ae,$e,Ke,p,te,Y,ee,a,i,Rt]}class t2 extends _t{constructor(t){super(),vt(this,t,WM,HM,wt,{slider:1,range:2,pushy:45,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,ariaLabels:22,precision:46,springValues:47},null,[-1,-1,-1])}}function op(e){let t,n;return{c(){t=K("p"),n=Re(e[2])},l(r){t=Z(r,"P",{});var i=Q(t);n=je(i,e[2]),i.forEach(B)},m(r,i){Se(r,t,i),I(t,n)},p(r,i){i&4&&tn(n,r[2])},d(r){r&&B(t)}}}function YM(e){let t,n,r,i,a,s=e[2]&&op(e);function c(l){e[14](l)}let f={min:+e[0],max:+e[1],pips:!0,range:!0,float:!0,first:"label",last:"label",springValues:!0,id:"slider"};return e[6]!==void 0&&(f.values=e[6]),r=new t2({props:f}),hr.push(()=>wp(r,"values",c)),r.$on("start",e[8]),r.$on("change",e[7]),r.$on("stop",e[9]),{c(){t=K("div"),s&&s.c(),n=pe(),hl(r.$$.fragment),this.h()},l(l){t=Z(l,"DIV",{class:!0,id:!0});var u=Q(t);s&&s.l(u),n=ge(u),pl(r.$$.fragment,u),u.forEach(B),this.h()},h(){$(t,"class","px-[1%] py-[1%] ml-[2.1%]"),$(t,"id","slider")},m(l,u){Se(l,t,u),s&&s.m(t,null),I(t,n),gl(r,t,null),a=!0},p(l,[u]){l[2]?s?s.p(l,u):(s=op(l),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const d={};u&1&&(d.min=+l[0]),u&2&&(d.max=+l[1]),!i&&u&64&&(i=!0,d.values=l[6],xp(()=>i=!1)),r.$set(d)},i(l){a||(Xe(r.$$.fragment,l),a=!0)},o(l){Ze(r.$$.fragment,l),a=!1},d(l){l&&B(t),s&&s.d(),ml(r)}}}function GM(e,t,n){let r,i=Ce,a=()=>(i(),i=fn(_,S=>n(15,r=S)),_),s,c=Ce,f=()=>(c(),c=fn(b,S=>n(16,s=S)),b),l,u=Ce,d=()=>(u(),u=fn(v,S=>n(17,l=S)),v);e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>c()),e.$$.on_destroy.push(()=>u());let{min:h=0,max:p=100,id:m,description:g}=t,{change:b=ft({})}=t;f();let{stop:v=ft({})}=t;d();let{drag:_=ft({})}=t;a();let{interactions:x={change:b,stop:v,drag:_}}=t;Sp("dims");let y=[h,p];[...y];function w(S){console.log("Slider.render",S),S&&qe(Array,S)&&Tt(S.filter(T=>T===void 0))&&(n(6,y=[+S[0].min,+S[0].max]),n(0,[h,p]=y,h,n(1,p)),console.log("Slider.render.to",y)),y&&y.length>=2&&k()}function M(S,T){console.log("Slider.load",S,T),!(!fr("left")(S)||!fr("right")(S))&&(S=S??{left:h,right:p},n(6,y=[S.left??h,S.right??p]),k())}function k(){b.isActive&&He(b,s={left:y[0],right:y[1]},s),_.isActive&&He(_,r={left:y[0],right:y[1]},r)}function A(){_.isActive&&He(_,r={left:y[0],right:y[1]},r)}function N(){v.isActive&&He(v,l={left:y[0],right:y[1]},l),b.isActive&&He(b,s={left:y[0],right:y[1]},s),_.isActive&&He(_,r={left:y[0],right:y[1]},r)}function D(S){y=S,n(6,y)}return e.$$set=S=>{"min"in S&&n(0,h=S.min),"max"in S&&n(1,p=S.max),"id"in S&&n(10,m=S.id),"description"in S&&n(2,g=S.description),"change"in S&&f(n(3,b=S.change)),"stop"in S&&d(n(4,v=S.stop)),"drag"in S&&a(n(5,_=S.drag)),"interactions"in S&&n(11,x=S.interactions)},[h,p,g,b,v,_,y,k,A,N,m,x,w,M,D]}class XM extends _t{constructor(t){super(),vt(this,t,GM,YM,wt,{min:0,max:1,id:10,description:2,change:3,stop:4,drag:5,interactions:11,render:12,load:13})}get min(){return this.$$.ctx[0]}set min(t){this.$$set({min:t}),ie()}get max(){return this.$$.ctx[1]}set max(t){this.$$set({max:t}),ie()}get id(){return this.$$.ctx[10]}set id(t){this.$$set({id:t}),ie()}get description(){return this.$$.ctx[2]}set description(t){this.$$set({description:t}),ie()}get change(){return this.$$.ctx[3]}set change(t){this.$$set({change:t}),ie()}get stop(){return this.$$.ctx[4]}set stop(t){this.$$set({stop:t}),ie()}get drag(){return this.$$.ctx[5]}set drag(t){this.$$set({drag:t}),ie()}get interactions(){return this.$$.ctx[11]}set interactions(t){this.$$set({interactions:t}),ie()}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}}function KM(e){let t,n;return{c(){t=K("div"),n=K("div"),this.h()},l(r){t=Z(r,"DIV",{id:!0});var i=Q(t);n=Z(i,"DIV",{}),Q(n).forEach(B),i.forEach(B),this.h()},h(){$(t,"id",e[0])},m(r,i){Se(r,t,i),I(t,n),e[18](n)},p(r,[i]){i&1&&$(t,"id",r[0])},i:Ce,o:Ce,d(r){r&&B(t),e[18](null)}}}function ZM(e,t,n){let{id:r,name:i,groupNames:a=[],title:s="",xAttr:c,yAttr:f="val",yMax:l,magic:u,xDomainMin:d=null,xDomainMax:h=null,theplot:p=null}=t,m={};const g=["#93c1cf","#feb144","#9ee09e","#ff6663"];let{brushX:b=ft({}),interactions:v={brushX:b}}=t,_,x=null,y=[],w=[{},{}];function M(S,T){return T!="overlay"?!1:(m=S,!0)}function k(S,T){return T!="badyear"?!1:(S.forEach((F,L)=>{F.rank=L+1,F[c]=Number(F[c])}),w=S,!0)}function A(S,T){!S||S.length===0||typeof T=="object"||(k(S,T)||M(S,T)?console.debug("overlay or badyear"):(y=gM(S,{include:a}),y.forEach(F=>F[c]=Number(F[c]))),N())}function N(){n(2,d=+d),n(3,h=+h);let S=tl({x:{type:"linear",domain:[d-1,h]}}),T=L=>(w.length-L.rank)*(.3/w.length)+.7,F={x:S,color:{domain:a,range:g,legend:!0,style:{"font-size":10,"margin-left":"2em"}},height:200,marginBottom:50,marks:[Ei({ticks:j2(L=>L+d,h-d),tickRotate:-90,fontSize:10,tickFormat:L=>(L+"").slice(-2)}),Po({fontSize:10,label:"Severity"}),Su([0]),xu([S.domain[0]]),cl(w,{x1:L=>L[c]-.5,x2:L=>L[c]+.5,y:T,stroke:"black",opacity:.8,strokeWidth:1}),_S(w,{x1:L=>L[c]-.5,x2:L=>L[c]+.5,y1:0,y2:T,fill:"gray",opacity:.1}),Iu(m,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2}),oM(y,{filter:L=>L.key==a.at(-1)&&L[c]>=d&&L[c]<=h&&+L[f]==0,x:L=>+L[c],y:0,stroke:"red",strokeWidth:1})]};a.forEach((L,E)=>{let U=(1+E)/a.length*.7;F.marks.push(cl(y,{filter:j=>j.key==L&&j[c]>=d&&j[c]<=h,x:j=>+j[c]+U-.35,y1:0,y2:f,stroke:"key",strokeWidth:4}))}),n(4,p=oc(F,x)),b.isActive&&(_=_??new Fu({iact:b,magic:u}),_.init(p))}function D(S){hr[S?"unshift":"push"](()=>{x=S,n(1,x)})}return e.$$set=S=>{"id"in S&&n(5,r=S.id),"name"in S&&n(0,i=S.name),"groupNames"in S&&n(6,a=S.groupNames),"title"in S&&n(7,s=S.title),"xAttr"in S&&n(8,c=S.xAttr),"yAttr"in S&&n(9,f=S.yAttr),"yMax"in S&&n(10,l=S.yMax),"magic"in S&&n(11,u=S.magic),"xDomainMin"in S&&n(2,d=S.xDomainMin),"xDomainMax"in S&&n(3,h=S.xDomainMax),"theplot"in S&&n(4,p=S.theplot),"brushX"in S&&n(12,b=S.brushX),"interactions"in S&&n(13,v=S.interactions)},[i,x,d,h,p,r,a,s,c,f,l,u,b,v,M,k,A,N,D]}class JM extends _t{constructor(t){super(),vt(this,t,ZM,KM,wt,{id:5,name:0,groupNames:6,title:7,xAttr:8,yAttr:9,yMax:10,magic:11,xDomainMin:2,xDomainMax:3,theplot:4,brushX:12,interactions:13,overlay:14,badyear:15,render:16,update:17})}get id(){return this.$$.ctx[5]}set id(t){this.$$set({id:t}),ie()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ie()}get groupNames(){return this.$$.ctx[6]}set groupNames(t){this.$$set({groupNames:t}),ie()}get title(){return this.$$.ctx[7]}set title(t){this.$$set({title:t}),ie()}get xAttr(){return this.$$.ctx[8]}set xAttr(t){this.$$set({xAttr:t}),ie()}get yAttr(){return this.$$.ctx[9]}set yAttr(t){this.$$set({yAttr:t}),ie()}get yMax(){return this.$$.ctx[10]}set yMax(t){this.$$set({yMax:t}),ie()}get magic(){return this.$$.ctx[11]}set magic(t){this.$$set({magic:t}),ie()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(t){this.$$set({xDomainMin:t}),ie()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(t){this.$$set({xDomainMax:t}),ie()}get theplot(){return this.$$.ctx[4]}set theplot(t){this.$$set({theplot:t}),ie()}get brushX(){return this.$$.ctx[12]}set brushX(t){this.$$set({brushX:t}),ie()}get interactions(){return this.$$.ctx[13]}set interactions(t){this.$$set({interactions:t}),ie()}get overlay(){return this.$$.ctx[14]}get badyear(){return this.$$.ctx[15]}get render(){return this.$$.ctx[16]}get update(){return this.$$.ctx[17]}}function QM(e){let t,n;return{c(){t=K("div"),n=K("div"),this.h()},l(r){t=Z(r,"DIV",{id:!0});var i=Q(t);n=Z(i,"DIV",{}),Q(n).forEach(B),i.forEach(B),this.h()},h(){$(t,"id",e[0])},m(r,i){Se(r,t,i),I(t,n),e[11](n)},p(r,[i]){i&1&&$(t,"id",r[0])},i:Ce,o:Ce,d(r){r&&B(t),e[11](null)}}}function ek(e,t,n){let{id:r,name:i,xDomainMin:a,xDomainMax:s,magic:c}=t,{brushX:f=ft({})}=t,{interactions:l={brushX:f}}=t,u,d,h,p={},m=[];const g=["#93c1cf","#feb144","#9ee09e","#ff6663"];function b(y,w){return w!="overlay"?!1:(p=y,!0)}function v(y,w){!y||y.length===0||typeof w=="object"||(b(y,w)?console.debug("overlay"):m=y,_())}function _(){let y={x:{domain:[+a,+s],type:"linear"},y:{axis:null},marginBottom:50,marginLeft:90,height:300,fy:{label:null,labelAnchor:"center"},color:{style:{"font-size":10,"margin-left":"2rem"},range:g,legend:!0},marks:[Ei({ticks:36,fontSize:10}),Zy(),Iu(p,{x1:"left",x2:"right",y2:1,fill:"key",color:"key"}),cl(m,{x1:"start_time",x2:"end_time",y:"activity",strokeWidth:3,fy:"village"}),nc(m,{x:w=>{let M=(w.end_time-w.start_time)/2+w.start_time;return console.log("yy",w,M),M},y:"activity",dy:3,lineAnchor:"top",fy:"village",fontSize:10,color:"gray",text:"activity"})]};u=oc(y,d),f.isActive&&(h=h??new Fu({iact:f,magic:c}),h.init(u))}function x(y){hr[y?"unshift":"push"](()=>{d=y,n(1,d)})}return e.$$set=y=>{"id"in y&&n(2,r=y.id),"name"in y&&n(0,i=y.name),"xDomainMin"in y&&n(3,a=y.xDomainMin),"xDomainMax"in y&&n(4,s=y.xDomainMax),"magic"in y&&n(5,c=y.magic),"brushX"in y&&n(6,f=y.brushX),"interactions"in y&&n(7,l=y.interactions)},[i,d,r,a,s,c,f,l,b,v,_,x]}class tk extends _t{constructor(t){super(),vt(this,t,ek,QM,wt,{id:2,name:0,xDomainMin:3,xDomainMax:4,magic:5,brushX:6,interactions:7,overlay:8,render:9,update:10})}get id(){return this.$$.ctx[2]}set id(t){this.$$set({id:t}),ie()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ie()}get xDomainMin(){return this.$$.ctx[3]}set xDomainMin(t){this.$$set({xDomainMin:t}),ie()}get xDomainMax(){return this.$$.ctx[4]}set xDomainMax(t){this.$$set({xDomainMax:t}),ie()}get magic(){return this.$$.ctx[5]}set magic(t){this.$$set({magic:t}),ie()}get brushX(){return this.$$.ctx[6]}set brushX(t){this.$$set({brushX:t}),ie()}get interactions(){return this.$$.ctx[7]}set interactions(t){this.$$set({interactions:t}),ie()}get overlay(){return this.$$.ctx[8]}get render(){return this.$$.ctx[9]}get update(){return this.$$.ctx[10]}}function nk(e){let t,n;return{c(){t=K("div"),n=K("div"),this.h()},l(r){t=Z(r,"DIV",{id:!0});var i=Q(t);n=Z(i,"DIV",{}),Q(n).forEach(B),i.forEach(B),this.h()},h(){$(t,"id",e[0])},m(r,i){Se(r,t,i),I(t,n),e[6](n)},p(r,[i]){i&1&&$(t,"id",r[0])},i:Ce,o:Ce,d(r){r&&B(t),e[6](null)}}}function rk(e,t,n){let{name:r,id:i,interactions:a={}}=t,s,c=[];function f(d,h){!d||d.length===0||(c=d,l())}function l(){let d=tl({color:{type:"linear",scheme:"greens"}}),h=tl({color:{type:"quantile",range:["#fff","#000"],domain:[0,60,100]}}),p=c.map(g=>h.apply(Pa(d.apply(+g.value)).l)),m={padding:0,marginLeft:150,height:300,color:d,marks:[Ei({fontSize:10,label:null}),Po({fontSize:10,label:null}),tM(c,{x:"x",y:"y",fill:g=>+g.value,stroke:"white"}),nc(c,{x:"x",y:"y",text:g=>g.value,fill:p,fontSize:10,fontWeight:"bold",textAnchor:"middle"})]};oc(m,s)}function u(d){hr[d?"unshift":"push"](()=>{s=d,n(1,s)})}return e.$$set=d=>{"name"in d&&n(0,r=d.name),"id"in d&&n(2,i=d.id),"interactions"in d&&n(3,a=d.interactions)},[r,s,i,a,f,l,u]}class ik extends _t{constructor(t){super(),vt(this,t,rk,nk,wt,{name:0,id:2,interactions:3,render:4,update:5})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ie()}get id(){return this.$$.ctx[2]}set id(t){this.$$set({id:t}),ie()}get interactions(){return this.$$.ctx[3]}set interactions(t){this.$$set({interactions:t}),ie()}get render(){return this.$$.ctx[4]}get update(){return this.$$.ctx[5]}}const ok=ft({w:window.innerWidth*.8,h:window.innerHeight*.8,margin:$M}),ap=ft([]),sp=ft({});function cp(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function ak(e){let t,n=e[15][e[2]]+"",r;return{c(){t=K("option"),r=Re(n),this.h()},l(i){t=Z(i,"OPTION",{});var a=Q(t);r=je(a,n),a.forEach(B),this.h()},h(){t.__value=e[17],t.value=t.__value},m(i,a){Se(i,t,a),I(t,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&tn(r,n)},d(i){i&&B(t)}}}function sk(e){let t,n=e[15][e[2]]+"",r;return{c(){t=K("option"),r=Re(n),this.h()},l(i){t=Z(i,"OPTION",{});var a=Q(t);r=je(a,n),a.forEach(B),this.h()},h(){t.__value=e[17],t.value=t.__value,t.selected=!0},m(i,a){Se(i,t,a),I(t,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&tn(r,n)},d(i){i&&B(t)}}}function fp(e){let t;function n(a,s){return a[17]===a[1]?sk:ak}let r=n(e),i=r(e);return{c(){i.c(),t=Ye()},l(a){i.l(a),t=Ye()},m(a,s){i.m(a,s),Se(a,t,s)},p(a,s){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(t.parentNode,t)))},d(a){i.d(a),a&&B(t)}}}function ck(e){let t,n,r,i,a=e[5],s=[];for(let c=0;c<a.length;c+=1)s[c]=fp(cp(e,a,c));return{c(){t=K("div"),n=K("select");for(let c=0;c<s.length;c+=1)s[c].c();this.h()},l(c){t=Z(c,"DIV",{class:!0,id:!0});var f=Q(t);n=Z(f,"SELECT",{class:!0});var l=Q(n);for(let u=0;u<s.length;u+=1)s[u].l(l);l.forEach(B),f.forEach(B),this.h()},h(){$(n,"class","form-select block w-full px-2 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[4]===void 0&&w2(()=>e[10].call(n)),$(t,"class","px-[1%] py-[1%] container svelte-p4yrke"),$(t,"id",e[0])},m(c,f){Se(c,t,f),I(t,n);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(n,null);Zu(n,e[4],!0),r||(i=[Fe(n,"change",e[10]),Fe(n,"change",e[6])],r=!0)},p(c,[f]){if(f&38){a=c[5];let l;for(l=0;l<a.length;l+=1){const u=cp(c,a,l);s[l]?s[l].p(u,f):(s[l]=fp(u),s[l].c(),s[l].m(n,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}f&16&&Zu(n,c[4]),f&1&&$(t,"id",c[0])},i:Ce,o:Ce,d(c){c&&B(t),dl(s,c),r=!1,pr(i)}}}function fk(e,t,n){let r,i=Ce,a=()=>(i(),i=fn(u,_=>n(11,r=_)),u),s;ka(e,ok,_=>n(12,s=_)),e.$$.on_destroy.push(()=>i());let{id:c,index:f,dropdown_key:l}=t,{change:u=ft({})}=t;a();let{interactions:d={change:u}}=t,h=null,p=[];s.margin;function m(_,x){n(5,p=_??p),n(4,h=h??f),console.log("Dropdown.render",p,h,x),b()}function g(_){console.log("Dropdown.load",_),n(4,h=_.idx),m()}function b(){u.isActive&&He(u,r={...p[h],idx:h},r)}function v(){h=x2(this),n(4,h)}return e.$$set=_=>{"id"in _&&n(0,c=_.id),"index"in _&&n(1,f=_.index),"dropdown_key"in _&&n(2,l=_.dropdown_key),"change"in _&&a(n(3,u=_.change)),"interactions"in _&&n(7,d=_.interactions)},[c,f,l,u,h,p,b,d,m,g,v]}class lk extends _t{constructor(t){super(),vt(this,t,fk,ck,wt,{id:0,index:1,dropdown_key:2,change:3,interactions:7,render:8,load:9})}get id(){return this.$$.ctx[0]}set id(t){this.$$set({id:t}),ie()}get index(){return this.$$.ctx[1]}set index(t){this.$$set({index:t}),ie()}get dropdown_key(){return this.$$.ctx[2]}set dropdown_key(t){this.$$set({dropdown_key:t}),ie()}get change(){return this.$$.ctx[3]}set change(t){this.$$set({change:t}),ie()}get interactions(){return this.$$.ctx[7]}set interactions(t){this.$$set({interactions:t}),ie()}get render(){return this.$$.ctx[8]}get load(){return this.$$.ctx[9]}}function uk(e){let t,n,r,i,a,s,c,f,l,u,d,h,p,m;return{c(){t=K("form"),n=K("div"),r=K("input"),i=pe(),a=K("button"),s=Re("Login"),c=pe(),f=K("button"),l=Re("Save"),u=pe(),d=K("button"),h=Re("Logout"),this.h()},l(g){t=Z(g,"FORM",{class:!0});var b=Q(t);n=Z(b,"DIV",{class:!0});var v=Q(n);r=Z(v,"INPUT",{class:!0,type:!0,placeholder:!0,"aria-label":!0}),i=ge(v),a=Z(v,"BUTTON",{class:!0,type:!0});var _=Q(a);s=je(_,"Login"),_.forEach(B),c=ge(v),f=Z(v,"BUTTON",{class:!0,type:!0});var x=Q(f);l=je(x,"Save"),x.forEach(B),u=ge(v),d=Z(v,"BUTTON",{class:!0,type:!0});var y=Q(d);h=je(y,"Logout"),y.forEach(B),v.forEach(B),b.forEach(B),this.h()},h(){$(r,"class","appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"),$(r,"type","text"),$(r,"placeholder","Login..."),$(r,"aria-label","username"),$(a,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-700 border-slate-500 hover:border-slate-700 text-sm border-4 text-white py-1 px-2 rounded"),$(a,"type","button"),$(f,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),$(f,"type","button"),$(d,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),$(d,"type","button"),$(n,"class","flex items-center border-b border-slate-500 py-2 space-x-4"),$(t,"class","w-full max-w-sm mx-auto")},m(g,b){Se(g,t,b),I(t,n),I(n,r),Aa(r,e[1]),I(n,i),I(n,a),I(a,s),I(n,c),I(n,f),I(f,l),I(n,u),I(n,d),I(d,h),p||(m=[Fe(r,"input",e[14]),Fe(a,"click",e[2]),Fe(f,"click",e[3]),Fe(d,"click",e[4])],p=!0)},p(g,[b]){b&2&&r.value!==g[1]&&Aa(r,g[1])},i:Ce,o:Ce,d(g){g&&B(t),p=!1,pr(m)}}}function n2(e,t){console.debug("login invoked",e,t)}function dk(e,t,n){let r,i=Ce,a=()=>(i(),i=fn(s,w=>n(16,r=w)),s);e.$$.on_destroy.push(()=>i());let{status:s=ft({}),interactions:c={status:s}}=t;a();let{id:f,magic:l,client:u,exportFunc:d,importFunc:h,dataTable:p,stateTable:m}=t,g,b;const v=async()=>{console.debug("login user: ",g),b=l.exportState();const w=await u.query(h,{table:m,user:g});if(!w){alert("there is no data for this user"),He(s,r={user:g,loggedin:!0},r);return}He(s,r={user:g,loggedin:!0},r),l.importState(w.data)},_=async()=>{let w=l.exportData();await u.mutation(d,{data:w,table:p,user:g}),w=l.exportState(),await u.mutation(d,{data:w,table:m,user:g}),alert("save function executed")},x=async()=>{l.importState(b),n(1,g=null)};function y(){g=this.value,n(1,g)}return e.$$set=w=>{"status"in w&&a(n(0,s=w.status)),"interactions"in w&&n(5,c=w.interactions),"id"in w&&n(6,f=w.id),"magic"in w&&n(7,l=w.magic),"client"in w&&n(8,u=w.client),"exportFunc"in w&&n(9,d=w.exportFunc),"importFunc"in w&&n(10,h=w.importFunc),"dataTable"in w&&n(11,p=w.dataTable),"stateTable"in w&&n(12,m=w.stateTable)},[s,g,v,_,x,c,f,l,u,d,h,p,m,n2,y]}class hk extends _t{constructor(t){super(),vt(this,t,dk,uk,wt,{status:0,interactions:5,id:6,magic:7,client:8,exportFunc:9,importFunc:10,dataTable:11,stateTable:12,render:13})}get status(){return this.$$.ctx[0]}set status(t){this.$$set({status:t}),ie()}get interactions(){return this.$$.ctx[5]}set interactions(t){this.$$set({interactions:t}),ie()}get id(){return this.$$.ctx[6]}set id(t){this.$$set({id:t}),ie()}get magic(){return this.$$.ctx[7]}set magic(t){this.$$set({magic:t}),ie()}get client(){return this.$$.ctx[8]}set client(t){this.$$set({client:t}),ie()}get exportFunc(){return this.$$.ctx[9]}set exportFunc(t){this.$$set({exportFunc:t}),ie()}get importFunc(){return this.$$.ctx[10]}set importFunc(t){this.$$set({importFunc:t}),ie()}get dataTable(){return this.$$.ctx[11]}set dataTable(t){this.$$set({dataTable:t}),ie()}get stateTable(){return this.$$.ctx[12]}set stateTable(t){this.$$set({stateTable:t}),ie()}get render(){return n2}}function pk(e){let t,n,r,i;return{c(){t=K("form"),n=K("input"),this.h()},l(a){t=Z(a,"FORM",{class:!0});var s=Q(t);n=Z(s,"INPUT",{type:!0,class:!0,placeholder:!0}),s.forEach(B),this.h()},h(){$(n,"type","text"),$(n,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),$(n,"placeholder",e[0]),$(t,"class","px-[1%] py-[1%] ml-[5.9%]")},m(a,s){Se(a,t,s),I(t,n),Aa(n,e[2]),r||(i=[Fe(n,"input",e[8]),Fe(n,"change",e[3])],r=!0)},p(a,[s]){s&1&&$(n,"placeholder",a[0]),s&4&&n.value!==a[2]&&Aa(n,a[2])},i:Ce,o:Ce,d(a){a&&B(t),r=!1,pr(i)}}}function gk(e,t,n){let r,i=Ce,a=()=>(i(),i=fn(f,g=>n(9,r=g)),f);e.$$.on_destroy.push(()=>i());let s=null,{placeholder:c="textbox"}=t,{change:f=ft({})}=t;a();let{id:l}=t,{interactions:u={change:f}}=t;function d(){f.isActive&&He(f,r={text:s},r)}function h(g){g&&R.is(Array,g)&&g.length&&n(0,c=String(g[0]))}function p(g,b){n(2,s=g),d()}function m(){s=this.value,n(2,s)}return e.$$set=g=>{"placeholder"in g&&n(0,c=g.placeholder),"change"in g&&a(n(1,f=g.change)),"id"in g&&n(4,l=g.id),"interactions"in g&&n(5,u=g.interactions)},[c,f,s,d,l,u,h,p,m]}class mk extends _t{constructor(t){super(),vt(this,t,gk,pk,wt,{placeholder:0,change:1,id:4,interactions:5,render:6,load:7})}get placeholder(){return this.$$.ctx[0]}set placeholder(t){this.$$set({placeholder:t}),ie()}get change(){return this.$$.ctx[1]}set change(t){this.$$set({change:t}),ie()}get id(){return this.$$.ctx[4]}set id(t){this.$$set({id:t}),ie()}get interactions(){return this.$$.ctx[5]}set interactions(t){this.$$set({interactions:t}),ie()}get render(){return this.$$.ctx[6]}get load(){return this.$$.ctx[7]}}function bk(e,t,n){let r,i=Ce,a=()=>(i(),i=fn(c,g=>n(8,r=g)),c);e.$$.on_destroy.push(()=>i());let{id:s,valid:c=ft({}),interactions:f={valid:c},key:l,threshold_string:u}=t;a();let d=[],h=Number(u);function p(g,b){if(console.debug("trigger alert render"),d=g??d,Tt(d)||!qe(Array,d))return;const _=wl(l)(d);if(Tt(_)){alert("warning, alert tried to find data for a key that returns an empty list, alert will not be used");return}B_(_)<h?(He(c,r={valid:!1},r),alert("warning, slider selection has too low variance in rainfall,invalid results")):He(c,r={valid:!0},r)}function m(g,b){Tt(g)||He(c,r=g,r)}return e.$$set=g=>{"id"in g&&n(1,s=g.id),"valid"in g&&a(n(0,c=g.valid)),"interactions"in g&&n(2,f=g.interactions),"key"in g&&n(3,l=g.key),"threshold_string"in g&&n(4,u=g.threshold_string)},[c,s,f,l,u,p,m]}class yk extends _t{constructor(t){super(),vt(this,t,bk,null,wt,{id:1,valid:0,interactions:2,key:3,threshold_string:4,render:5,load:6})}get id(){return this.$$.ctx[1]}set id(t){this.$$set({id:t}),ie()}get valid(){return this.$$.ctx[0]}set valid(t){this.$$set({valid:t}),ie()}get interactions(){return this.$$.ctx[2]}set interactions(t){this.$$set({interactions:t}),ie()}get key(){return this.$$.ctx[3]}set key(t){this.$$set({key:t}),ie()}get threshold_string(){return this.$$.ctx[4]}set threshold_string(t){this.$$set({threshold_string:t}),ie()}get render(){return this.$$.ctx[5]}get load(){return this.$$.ctx[6]}}var r2={exports:{}},_k=r2.exports={};_k.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}};var i2=r2.exports,vk=function(e){var t=e.stateHandler.getState;function n(s){var c=t(s);return c&&!!c.isDetectable}function r(s){t(s).isDetectable=!0}function i(s){return!!t(s).busy}function a(s,c){t(s).busy=!!c}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}},wk=function(e){var t={};function n(s){var c=e.get(s);return c===void 0?[]:t[c]||[]}function r(s,c){var f=e.get(s);t[f]||(t[f]=[]),t[f].push(c)}function i(s,c){for(var f=n(s),l=0,u=f.length;l<u;++l)if(f[l]===c){f.splice(l,1);break}}function a(s){var c=n(s);c&&(c.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}},xk=function(){var e=1;function t(){return e++}return{generate:t}},Sk=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(a){var s=n(a);return s&&s.id!==void 0?s.id:null}function i(a){var s=n(a);if(!s)throw new Error("setId required the element to have a resize detection state.");var c=t.generate();return s.id=c,c}return{get:r,set:i}},Mk=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(i,a){i[a]=function(){var c=console[a];if(c.apply)c.apply(console,arguments);else for(var f=0;f<arguments.length;f++)c(arguments[f])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},o2={exports:{}},a2=o2.exports={};a2.isIE=function(e){function t(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var r,i=3,a=document.createElement("div"),s=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(s[0]);return i>4?i:r}();return e===n};a2.isLegacyOpera=function(){return!!window.opera};var s2=o2.exports,c2={exports:{}},kk=c2.exports={};kk.getOption=Ak;function Ak(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var Ek=c2.exports,lp=Ek,Tk=function(t){t=t||{};var n=t.reporter,r=lp.getOption(t,"async",!0),i=lp.getOption(t,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a=up(),s,c=!1;function f(m,g){!c&&i&&r&&a.size()===0&&d(),a.add(m,g)}function l(){for(c=!0;a.size();){var m=a;a=up(),m.process()}c=!1}function u(m){c||(m===void 0&&(m=r),s&&(h(s),s=null),m?d():l())}function d(){s=p(l)}function h(m){var g=clearTimeout;return g(m)}function p(m){var g=function(b){return setTimeout(b,0)};return g(m)}return{add:f,force:u}};function up(){var e={},t=0,n=0,r=0;function i(c,f){f||(f=c,c=0),c>n?n=c:c<r&&(r=c),e[c]||(e[c]=[]),e[c].push(f),t++}function a(){for(var c=r;c<=n;c++)for(var f=e[c],l=0;l<f.length;l++){var u=f[l];u()}}function s(){return t}return{add:i,process:a,size:s}}var Pu="_erd";function Ck(e){return e[Pu]={},f2(e)}function f2(e){return e[Pu]}function Nk(e){delete e[Pu]}var Dk={initState:Ck,getState:f2,cleanState:Nk},Bi=s2,Ik=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(l,u){function d(){u(l)}if(Bi.isIE(8))r(l).object={proxy:d},l.attachEvent("onresize",d);else{var h=c(l);if(!h)throw new Error("Element is not detectable by this strategy.");h.contentDocument.defaultView.addEventListener("resize",d)}}function a(l){var u=e.important?" !important; ":"; ";return(l.join(u)+u).trim()}function s(l,u,d){d||(d=u,u=l,l=null),l=l||{},l.debug;function h(p,m){var g=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),b=!1,v=window.getComputedStyle(p),_=p.offsetWidth,x=p.offsetHeight;r(p).startSize={width:_,height:x};function y(){function w(){if(v.position==="static"){p.style.setProperty("position","relative",l.important?"important":"");var A=function(N,D,S,T){function F(E){return E.replace(/[^-\d\.]/g,"")}var L=S[T];L!=="auto"&&F(L)!=="0"&&(N.warn("An element that is positioned static has style."+T+"="+L+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+T+" will be set to 0. Element: ",D),D.style.setProperty(T,"0",l.important?"important":""))};A(t,p,v,"top"),A(t,p,v,"right"),A(t,p,v,"bottom"),A(t,p,v,"left")}}function M(){b||w();function A(D,S){if(!D.contentDocument){var T=r(D);T.checkForObjectDocumentTimeoutId&&window.clearTimeout(T.checkForObjectDocumentTimeoutId),T.checkForObjectDocumentTimeoutId=setTimeout(function(){T.checkForObjectDocumentTimeoutId=0,A(D,S)},100);return}S(D.contentDocument)}var N=this;A(N,function(S){m(p)})}v.position!==""&&(w(),b=!0);var k=document.createElement("object");k.style.cssText=g,k.tabIndex=-1,k.type="text/html",k.setAttribute("aria-hidden","true"),k.onload=M,Bi.isIE()||(k.data="about:blank"),r(p)&&(p.appendChild(k),r(p).object=k,Bi.isIE()&&(k.data="about:blank"))}n?n.add(y):y()}Bi.isIE(8)?d(u):h(u,d)}function c(l){return r(l).object}function f(l){if(r(l)){var u=c(l);u&&(Bi.isIE(8)?l.detachEvent("onresize",u.proxy):l.removeChild(u),r(l).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(l).checkForObjectDocumentTimeoutId),delete r(l).object)}}return{makeDetectable:s,addListener:i,uninstall:f}},Lk=i2.forEach,Ok=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;e.stateHandler.hasState;var i=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=u(),s="erd_scroll_detection_scrollbar_style",c="erd_scroll_detection_container";function f(y){d(y,s,c)}f(window.document);function l(y){var w=e.important?" !important; ":"; ";return(y.join(w)+w).trim()}function u(){var y=500,w=500,M=document.createElement("div");M.style.cssText=l(["position: absolute","width: "+y*2+"px","height: "+w*2+"px","visibility: hidden","margin: 0","padding: 0"]);var k=document.createElement("div");k.style.cssText=l(["position: absolute","width: "+y+"px","height: "+w+"px","overflow: scroll","visibility: none","top: "+-y*3+"px","left: "+-w*3+"px","visibility: hidden","margin: 0","padding: 0"]),k.appendChild(M),document.body.insertBefore(k,document.body.firstChild);var A=y-k.clientWidth,N=w-k.clientHeight;return document.body.removeChild(k),{width:A,height:N}}function d(y,w,M){function k(S,T){T=T||function(L){y.head.appendChild(L)};var F=y.createElement("style");return F.innerHTML=S,F.id=w,T(F),F}if(!y.getElementById(w)){var A=M+"_animation",N=M+"_animation_active",D=`/* Created by the element-resize-detector library. */
`;D+="."+M+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,D+="."+N+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+A,"animation-name: "+A])+` }
`,D+="@-webkit-keyframes "+A+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,D+="@keyframes "+A+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",k(D)}}function h(y){y.className+=" "+c+"_animation_active"}function p(y,w,M){if(y.addEventListener)y.addEventListener(w,M);else if(y.attachEvent)y.attachEvent("on"+w,M);else return t.error("[scroll] Don't know how to add event listeners.")}function m(y,w,M){if(y.removeEventListener)y.removeEventListener(w,M);else if(y.detachEvent)y.detachEvent("on"+w,M);else return t.error("[scroll] Don't know how to remove event listeners.")}function g(y){return r(y).container.childNodes[0].childNodes[0].childNodes[0]}function b(y){return r(y).container.childNodes[0].childNodes[0].childNodes[1]}function v(y,w){var M=r(y).listeners;if(!M.push)throw new Error("Cannot add listener to an element that is not detectable.");r(y).listeners.push(w)}function _(y,w,M){M||(M=w,w=y,y=null),y=y||{};function k(){if(y.debug){var C=Array.prototype.slice.call(arguments);if(C.unshift(i.get(w),"Scroll: "),t.log.apply)t.log.apply(null,C);else for(var V=0;V<C.length;V++)t.log(C[V])}}function A(C){function V(X){var q=X.getRootNode&&X.getRootNode().contains(X);return X===X.ownerDocument.body||X.ownerDocument.body.contains(X)||q}return!V(C)||window.getComputedStyle(C)===null}function N(C){var V=r(C).container.childNodes[0],X=window.getComputedStyle(V);return!X.width||X.width.indexOf("px")===-1}function D(){var C=window.getComputedStyle(w),V={};return V.position=C.position,V.width=w.offsetWidth,V.height=w.offsetHeight,V.top=C.top,V.right=C.right,V.bottom=C.bottom,V.left=C.left,V.widthCSS=C.width,V.heightCSS=C.height,V}function S(){var C=D();r(w).startSize={width:C.width,height:C.height},k("Element start size",r(w).startSize)}function T(){r(w).listeners=[]}function F(){if(k("storeStyle invoked."),!r(w)){k("Aborting because element has been uninstalled");return}var C=D();r(w).style=C}function L(C,V,X){r(C).lastWidth=V,r(C).lastHeight=X}function E(C){return g(C).childNodes[0]}function U(){return 2*a.width+1}function j(){return 2*a.height+1}function ne(C){return C+10+U()}function te(C){return C+10+j()}function Y(C){return C*2+U()}function H(C){return C*2+j()}function ee(C,V,X){var q=g(C),fe=b(C),se=ne(V),de=te(X),me=Y(V),W=H(X);q.scrollLeft=se,q.scrollTop=de,fe.scrollLeft=me,fe.scrollTop=W}function J(){var C=r(w).container;if(!C){C=document.createElement("div"),C.className=c,C.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(w).container=C,h(C),w.appendChild(C);var V=function(){r(w).onRendered&&r(w).onRendered()};p(C,"animationstart",V),r(w).onAnimationStart=V}return C}function P(){function C(){var $e=r(w).style;if($e.position==="static"){w.style.setProperty("position","relative",y.important?"important":"");var Ke=function(xt,Ge,Bt,Rt){function O(Me){return Me.replace(/[^-\d\.]/g,"")}var oe=Bt[Rt];oe!=="auto"&&O(oe)!=="0"&&(xt.warn("An element that is positioned static has style."+Rt+"="+oe+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Rt+" will be set to 0. Element: ",Ge),Ge.style[Rt]=0)};Ke(t,w,$e,"top"),Ke(t,w,$e,"right"),Ke(t,w,$e,"bottom"),Ke(t,w,$e,"left")}}function V($e,Ke,xt,Ge){return $e=$e?$e+"px":"0",Ke=Ke?Ke+"px":"0",xt=xt?xt+"px":"0",Ge=Ge?Ge+"px":"0",["left: "+$e,"top: "+Ke,"right: "+Ge,"bottom: "+xt]}if(k("Injecting elements"),!r(w)){k("Aborting because element has been uninstalled");return}C();var X=r(w).container;X||(X=J());var q=a.width,fe=a.height,se=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),de=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(V(-(1+q),-(1+fe),-fe,-q))),me=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),W=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),le=l(["position: absolute","left: 0","top: 0"]),_e=l(["position: absolute","width: 200%","height: 200%"]),De=document.createElement("div"),Le=document.createElement("div"),lt=document.createElement("div"),Pe=document.createElement("div"),st=document.createElement("div"),Ue=document.createElement("div");De.dir="ltr",De.style.cssText=se,De.className=c,Le.className=c,Le.style.cssText=de,lt.style.cssText=me,Pe.style.cssText=le,st.style.cssText=W,Ue.style.cssText=_e,lt.appendChild(Pe),st.appendChild(Ue),Le.appendChild(lt),Le.appendChild(st),De.appendChild(Le),X.appendChild(De);function z(){var $e=r(w);$e&&$e.onExpand?$e.onExpand():k("Aborting expand scroll handler: element has been uninstalled")}function ae(){var $e=r(w);$e&&$e.onShrink?$e.onShrink():k("Aborting shrink scroll handler: element has been uninstalled")}p(lt,"scroll",z),p(st,"scroll",ae),r(w).onExpandScroll=z,r(w).onShrinkScroll=ae}function re(){function C(me,W,le){var _e=E(me),De=ne(W),Le=te(le);_e.style.setProperty("width",De+"px",y.important?"important":""),_e.style.setProperty("height",Le+"px",y.important?"important":"")}function V(me){var W=w.offsetWidth,le=w.offsetHeight,_e=W!==r(w).lastWidth||le!==r(w).lastHeight;k("Storing current size",W,le),L(w,W,le),n.add(0,function(){if(_e){if(!r(w)){k("Aborting because element has been uninstalled");return}if(!X()){k("Aborting because element container has not been initialized");return}if(y.debug){var Le=w.offsetWidth,lt=w.offsetHeight;(Le!==W||lt!==le)&&t.warn(i.get(w),"Scroll: Size changed before updating detector elements.")}C(w,W,le)}}),n.add(1,function(){if(!r(w)){k("Aborting because element has been uninstalled");return}if(!X()){k("Aborting because element container has not been initialized");return}ee(w,W,le)}),_e&&me&&n.add(2,function(){if(!r(w)){k("Aborting because element has been uninstalled");return}if(!X()){k("Aborting because element container has not been initialized");return}me()})}function X(){return!!r(w).container}function q(){function me(){return r(w).lastNotifiedWidth===void 0}k("notifyListenersIfNeeded invoked");var W=r(w);if(me()&&W.lastWidth===W.startSize.width&&W.lastHeight===W.startSize.height)return k("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(W.lastWidth===W.lastNotifiedWidth&&W.lastHeight===W.lastNotifiedHeight)return k("Not notifying: Size already notified");k("Current size not notified, notifying..."),W.lastNotifiedWidth=W.lastWidth,W.lastNotifiedHeight=W.lastHeight,Lk(r(w).listeners,function(le){le(w)})}function fe(){if(k("startanimation triggered."),N(w)){k("Ignoring since element is still unrendered...");return}k("Element rendered.");var me=g(w),W=b(w);(me.scrollLeft===0||me.scrollTop===0||W.scrollLeft===0||W.scrollTop===0)&&(k("Scrollbars out of sync. Updating detector elements..."),V(q))}function se(){if(k("Scroll detected."),N(w)){k("Scroll event fired while unrendered. Ignoring...");return}V(q)}if(k("registerListenersAndPositionElements invoked."),!r(w)){k("Aborting because element has been uninstalled");return}r(w).onRendered=fe,r(w).onExpand=se,r(w).onShrink=se;var de=r(w).style;C(w,de.width,de.height)}function ue(){if(k("finalizeDomMutation invoked."),!r(w)){k("Aborting because element has been uninstalled");return}var C=r(w).style;L(w,C.width,C.height),ee(w,C.width,C.height)}function G(){M(w)}function ce(){k("Installing..."),T(),S(),n.add(0,F),n.add(1,P),n.add(2,re),n.add(3,ue),n.add(4,G)}k("Making detectable..."),A(w)?(k("Element is detached"),J(),k("Waiting until element is attached..."),r(w).onRendered=function(){k("Element is now attached"),ce()}):ce()}function x(y){var w=r(y);w&&(w.onExpandScroll&&m(g(y),"scroll",w.onExpandScroll),w.onShrinkScroll&&m(b(y),"scroll",w.onShrinkScroll),w.onAnimationStart&&m(w.container,"animationstart",w.onAnimationStart),w.container&&y.removeChild(w.container))}return{makeDetectable:_,addListener:v,uninstall:x,initDocument:f}},Yi=i2.forEach,Fk=vk,Pk=wk,$k=xk,Bk=Sk,Rk=Mk,dp=s2,jk=Tk,Gn=Dk,qk=Ik,zk=Ok;function hp(e){return Array.isArray(e)||e.length!==void 0}function pp(e){if(Array.isArray(e))return e;var t=[];return Yi(e,function(n){t.push(n)}),t}function gp(e){return e&&e.nodeType===1}var Uk=function(e){e=e||{};var t;if(e.idHandler)t={get:function(_){return e.idHandler.get(_,!0)},set:e.idHandler.set};else{var n=$k(),r=Bk({idGenerator:n,stateHandler:Gn});t=r}var i=e.reporter;if(!i){var a=i===!1;i=Rk(a)}var s=Xn(e,"batchProcessor",jk({reporter:i})),c={};c.callOnAdd=!!Xn(e,"callOnAdd",!0),c.debug=!!Xn(e,"debug",!1);var f=Pk(t),l=Fk({stateHandler:Gn}),u,d=Xn(e,"strategy","object"),h=Xn(e,"important",!1),p={reporter:i,batchProcessor:s,stateHandler:Gn,idHandler:t,important:h};if(d==="scroll"&&(dp.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),d="object"):dp.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),d="object")),d==="scroll")u=zk(p);else if(d==="object")u=qk(p);else throw new Error("Invalid strategy name: "+d);var m={};function g(_,x,y){function w(S){var T=f.get(S);Yi(T,function(L){L(S)})}function M(S,T,F){f.add(T,F),S&&F(T)}if(y||(y=x,x=_,_={}),!x)throw new Error("At least one element required.");if(!y)throw new Error("Listener required.");if(gp(x))x=[x];else if(hp(x))x=pp(x);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var k=0,A=Xn(_,"callOnAdd",c.callOnAdd),N=Xn(_,"onReady",function(){}),D=Xn(_,"debug",c.debug);Yi(x,function(T){Gn.getState(T)||(Gn.initState(T),t.set(T));var F=t.get(T);if(D&&i.log("Attaching listener to element",F,T),!l.isDetectable(T)){if(D&&i.log(F,"Not detectable."),l.isBusy(T)){D&&i.log(F,"System busy making it detectable"),M(A,T,y),m[F]=m[F]||[],m[F].push(function(){k++,k===x.length&&N()});return}return D&&i.log(F,"Making detectable..."),l.markBusy(T,!0),u.makeDetectable({debug:D,important:h},T,function(E){if(D&&i.log(F,"onElementDetectable"),Gn.getState(E)){l.markAsDetectable(E),l.markBusy(E,!1),u.addListener(E,w),M(A,E,y);var U=Gn.getState(E);if(U&&U.startSize){var j=E.offsetWidth,ne=E.offsetHeight;(U.startSize.width!==j||U.startSize.height!==ne)&&w(E)}m[F]&&Yi(m[F],function(te){te()})}else D&&i.log(F,"Element uninstalled before being detectable.");delete m[F],k++,k===x.length&&N()})}D&&i.log(F,"Already detecable, adding listener."),M(A,T,y),k++}),k===x.length&&N()}function b(_){if(!_)return i.error("At least one element is required.");if(gp(_))_=[_];else if(hp(_))_=pp(_);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Yi(_,function(x){f.removeAllListeners(x),u.uninstall(x),Gn.cleanState(x)})}function v(_){u.initDocument&&u.initDocument(_)}return{listenTo:g,removeListener:f.removeListener,removeAllListeners:f.removeAllListeners,uninstall:b,initDocument:v}};function Xn(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}const Vk=pM(Uk);Vk({strategy:"scroll"});function Hk(e,t,n){let r,i;ka(e,ap,c=>n(2,r=c)),ka(e,sp,c=>n(3,i=c));let a=[];function s(c,f){a=c??a,console.log("in query update.... ",c,f),He(sp,i[f]=a,i),f=="defaults_q"&&He(ap,r=a.map(l=>({chirps_early:{start:l.chirps_early_first,end:l.chirps_early_last},chirps_late:{start:l.chirps_late_first,end:l.chirps_late_last}})),r)}return[s]}class Wk extends _t{constructor(t){super(),vt(this,t,Hk,null,wt,{render:0})}get render(){return this.$$.ctx[0]}}function Yk(e){let t,n;return{c(){t=K("div"),n=S2("svg"),this.h()},l(r){t=Z(r,"DIV",{class:!0});var i=Q(t);n=M2(i,"svg",{id:!0,viewBox:!0,width:!0,height:!0});var a=Q(n);a.forEach(B),i.forEach(B),this.h()},h(){$(n,"id","svgcontainer"),$(n,"viewBox","372 130 30 30"),$(n,"width","100%"),$(n,"height","100%"),$(t,"class","w-5/5 h-5/5")},m(r,i){Se(r,t,i),I(t,n),e[4](t)},p:Ce,i:Ce,o:Ce,d(r){r&&B(t),e[4](null)}}}function Gk(e,t,n){let{spec:r}=t,{theplot:i=null}=t,a,s=[],c;function f(u,d){if(!u||u.length==0)return;d=="overlay"||(s=u??s),console.log("map data to plot: ",s);let h={projection:"equirectangular",color:{type:"quantile",n:9,scheme:"blues"},marks:[hM(s,{strokeOpacity:.5,strokeWidth:.01,precision:.01,fill:m=>m.properties.OBJECTID})]};n(1,i=Lu(h)),c=i.children[1];let p=document.getElementById("svgcontainer");p.innerHTML="",p.append(c)}function l(u){hr[u?"unshift":"push"](()=>{a=u,n(0,a)})}return e.$$set=u=>{"spec"in u&&n(2,r=u.spec),"theplot"in u&&n(1,i=u.theplot)},[a,i,r,f,l]}let Xk=class extends _t{constructor(t){super(),vt(this,t,Gk,Yk,wt,{spec:2,theplot:1,render:3})}get spec(){return this.$$.ctx[2]}set spec(t){this.$$set({spec:t}),ie()}get theplot(){return this.$$.ctx[1]}set theplot(t){this.$$set({theplot:t}),ie()}get render(){return this.$$.ctx[3]}};function mp(e){let t,n;return{c(){t=K("p"),n=Re(e[3])},l(r){t=Z(r,"P",{});var i=Q(t);n=je(i,e[3]),i.forEach(B)},m(r,i){Se(r,t,i),I(t,n)},p(r,i){i&8&&tn(n,r[3])},d(r){r&&B(t)}}}function Kk(e){let t,n,r,i,a,s=e[3]&&mp(e);function c(l){e[15](l)}let f={min:+e[0],max:+e[1],step:+e[2],float:!0,first:"label",last:"label",springValues:!0,id:"SingleSlider"};return e[7]!==void 0&&(f.value=e[7]),r=new t2({props:f}),hr.push(()=>wp(r,"value",c)),r.$on("start",e[9]),r.$on("change",e[8]),r.$on("stop",e[10]),{c(){t=K("div"),s&&s.c(),n=pe(),hl(r.$$.fragment),this.h()},l(l){t=Z(l,"DIV",{class:!0,id:!0});var u=Q(t);s&&s.l(u),n=ge(u),pl(r.$$.fragment,u),u.forEach(B),this.h()},h(){$(t,"class","px-[1%] py-[1%] ml-[2.1%]"),$(t,"id","SingleSlider")},m(l,u){Se(l,t,u),s&&s.m(t,null),I(t,n),gl(r,t,null),a=!0},p(l,[u]){l[3]?s?s.p(l,u):(s=mp(l),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const d={};u&1&&(d.min=+l[0]),u&2&&(d.max=+l[1]),u&4&&(d.step=+l[2]),!i&&u&128&&(i=!0,d.value=l[7],xp(()=>i=!1)),r.$set(d)},i(l){a||(Xe(r.$$.fragment,l),a=!0)},o(l){Ze(r.$$.fragment,l),a=!1},d(l){l&&B(t),s&&s.d(),ml(r)}}}function Zk(e,t,n){let r,i=Ce,a=()=>(i(),i=fn(x,T=>n(16,r=T)),x),s,c=Ce,f=()=>(c(),c=fn(v,T=>n(17,s=T)),v),l,u=Ce,d=()=>(u(),u=fn(_,T=>n(18,l=T)),_);e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>c()),e.$$.on_destroy.push(()=>u());let{min:h=0,max:p=1,step:m=.01,id:g,description:b}=t,{change:v=ft({})}=t;f();let{stop:_=ft({})}=t;d();let{drag:x=ft({})}=t;a();let{interactions:y={change:v,stop:_,drag:x}}=t;Sp("dims");let w=h;function M(T){console.log("Slider.render",T),T&&!isNaN(T)&&(n(7,w=+T),console.log("Slider.render.to",w)),w!==void 0&&A()}function k(T,F){console.log("Slider.load",T,F),fr("value")(T)&&(T=T??{value:h},n(7,w=T.value??h),A())}function A(){v.isActive&&He(v,s={value:w},s),x.isActive&&He(x,r={value:w},r)}function N(){x.isActive&&He(x,r={value:w},r)}function D(){_.isActive&&He(_,l={value:w},l),v.isActive&&He(v,s={value:w},s),x.isActive&&He(x,r={value:w},r)}function S(T){w=T,n(7,w)}return e.$$set=T=>{"min"in T&&n(0,h=T.min),"max"in T&&n(1,p=T.max),"step"in T&&n(2,m=T.step),"id"in T&&n(11,g=T.id),"description"in T&&n(3,b=T.description),"change"in T&&f(n(4,v=T.change)),"stop"in T&&d(n(5,_=T.stop)),"drag"in T&&a(n(6,x=T.drag)),"interactions"in T&&n(12,y=T.interactions)},[h,p,m,b,v,_,x,w,A,N,D,g,y,M,k,S]}class Jk extends _t{constructor(t){super(),vt(this,t,Zk,Kk,wt,{min:0,max:1,step:2,id:11,description:3,change:4,stop:5,drag:6,interactions:12,render:13,load:14})}get min(){return this.$$.ctx[0]}set min(t){this.$$set({min:t}),ie()}get max(){return this.$$.ctx[1]}set max(t){this.$$set({max:t}),ie()}get step(){return this.$$.ctx[2]}set step(t){this.$$set({step:t}),ie()}get id(){return this.$$.ctx[11]}set id(t){this.$$set({id:t}),ie()}get description(){return this.$$.ctx[3]}set description(t){this.$$set({description:t}),ie()}get change(){return this.$$.ctx[4]}set change(t){this.$$set({change:t}),ie()}get stop(){return this.$$.ctx[5]}set stop(t){this.$$set({stop:t}),ie()}get drag(){return this.$$.ctx[6]}set drag(t){this.$$set({drag:t}),ie()}get interactions(){return this.$$.ctx[12]}set interactions(t){this.$$set({interactions:t}),ie()}get render(){return this.$$.ctx[13]}get load(){return this.$$.ctx[14]}}const Qk=Object.freeze(Object.defineProperty({__proto__:null,Alert:yk,BarGrouped:JM,Container:PM,CropCal:tk,DropDown:lk,Header:H2,Line:jM,Login:hk,Map:Xk,MatchingTable:ik,MatchingTableBackend:q2,OverlayBackend:z2,QueryBackend:U2,QueryUpdate:Wk,SingleSlider:Jk,Slider:XM,Spinner:W2,Textbox:mk},Symbol.toStringTag,{value:"Module"}));let eA=cf(Qk,b5);function da(e,t){if(!e)throw new Error(t)}function tA(e){let t=e.replaceAll(/\$\w+/g,n=>`o['${n.substring(1)}']`);return new Function("o",`return ${t}`)}const l2=uf(Pp(qe(Array),qe(Object)),Un(e=>l2(e)),tA);let ef={};class nA{constructor(t,n){this.magic=t,this.config=n,this.backends={},this.interactions={},this.views={},this.viewIdToViews,this.deferred=[],this._deferredMode=!1;const r=a=>s=>{let c=this.magic.backend[a](s);return c.type=a,c};["overlay","duckdb","array","identity"].forEach(a=>this[a]=r(a)),this.root=document.createElement("div"),document.body.appendChild(this.root),this.loadBackends(n.backends??[]),this.loadViews(n.views??[]),this._deferredMode=!0,this.deferred.forEach(a=>a())}defer(t,n){if(this._deferredMode)throw new Error(n);this.deferred.push(t.bind(this))}async init(){for(let t of yn(this.backends))t.type=="duckdb"&&await t.init();await this.loadDependencies(this.config.dependencies??[]);for(let t of yn(this.backends))switch(t.type){case"array":t.execute();break;case"query":await t.execute();break;case"matching":await t.execute();break}bn((t,n)=>{var r;(r=this.views[n])==null||r.load(t())},this.magic.dependencies.defaults);for(let t of yn(this.backends))t.save&&this.magic.saveBackends(t)}newName(t="name"){return ef[t]=ef[t]??0,`${t}${ef[t]++}`}loadBackends(t){let n=ld(this.createBackend.bind(this));return Ap(r=>r.type=="duckdb",t).forEach(n),Op(r=>r.type=="duckdb",t).forEach(n),this}createBackend(t){let n=t.name??(t.type?this.newName(t.type):this.newName("backend"));if(this.backends[n])throw new Error(`Backend ${n} already exists`);let r=null;if(t.type)r=this[t.type](t);else if(t.query)r=this.query(t);else if(t.matching)r=this.matching(t);else{if(t.backend)return this.backends[t.backend];if(t.interaction){r=this.identity();let i=this.interactions[t.interaction];Te(i)&&this.defer(()=>this.createBackend(t),`Interaction ${t.interaction} not found`),r&&i&&this.magic.connect(r,i)}else if(t.array)r=this.array({...t,data:t.array});else throw new Error("Can't initialize backend config:",t)}return da(!Te(r),`Backend is null ${r.type}`),da(!Te(r.type),`New Backend must have type attr ${JSON.stringify(t)}`),r.save=t.save,this.backends[n]=r,r}matching({name:t,ignore_cols:n,default_func:r,backend:i,matching:a,defaults:s={}}){i=qe(String,i)?this.backends[i]:i,t=t??this.newName("matching");let c=this.magic.backend.matching({id:t,backend:i,default_func:r,matching:a,ignore_cols:n,defaults:s});return c.type="matching",c}query({name:t,query:n,defaults:r={},db:i="duckdb"}){i=qe(String,i)?this.backends[i]:i,t=t??this.newName("query");let a=this.magic.backend.query({id:t,backend:i,query:n,name:t,defaults:r});return a.type="query",a}loadViews(t){t=t??[];let n=t.map(r=>{let i=this.canonicalizeData(r.data),a=this.makeView(r);return this.views[r.name]=a,this.magic.view(a),a.backends=eo(a.backends??[],i??[]),a.backends.forEach(s=>{this.magic.render(s,a)}),a});Y_(t,n).forEach(([r,i])=>{(r.interactions??[]).forEach(s=>{this.connectInteractions(i,s)})})}connectInteractions(t,{to:n,name:r,type:i,defaults:a}){let s=t.interactions[i];if(Te(s))throw new Error(`Interaction ${i} not found in View ${t.id}`);if(this.interactions[r]=s,Te(a)||this.magic.dependencies.setDefault(t,()=>a),Te(n)||Tt(n)){this.magic.connect(null,s,null);return}(qe(Array,n)?n:[n]).forEach(f=>{f=qe(String,f)?{backend:f}:f;let l=this.backends[f.backend],u=l2(ud(["opts","backend","view"],f));if(Te(l)){let d=f.view;if(/\w+\.\d+/.test(d)){let[h,p]=d.split(".");l=this.views[h].backends[parseInt(p)],da(!Te(l),`Backend not found ${d}`)}else{let h=this.views[d];Te(h)&&this.defer(()=>this.connectInteractions(t,{to:f,name:r,type:i,defaults:a}),`Interaction references nonexistent backend ${f.backend} and view ${d}`),l=this.identity(),this.magic.render(l,h)}}this.magic.connect(l,s,u)})}makeView(t){let n=t.type,r=ud(["data","interactions"],t);r.id=r.id??r.name??this.newName(n);let i=null;t.selector?i=document.querySelector(t.selector):(i=document.createElement("div"),this.root.appendChild(i)),console.log("new View",n,r);let a=new eA[n]({target:i,props:r});return a.el=i,a}canonicalizeData(t){if(qe(String,t)){let n=this.backends[t];return da(!Te(n),`Backend named ${t} not found`),[n]}return t=qe(Array,t)?t:[t],xl(fr(Y2,t[0]),["query","matching","backend","interaction"])||(t=[{array:t}]),t.map(ld(this.createBackend.bind(this)))}async loadDependencies(t){(t??[]).forEach(({source:n,attr:r,target:i})=>{let a=null;if(a=this.interactions[n],Te(a)&&/\w+\.\w+/.test(n)){let[c,f]=n.split(".");a=this.views[c].interactions[f]}if(Te(a))throw new Error(`Interaction not found ${n}`);(qe(Array,i)?i:[i]).forEach(async c=>{c=qe(String,c)?{view:c}:c;let f=c.view,l=this.views[f];if(Te(l))throw new Error("View not found: ",f);let u;if(fr("function")(c.defaults)){let d=await this.backends[c.defaults.backend].execute();u=new Function("e","a",c.defaults.function).bind(d)}else u=c.defaults?()=>c.defaults:null;this.magic.dependencies.add(a.get(r),l,null,u)})})}}class gs{constructor(t){this.compPos=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this._array[i]>0&&n[i]>0);r.push(a)}return r},this.isNegative=function(n){return n===0||n===null},this.compZero=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this.isNegative(this._array[i])&&this.isNegative(n[i]));r.push(a)}return r},this.getPos=function(){for(var n=[],r=0;r<this._array.length;r++)+(this._array[r]>0),n.push(+(this._array[r]>0));return n},this.getZero=function(){for(var n=[],r=0;r<this._array.length;r++)+this.isNegative(this._array[r]),n.push(+(this._array[r]===0));return n},this._array=t}get array(){return this._array}}const u2=function(e,t,n,r){let i=t.map(Number),a=r.map(Number),s=new gs(i),c=new gs(a),f=s.compPos(c.array),l=c.getPos(),u=f.filter(p=>p>0).length,d=l.filter(p=>p>0).length;return(u/d).toFixed(2)},d2=function(e,t,n,r){let i=t.map(Number),a=r.map(Number),s=new gs(i),c=new gs(a),f=s.compZero(c.array),l=c.getZero(),u=f.filter(p=>p>0).length,d=l.filter(p=>p>0).length;return(u/d).toFixed(2)},rA=function(e,t,n,r){return u2(e,t,n,r)},iA=function(e,t,n,r){return d2(e,t,n,r)},oA=function(e,t,n,r){let i=Number(u2(e,t,n,r)),a=Number(d2(e,t,n,r));return((i+a)/2).toFixed(2)};let aA=[{"true positive":rA,"true negative":iA,"average matching":oA}];const sA=`backends:
- type: duckdb
  name: duckdb
  sources:
  - parquet: "admin_raw.parquet"
    name: "admin_raw"
  - parquet: "chirps_raw.parquet"
    name: "chirps_raw"
  - parquet: "crop_cal_raw.parquet"
    name: crop_cal_raw
  - parquet: "badyear_raw.parquet"
    name: badyear_raw
- type: query
  name: climatology
  # query doesn't have source/sources -- assumes all data is loaded already
  db: duckdb
  query: "" # if query name is in model out, will pull query from there, replacing this text 
  defaults:
    region: 21974
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: crop_cal
  db: duckdb
  query: ""
  defaults:
    region: 21974
    dekcap: 50
    crop: "Groundnuts"
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true
- type: query
  name: severity_combined 
  db: duckdb
  query: ""
  defaults:
    region: 21974
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: badyear 
  db: duckdb
  query: "" 
  defaults:
    region: 21974
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: matching 
  db: duckdb
  query: "" 
  defaults:
    region: 21974
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true 
- type: query
  name: crop_cal_dropdown_query
  db: duckdb
  query: ""
  defaults:
    region: 21974
- type: matching
  name: mtb 
  ignore_cols:
    - year
    - gid
    - value
  default_func: "true positive" 
  backend: matching
  #TODO: how to integrate functions into yaml 
  matching: ""
  defaults:
    region: 21974
    dekcap: 50
    freq: 0.23
    year_start: 1990
    year_end: 2024
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    exit_multiplier: 0.8
  save: true
- type: query
  name: default_q 
  db: duckdb
  query: "SELECT gid, chirps_early_first, chirps_early_last, chirps_late_first, chirps_late_last FROM admin_raw ORDER BY gid"
- type: overlay
  name: overlay
views:
- type: Login
  name: Login
  selector: "#login"
  dataTable: Nigeria_Data
  stateTable: Nigeria_State
- type: Line
  name: climatology_chart
  selector: "#chart-1"
  xAttr: dekad 
  yAttr: average_value
  data:
  - backend: climatology
  - backend: overlay
    target: overlay
- type: CropCal 
  name: crop_calendar 
  selector: "#chart-2"
  xDomainMin: 1
  xDomainMax: 36
  data:
  - backend: crop_cal
  - backend: overlay
    target: overlay
- type: BarGrouped
  name: severity_combined
  selector: "#chart-3"
  xAttr: year
  yAttr: value
  yMax: 1
  xDomainMin: 1990
  xDomainMax: 2024
  groupNames:
    - sum_early
    - sum_late
    - combined_severity
  data:
  - backend: severity_combined
  - backend: badyear
  - backend: overlay
    target: overlay
- type: MatchingTable
  name: matching_table
  selector: "#chart-4"
  data:
  - backend: mtb
- type: DropDown
  name: Region_Dropdown
  selector: "#dropdown-1"
  interactions:
    - type: change
      name: ddc
      defaults:
        region: 21974
      to:
        - backend: climatology
          region: $gid
        - backend: mtb
          region: $gid
        - backend: crop_cal
          region: $gid
        - backend: severity_combined 
          region: $gid
        - backend: badyear
          region: $gid
        - backend: crop_cal_dropdown_query
          region: $gid
  index: 0
  dropdown_key: district
  data: 
  - query: "SELECT gid, district FROM admin_raw ORDER BY gid"
- type: DropDown
  name: Crop_Calendar_Dropdown
  selector: "#dropdown-3"
  interactions:
    - type: change
      name: ddc-crop-cal
      to:
        - backend: crop_cal
          crop: $crop
  index: 0
  dropdown_key: crop
  data:
  - backend: crop_cal_dropdown_query
- type: DropDown
  name: Matching_Dropdown
  selector: "#dropdown-2"
  interactions:
    - type: change
      name: ddc-matching
      to:
        - backend: mtb
          func_elected: $value
  index: 0
  dropdown_key: value
  data:
  - query: "SELECT * FROM (VALUES (0,'true positive'),(1,'true negative'),(2,'average matching')) MATCHING_OPTIONS(idx, value);"
- type: Slider
  name: PlantEarly
  selector: "#slider-1"
  min: 1
  max: 36
  description: "CHIRPS sum early"
  interactions:
  - type: change
    to: 
    - backend: severity_combined 
      sum_early_first: $left
      sum_early_last: $right
    - backend: mtb 
      sum_early_first: $left
      sum_early_last: $right
    - backend: overlay
      sum_early:
        left: $left
        right: $right
- type: Slider
  name: PlantLate
  selector: "#slider-2"
  min: 1
  max: 36
  description: "CHIRPS sum late"
  interactions:
  - type: change
    to: 
    - backend: severity_combined
      sum_late_first: $left
      sum_late_last: $right
    - backend: mtb 
      sum_late_first: $left
      sum_late_last: $right
    - backend: overlay
      sum_late:
        left: $left
        right: $right
#- type: SingleSlider
#name: frequency
#selector: "#SingleSlider"
#min: 0
#max: 1
#description: "Frequency"

#- type: Alert
#  name: Alert
#  selector: "#alert"
#  threshold_string: "1.0"
#  key: "combined_severity"
#  data:
#    - backend: severity_combined
#  interactions:
#  - type: valid
dependencies:
- source: ddc
  attr: "gid"
  target:
    - view: PlantEarly
      defaults:
        backend: default_q
        function: "
        console.debug('args received into default', e, a);
        if(!a) return;
        let data = this;
        console.debug('fetching gid ', a[0].store.val()['gid']);
        let row = data.filter((r) => r.gid === a[0].store.val()['gid'])[0];
        return {left: row.chirps_early_first,  right: row.chirps_early_last}
        ;"
    - view: PlantLate
      defaults:
        backend: default_q
        function: "
        console.debug('args received into default', e, a);
        if(!a) return;
        let data = this;
        console.debug('fetching gid ', a[0].store.val()['gid']);
        let row = data.filter((r) => r.gid === a[0].store.val()['gid'])[0];
        return {left: row.chirps_late_first,  right: row.chirps_late_last}
        ;"
`,Ri="1.22.0";var wn=[],Yt=[],cA=Uint8Array,tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Jr=0,fA=tf.length;Jr<fA;++Jr)wn[Jr]=tf[Jr],Yt[tf.charCodeAt(Jr)]=Jr;Yt["-".charCodeAt(0)]=62;Yt["_".charCodeAt(0)]=63;function lA(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function uA(e,t,n){return(t+n)*3/4-n}function ms(e){var t,n=lA(e),r=n[0],i=n[1],a=new cA(uA(e,r,i)),s=0,c=i>0?r-4:r,f;for(f=0;f<c;f+=4)t=Yt[e.charCodeAt(f)]<<18|Yt[e.charCodeAt(f+1)]<<12|Yt[e.charCodeAt(f+2)]<<6|Yt[e.charCodeAt(f+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=Yt[e.charCodeAt(f)]<<2|Yt[e.charCodeAt(f+1)]>>4,a[s++]=t&255),i===1&&(t=Yt[e.charCodeAt(f)]<<10|Yt[e.charCodeAt(f+1)]<<4|Yt[e.charCodeAt(f+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function dA(e){return wn[e>>18&63]+wn[e>>12&63]+wn[e>>6&63]+wn[e&63]}function hA(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(dA(r));return i.join("")}function bs(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,c=n-r;s<c;s+=a)i.push(hA(e,s,s+a>c?c:s+a));return r===1?(t=e[n-1],i.push(wn[t>>2]+wn[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(wn[t>>10]+wn[t>>4&63]+wn[t<<2&63]+"=")),i.join("")}function ji(e){if(e===void 0)return{};if(!h2(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function pA(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function h2(e){var i;const t=typeof e=="object",n=Object.getPrototypeOf(e),r=n===null||n===Object.prototype||((i=n==null?void 0:n.constructor)==null?void 0:i.name)==="Object";return t&&r}const p2=!0,wi=BigInt("-9223372036854775808"),$u=BigInt("9223372036854775807"),ll=BigInt("0"),gA=BigInt("8"),mA=BigInt("256");function g2(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function bA(e){e<ll&&(e-=wi+wi);let t=e.toString(16);t.length%2===1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=gA;return bs(n)}function yA(e){const t=ms(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=ll,r=ll;for(const i of t)n+=BigInt(i)*mA**r,r++;return n>$u&&(n+=wi+wi),n}function _A(e){if(e<wi||$u<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),bs(new Uint8Array(t))}function vA(e){const t=ms(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const wA=DataView.prototype.setBigInt64?_A:bA,xA=DataView.prototype.getBigInt64?vA:yA,bp=1024;function ul(e){if(e.length>bp)throw new Error(`Field name ${e} exceeds maximum field name length ${bp}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<32||n>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function xr(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(r=>xr(r));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const r=t[0][0];if(r==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return ms(e.$bytes).buffer}if(r==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return xA(e.$integer)}if(r==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=ms(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const s=new DataView(i.buffer).getFloat64(0,p2);if(!g2(s))throw new Error(`Float ${s} should be encoded as a number`);return s}if(r==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(r==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const n={};for(const[r,i]of Object.entries(e))ul(r),n[r]=xr(i);return n}function ai(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n)}function ys(e,t,n,r){var s;if(e===void 0){const c=n&&` (present at path ${n} in original object ${ai(t)})`;throw new Error(`undefined is not a valid Convex value${c}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<wi||$u<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:wA(e)}}if(typeof e=="number")if(g2(e)){const c=new ArrayBuffer(8);return new DataView(c).setFloat64(0,e,p2),{$float:bs(new Uint8Array(c))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:bs(new Uint8Array(e))};if(Array.isArray(e))return e.map((c,f)=>ys(c,t,n+`[${f}]`,!1));if(e instanceof Set)throw new Error(nf(n,"Set",[...e],t));if(e instanceof Map)throw new Error(nf(n,"Map",[...e],t));if(!h2(e)){const c=(s=e==null?void 0:e.constructor)==null?void 0:s.name,f=c?`${c} `:"";throw new Error(nf(n,f,e,t))}const i={},a=Object.entries(e);a.sort(([c,f],[l,u])=>c===l?0:c<l?-1:1);for(const[c,f]of a)f!==void 0?(ul(c),i[c]=ys(f,t,n+`.${c}`,!1)):r&&(ul(c),i[c]=SA(f,t,n+`.${c}`));return i}function nf(e,t,n,r){return e?`${t}${ai(n)} is not a supported Convex type (present at path ${e} in original object ${ai(r)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${ai(n)} is not a supported Convex type.`}function SA(e,t,n){if(e===void 0)return{$undefined:null};if(t===void 0)throw new Error(`Programming error. Current value is ${ai(e)} but original value is undefined`);return ys(e,t,n,!1)}function ha(e){return ys(e,e,"",!1)}var MA=Object.defineProperty,kA=(e,t,n)=>t in e?MA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rf=(e,t,n)=>kA(e,typeof t!="symbol"?t+"":t,n),yp,_p;const AA=Symbol.for("ConvexError");class pa extends(_p=Error,yp=AA,_p){constructor(t){super(typeof t=="string"?t:ai(t)),rf(this,"name","ConvexError"),rf(this,"data"),rf(this,yp,!0),this.data=t}}var EA=Object.defineProperty,TA=(e,t,n)=>t in e?EA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vp=(e,t,n)=>TA(e,typeof t!="symbol"?t+"":t,n);const CA="color:rgb(0, 145, 255)";function NA(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class DA{constructor(t){vp(this,"_onLogLineFuncs"),vp(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let n=Math.random().toString(36).substring(2,15);for(let r=0;r<10&&this._onLogLineFuncs[n]!==void 0;r++)n=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[n]=t,()=>{delete this._onLogLineFuncs[n]}}logVerbose(...t){if(this._verbose)for(const n of Object.values(this._onLogLineFuncs))n("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const n of Object.values(this._onLogLineFuncs))n("info",...t)}warn(...t){for(const n of Object.values(this._onLogLineFuncs))n("warn",...t)}error(...t){for(const n of Object.values(this._onLogLineFuncs))n("error",...t)}}function IA(e){const t=new DA(e);return t.addLogLineListener((n,...r)=>{switch(n){case"debug":console.debug(...r);break;case"info":console.log(...r);break;case"warn":console.warn(...r);break;case"error":console.error(...r);break;default:console.log(...r)}}),t}function ga(e,t,n,r,i){const a=NA(n);if(typeof i=="object"&&(i=`ConvexError ${JSON.stringify(i.errorData,null,2)}`),t==="info"){const s=i.match(/^\[.*?\] /);if(s===null){e.error(`[CONVEX ${a}(${r})] Could not parse console.log`);return}const c=i.slice(1,s[0].length-2),f=i.slice(s[0].length);e.log(`%c[CONVEX ${a}(${r})] [${c}]`,CA,f)}else e.error(`[CONVEX ${a}(${r})] ${i}`)}const _s=Symbol.for("functionName"),LA=Symbol.for("toReferencePath");function OA(e){return e[LA]??null}function FA(e){return e.startsWith("function://")}function PA(e){let t;if(typeof e=="string")FA(e)?t={functionHandle:e}:t={name:e};else if(e[_s])t={name:e[_s]};else{const n=OA(e);if(!n)throw new Error(`${e} is not a functionReference`);t={reference:n}}return t}function ma(e){const t=PA(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const n=e[_s];if(!n)throw new Error(`${e} is not a functionReference`);return n}function m2(e=[]){const t={get(n,r){if(typeof r=="string"){const i=[...e,r];return m2(i)}else if(r===_s){if(e.length<2){const s=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${s}\``)}const i=e.slice(0,-1).join("/"),a=e[e.length-1];return a==="default"?i:i+":"+a}else return r===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}m2();var $A=Object.defineProperty,BA=(e,t,n)=>t in e?$A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_r=(e,t,n)=>BA(e,typeof t!="symbol"?t+"":t,n);const ba=560;class RA{constructor(t,n){if(_r(this,"address"),_r(this,"auth"),_r(this,"adminAuth"),_r(this,"encodedTsPromise"),_r(this,"debug"),_r(this,"fetchOptions"),_r(this,"logger"),typeof n=="boolean")throw new Error("skipConvexDeploymentUrlCheck as the second argument is no longer supported. Please pass an options object, `{ skipConvexDeploymentUrlCheck: true }`.");const r=n??{};r.skipConvexDeploymentUrlCheck!==!0&&pA(t),this.logger=r.logger??IA({verbose:!1}),this.address=t,this.debug=!0}backendUrl(){return`${this.address}/api`}get url(){return this.address}setAuth(t){this.clearAuth(),this.auth=t}setAdminAuth(t,n){if(this.clearAuth(),n!==void 0){const r=new TextEncoder().encode(JSON.stringify(n)),i=btoa(String.fromCodePoint(...r));this.adminAuth=`${t}:${i}`}else this.adminAuth=t}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(t){this.debug=t}setFetchOptions(t){this.fetchOptions=t}async consistentQuery(t,...n){const r=ji(n[0]),i=this.getTimestamp();return await this.queryInner(t,r,{timestampPromise:i})}async getTimestamp(){return this.encodedTsPromise?this.encodedTsPromise:this.encodedTsPromise=this.getTimestampInner()}async getTimestampInner(){const t=fetch,n={"Content-Type":"application/json","Convex-Client":`npm-${Ri}`},r=await t(`${this.address}/api/query_ts`,{...this.fetchOptions,method:"POST",headers:n});if(!r.ok)throw new Error(await r.text());const{ts:i}=await r.json();return i}async query(t,...n){const r=ji(n[0]);return await this.queryInner(t,r,{})}async queryInner(t,n,r){const i=ma(t),a=[ha(n)],s={"Content-Type":"application/json","Convex-Client":`npm-${Ri}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const c=fetch,f=r.timestampPromise?await r.timestampPromise:void 0,l=JSON.stringify({path:i,format:"convex_encoded_json",args:a,...f?{ts:f}:{}}),u=f?`${this.address}/api/query_at_ts`:`${this.address}/api/query`,d=await c(u,{...this.fetchOptions,body:l,method:"POST",headers:s});if(!d.ok&&d.status!==ba)throw new Error(await d.text());const h=await d.json();if(this.debug)for(const p of h.logLines??[])ga(this.logger,"info","query",i,p);switch(h.status){case"success":return xr(h.value);case"error":throw h.errorData!==void 0?ya(h.errorData,new pa(h.errorMessage)):new Error(h.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(h)}`)}}async mutation(t,...n){const r=ji(n[0]),i=ma(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[ha(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${Ri}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const f=await fetch(`${this.address}/api/mutation`,{...this.fetchOptions,body:a,method:"POST",headers:s});if(!f.ok&&f.status!==ba)throw new Error(await f.text());const l=await f.json();if(this.debug)for(const u of l.logLines??[])ga(this.logger,"info","mutation",i,u);switch(l.status){case"success":return xr(l.value);case"error":throw l.errorData!==void 0?ya(l.errorData,new pa(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}async action(t,...n){const r=ji(n[0]),i=ma(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[ha(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${Ri}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const f=await fetch(`${this.address}/api/action`,{...this.fetchOptions,body:a,method:"POST",headers:s});if(!f.ok&&f.status!==ba)throw new Error(await f.text());const l=await f.json();if(this.debug)for(const u of l.logLines??[])ga(this.logger,"info","action",i,u);switch(l.status){case"success":return xr(l.value);case"error":throw l.errorData!==void 0?ya(l.errorData,new pa(l.errorMessage)):new Error(l.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(l)}`)}}async function(t,n,...r){const i=ji(r[0]),a=typeof t=="string"?t:ma(t),s=JSON.stringify({componentPath:n,path:a,format:"convex_encoded_json",args:ha(i)}),c={"Content-Type":"application/json","Convex-Client":`npm-${Ri}`};this.adminAuth?c.Authorization=`Convex ${this.adminAuth}`:this.auth&&(c.Authorization=`Bearer ${this.auth}`);const l=await fetch(`${this.address}/api/function`,{...this.fetchOptions,body:s,method:"POST",headers:c});if(!l.ok&&l.status!==ba)throw new Error(await l.text());const u=await l.json();if(this.debug)for(const d of u.logLines??[])ga(this.logger,"info","any",a,d);switch(u.status){case"success":return xr(u.value);case"error":throw u.errorData!==void 0?ya(u.errorData,new pa(u.errorMessage)):new Error(u.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(u)}`)}}}function ya(e,t){return t.data=xr(e),t}function jA(e){let t,n,r,i,a,s,c,f,l,u,d,h,p,m,g,b,v,_,x,y,w,M,k,A,N,D,S,T,F,L,E,U,j,ne,te,Y,H,ee,J,P,re,ue,G,ce,C,V,X,q,fe,se,de,me,W,le,_e,De,Le,lt,Pe,st,Ue,z,ae,$e,Ke,xt,Ge,Bt,Rt,O,oe,Me,Ee,et,Nn,Yn,pn,Vr,Ci,ac,Ni;return{c(){t=K("div"),n=pe(),r=K("div"),i=K("div"),a=K("div"),s=pe(),c=K("div"),f=pe(),l=K("div"),u=K("div"),d=K("span"),h=Re("Rainfall climatology"),p=pe(),m=K("div"),g=K("i"),b=pe(),v=K("span"),_=Re("Shows the average observed historical rainfall during each decad based on satellite data"),x=pe(),y=K("div"),w=pe(),M=K("div"),k=pe(),A=K("div"),N=K("span"),D=Re("Farming Cycle"),S=pe(),T=K("div"),F=K("i"),L=pe(),E=K("span"),U=Re(`Displays the typical farming schedule (prep, planting, flowering,
          tasseling, harvesting) in the village for each crop, based on surveys of farmers.`),j=pe(),ne=K("div"),te=pe(),Y=K("div"),H=K("span"),ee=Re("Variables"),J=pe(),P=K("div"),re=K("i"),ue=pe(),G=K("span"),ce=Re("These are the specific pieces of information that go into making up the Insurance Index."),C=pe(),V=K("div"),X=pe(),q=K("div"),fe=pe(),se=K("div"),de=K("div"),me=Re("Policy Performance"),W=pe(),le=K("div"),_e=K("div"),De=K("span"),Le=Re("Performance chart"),lt=pe(),Pe=K("div"),st=K("i"),Ue=pe(),z=K("span"),ae=Re(`If there's a red bar, it means the insurance would have provided money to the
          farmers that year because the conditions matched the criteria for a payout.`),$e=pe(),Ke=K("div"),xt=pe(),Ge=K("div"),Bt=K("span"),Rt=Re("Matching Table"),O=pe(),oe=K("div"),Me=K("i"),Ee=pe(),et=K("span"),Nn=Re(`We mainly care about is_bad_year and combined_payout. It tells us how many
          of the historical bad years would have gotten a payout based on your policy`),Yn=pe(),pn=K("div"),Vr=pe(),Ci=K("div"),ac=pe(),Ni=K("div"),this.h()},l(on){t=Z(on,"DIV",{id:!0}),Q(t).forEach(B),n=ge(on),r=Z(on,"DIV",{class:!0});var gn=Q(r);i=Z(gn,"DIV",{class:!0});var $o=Q(i);a=Z($o,"DIV",{id:!0}),Q(a).forEach(B),s=ge($o),c=Z($o,"DIV",{id:!0}),Q(c).forEach(B),$o.forEach(B),f=ge(gn),l=Z(gn,"DIV",{class:!0});var ut=Q(l);u=Z(ut,"DIV",{});var Bo=Q(u);d=Z(Bo,"SPAN",{class:!0});var Bu=Q(d);h=je(Bu,"Rainfall climatology"),Bu.forEach(B),p=ge(Bo),m=Z(Bo,"DIV",{class:!0});var Ro=Q(m);g=Z(Ro,"I",{class:!0}),Q(g).forEach(B),b=ge(Ro),v=Z(Ro,"SPAN",{class:!0});var Ru=Q(v);_=je(Ru,"Shows the average observed historical rainfall during each decad based on satellite data"),Ru.forEach(B),Ro.forEach(B),Bo.forEach(B),x=ge(ut),y=Z(ut,"DIV",{id:!0}),Q(y).forEach(B),w=ge(ut),M=Z(ut,"DIV",{id:!0}),Q(M).forEach(B),k=ge(ut),A=Z(ut,"DIV",{});var jo=Q(A);N=Z(jo,"SPAN",{class:!0});var ju=Q(N);D=je(ju,"Farming Cycle"),ju.forEach(B),S=ge(jo),T=Z(jo,"DIV",{class:!0});var qo=Q(T);F=Z(qo,"I",{class:!0}),Q(F).forEach(B),L=ge(qo),E=Z(qo,"SPAN",{class:!0});var qu=Q(E);U=je(qu,`Displays the typical farming schedule (prep, planting, flowering,
          tasseling, harvesting) in the village for each crop, based on surveys of farmers.`),qu.forEach(B),qo.forEach(B),jo.forEach(B),j=ge(ut),ne=Z(ut,"DIV",{id:!0}),Q(ne).forEach(B),te=ge(ut),Y=Z(ut,"DIV",{});var zo=Q(Y);H=Z(zo,"SPAN",{class:!0});var zu=Q(H);ee=je(zu,"Variables"),zu.forEach(B),J=ge(zo),P=Z(zo,"DIV",{class:!0});var Uo=Q(P);re=Z(Uo,"I",{class:!0}),Q(re).forEach(B),ue=ge(Uo),G=Z(Uo,"SPAN",{class:!0});var Uu=Q(G);ce=je(Uu,"These are the specific pieces of information that go into making up the Insurance Index."),Uu.forEach(B),Uo.forEach(B),zo.forEach(B),C=ge(ut),V=Z(ut,"DIV",{id:!0}),Q(V).forEach(B),X=ge(ut),q=Z(ut,"DIV",{id:!0}),Q(q).forEach(B),ut.forEach(B),fe=ge(gn),se=Z(gn,"DIV",{class:!0});var Vo=Q(se);de=Z(Vo,"DIV",{class:!0});var Vu=Q(de);me=je(Vu,"Policy Performance"),Vu.forEach(B),W=ge(Vo),le=Z(Vo,"DIV",{class:!0});var Vt=Q(le);_e=Z(Vt,"DIV",{});var Ho=Q(_e);De=Z(Ho,"SPAN",{class:!0});var Hu=Q(De);Le=je(Hu,"Performance chart"),Hu.forEach(B),lt=ge(Ho),Pe=Z(Ho,"DIV",{class:!0});var Wo=Q(Pe);st=Z(Wo,"I",{class:!0,style:!0}),Q(st).forEach(B),Ue=ge(Wo),z=Z(Wo,"SPAN",{class:!0});var Wu=Q(z);ae=je(Wu,`If there's a red bar, it means the insurance would have provided money to the
          farmers that year because the conditions matched the criteria for a payout.`),Wu.forEach(B),Wo.forEach(B),Ho.forEach(B),$e=ge(Vt),Ke=Z(Vt,"DIV",{id:!0}),Q(Ke).forEach(B),xt=ge(Vt),Ge=Z(Vt,"DIV",{});var Yo=Q(Ge);Bt=Z(Yo,"SPAN",{class:!0});var Yu=Q(Bt);Rt=je(Yu,"Matching Table"),Yu.forEach(B),O=ge(Yo),oe=Z(Yo,"DIV",{class:!0});var Go=Q(oe);Me=Z(Go,"I",{class:!0,style:!0}),Q(Me).forEach(B),Ee=ge(Go),et=Z(Go,"SPAN",{class:!0});var Gu=Q(et);Nn=je(Gu,`We mainly care about is_bad_year and combined_payout. It tells us how many
          of the historical bad years would have gotten a payout based on your policy`),Gu.forEach(B),Go.forEach(B),Yo.forEach(B),Yn=ge(Vt),pn=Z(Vt,"DIV",{id:!0}),Q(pn).forEach(B),Vr=ge(Vt),Ci=Z(Vt,"DIV",{id:!0}),Q(Ci).forEach(B),ac=ge(Vt),Ni=Z(Vt,"DIV",{id:!0}),Q(Ni).forEach(B),Vt.forEach(B),Vo.forEach(B),gn.forEach(B),this.h()},h(){$(t,"id","alert"),$(a,"id","login"),$(c,"id","dropdown-1"),$(i,"class","col-span-2"),$(d,"class","text-2xl font-bold leading-tight text-gray-900"),$(g,"class","bi bi-info-circle"),$(v,"class","tooltiptext"),$(m,"class","tooltip"),$(y,"id","chart-1"),$(M,"id","dropdown-3"),$(N,"class","text-2xl font-bold leading-tight text-gray-900"),$(F,"class","bi bi-info-circle"),$(E,"class","tooltiptext"),$(T,"class","tooltip"),$(ne,"id","chart-2"),$(H,"class","text-2xl font-bold leading-tight text-gray-900"),$(re,"class","bi bi-info-circle"),$(G,"class","tooltiptext"),$(P,"class","tooltip"),$(V,"id","slider-1"),$(q,"id","slider-2"),$(l,"class","overflow-auto max-h-[80vh]"),$(de,"class","text-2xl font-bold leading-tight text-gray-900"),$(De,"class","font-bold leading-tight text-gray-900"),$(st,"class","bi bi-info-circle-fill"),Ju(st,"color","#ff6663"),$(z,"class","tooltiptext"),$(Pe,"class","tooltip"),$(Ke,"id","chart-3"),$(Bt,"class","font-bold leading-tight text-gray-900"),$(Me,"class","bi bi-info-circle-fill"),Ju(Me,"color","#ff6663"),$(et,"class","tooltiptext"),$(oe,"class","tooltip"),$(pn,"id","dropdown-2"),$(Ci,"id","chart-4"),$(Ni,"id","SingleSlider"),$(le,"class","mx-[2%]"),$(se,"class","overflow-auto"),$(r,"class","grid grid-cols-2 h-[100vh]")},m(on,gn){Se(on,t,gn),Se(on,n,gn),Se(on,r,gn),I(r,i),I(i,a),I(i,s),I(i,c),I(r,f),I(r,l),I(l,u),I(u,d),I(d,h),I(u,p),I(u,m),I(m,g),I(m,b),I(m,v),I(v,_),I(l,x),I(l,y),I(l,w),I(l,M),I(l,k),I(l,A),I(A,N),I(N,D),I(A,S),I(A,T),I(T,F),I(T,L),I(T,E),I(E,U),I(l,j),I(l,ne),I(l,te),I(l,Y),I(Y,H),I(H,ee),I(Y,J),I(Y,P),I(P,re),I(P,ue),I(P,G),I(G,ce),I(l,C),I(l,V),I(l,X),I(l,q),I(r,fe),I(r,se),I(se,de),I(de,me),I(se,W),I(se,le),I(le,_e),I(_e,De),I(De,Le),I(_e,lt),I(_e,Pe),I(Pe,st),I(Pe,Ue),I(Pe,z),I(z,ae),I(le,$e),I(le,Ke),I(le,xt),I(le,Ge),I(Ge,Bt),I(Bt,Rt),I(Ge,O),I(Ge,oe),I(oe,Me),I(oe,Ee),I(oe,et),I(et,Nn),I(le,Yn),I(le,pn),I(le,Vr),I(le,Ci),I(le,ac),I(le,Ni)},p:Ce,i:Ce,o:Ce,d(on){on&&B(t),on&&B(n),on&&B(r)}}}function qA(e,t,n){let r;ka(e,ad,l=>n(1,r=l));let i=RA;const a=new i("https://rightful-anteater-150.convex.cloud");a.mutation("saveParams"),a.query("getParams");let s=a8(sA,"utf8");console.log(s),He(ad,r=new V2,r);let c=new yM(r),f;return k2(async()=>{(s.backends??[]).forEach(l=>{l.type==="matching"?l.matching=aA:fr(l.name)(sd)&&(l.query=sd[l.name].query)}),(s.views??[]).forEach(l=>{l.type==="Login"&&(l.magic=c,l.exportFunc="saveToConvex",l.importFunc="getFromConvex",l.client=a)}),f=new nA(c,s),await f.init()}),[]}class KA extends _t{constructor(t){super(),vt(this,t,qA,jA,wt,{})}}export{KA as default};
