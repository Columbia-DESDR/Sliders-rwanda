import{o as Q,S as oe,i as ue,s as ce,e as f,c as _,b as w,f as r,m as p,h as c,j as I,n as W,O as pe,t as T,a as j,C as be,d as B,g as L,D as fe,P as H,E as _e,Q as M,k as me,u as ve,q as ye,F as ge,R as he,l as F,T as ae,A as we}from"./index.93104ad7.js";import{v as ke,b as Y,i as xe,k as Ee,f as Ie,B as je,a as le,m as Le}from"./index.7854d9f5.js";import{a as De}from"./database.be2383f9.js";import{m as G}from"./model_out.7143bfd2.js";import{w as qe}from"./paths.891d930c.js";function Se(s){return s&&s.execute}function ie(s){return s&&s.addSourceIact}class ne{constructor(t){var n,g;let a=Q(ke),l=Q(Y);this.id=t.id,this.m=t.m,this.type=(n=this.m)==null?void 0:n.type,this.space=(g=this.m)==null?void 0:g.space,this.postprocess=t.postprocess??xe,this.source=ie(t.source)?t.source:a[t.source],this.target=Se(t.target)?t.target:l[t.target],ie(this.source)?this.source.addSourceIact(this):console.warn("Interaction source doesn't define addSourceIact",this.source)}trigger(t,...a){let l=this.postprocess(t);console.log("let's see iact binding: ",t),this.target.execute(l,...a)}preview(t){throw new Error("Not Implemented")}}class Ve{constructor(){this.iacts=[]}register(t){t instanceof ne?this.iacts.push(t):this.iacts.push(new ne(t))}registerInteractions(t){t.forEach(a=>this.register(a))}}function Oe(s){let t,a;return{c(){t=f("table"),a=f("tbody"),this.h()},l(l){t=_(l,"TABLE",{class:!0});var n=w(t);a=_(n,"TBODY",{id:!0}),w(a).forEach(r),n.forEach(r),this.h()},h(){p(a,"id","body"),p(t,"class","table-auto")},m(l,n){c(l,t,n),I(t,a)},p:W,i:W,o:W,d(l){l&&r(t)}}}function Pe(s,t,a){let l=[];function n(g,m){l=g??l;let k=Ee(l[0]),o="";o+="<tr>",k.forEach(v=>{o+=`<th>${v}</th>`}),o+="</tr>",l.forEach(v=>{o+="<tr>",Ie((y,d)=>{o+=`<td>${y}</td>`},v),o+="</tr>"}),document.getElementById("body").innerHTML=o}return[n]}class Te extends oe{constructor(t){super(),ue(this,t,Pe,Oe,ce,{render:0})}get render(){return this.$$.ctx[0]}}const Be=qe({region:1128,dekcap:50,freq:.23,year_start:1990,year_end:2024,back_fill_year:2001,sum_early_weight:.4,sum_late_weight:.6,sum_early_first:1,sum_early_last:30,sum_late_first:1,sum_late_last:30,exit_multiplier:.8,check_sensitivity:.1});function Ne(s){let t,a,l,n,g=Object.keys(G)+"",m,k,o,v,y,d,D=JSON.stringify(s[0],null,2)+"",q,O,x,N,P,u,b,J,S,R,z,V,h,A,E,$,U,K;pe(s[7]);let de={};return E=new Te({props:de}),s[10](E),{c(){t=f("div"),a=T("Models available"),l=j(),n=f("div"),m=T(g),k=j(),o=f("div"),v=T("Parameters currently"),y=j(),d=f("div"),q=T(D),O=j(),x=f("div"),N=T("Enter selected model"),P=j(),u=f("div"),b=f("input"),J=j(),S=f("div"),R=T("Enter param updates"),z=j(),V=f("div"),h=f("input"),A=j(),be(E.$$.fragment),this.h()},l(e){t=_(e,"DIV",{class:!0});var i=w(t);a=B(i,"Models available"),i.forEach(r),l=L(e),n=_(e,"DIV",{class:!0});var C=w(n);m=B(C,g),C.forEach(r),k=L(e),o=_(e,"DIV",{class:!0});var X=w(o);v=B(X,"Parameters currently"),X.forEach(r),y=L(e),d=_(e,"DIV",{class:!0});var Z=w(d);q=B(Z,D),Z.forEach(r),O=L(e),x=_(e,"DIV",{class:!0});var ee=w(x);N=B(ee,"Enter selected model"),ee.forEach(r),P=L(e),u=_(e,"DIV",{class:!0});var te=w(u);b=_(te,"INPUT",{type:!0,class:!0}),te.forEach(r),J=L(e),S=_(e,"DIV",{class:!0});var se=w(S);R=B(se,"Enter param updates"),se.forEach(r),z=L(e),V=_(e,"DIV",{class:!0});var re=w(V);h=_(re,"INPUT",{type:!0,class:!0}),re.forEach(r),A=L(e),fe(E.$$.fragment,e),this.h()},h(){p(t,"class","text-2xl text-center svelte-18gbjk8"),p(n,"class","px-5 py-2 bg-white border-solid border-2 border-black svelte-18gbjk8"),p(o,"class","text-2xl text-center svelte-18gbjk8"),p(d,"class","px-5 py-2 bg-white border-solid border-2 border-black svelte-18gbjk8"),p(x,"class","text-2xl py-2 text-center svelte-18gbjk8"),p(b,"type","text"),p(b,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),p(u,"class","px-[1%] py-[1%] ml-[5.9%] svelte-18gbjk8"),p(S,"class","text-2xl py-2 text-center svelte-18gbjk8"),p(h,"type","text"),p(h,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),p(V,"class","px-[1%] py-[1%] ml-[5.9%] svelte-18gbjk8")},m(e,i){c(e,t,i),I(t,a),c(e,l,i),c(e,n,i),I(n,m),c(e,k,i),c(e,o,i),I(o,v),c(e,y,i),c(e,d,i),I(d,q),c(e,O,i),c(e,x,i),I(x,N),c(e,P,i),c(e,u,i),I(u,b),H(b,s[2]),c(e,J,i),c(e,S,i),I(S,R),c(e,z,i),c(e,V,i),I(V,h),H(h,s[4]),c(e,A,i),_e(E,e,i),$=!0,U||(K=[M(window,"resize",s[7]),M(b,"input",s[8]),M(b,"change",s[6]),M(h,"input",s[9]),M(h,"change",s[5])],U=!0)},p(e,[i]){(!$||i&1)&&D!==(D=JSON.stringify(e[0],null,2)+"")&&me(q,D),i&4&&b.value!==e[2]&&H(b,e[2]),i&16&&h.value!==e[4]&&H(h,e[4]);const C={};E.$set(C)},i(e){$||(ve(E.$$.fragment,e),$=!0)},o(e){ye(E.$$.fragment,e),$=!1},d(e){e&&r(t),e&&r(l),e&&r(n),e&&r(k),e&&r(o),e&&r(y),e&&r(d),e&&r(O),e&&r(x),e&&r(P),e&&r(u),e&&r(J),e&&r(S),e&&r(z),e&&r(V),e&&r(A),s[10](null),ge(E,e),U=!1,he(K)}}}function $e(s,t,a){let l,n,g;F(s,Y,u=>a(12,l=u)),F(s,le,u=>a(13,n=u)),F(s,Be,u=>a(14,g=u));let m=g;console.log("local params are:",m);let k=0,o=null,v=null,y=null,d=null;ae(Y,l=new je,l),ae(le,n=new Ve,n);let D=function(){console.log("new param raw entry is: ",d);let u=String(d),b=JSON.parse(u);console.log("new parameters received",b),a(0,m=Le(m,b)),q()},q=function(){console.log("executing model: ",G[o].query),v=l.createBackend({id:"query_under_debug",type:"query",query:G[o].query,name:"test",params:m,backend:Q(De)}),v.registerView(y),v.execute(m)};function O(){a(1,k=window.innerWidth)}function x(){o=this.value,a(2,o)}function N(){d=this.value,a(4,d)}function P(u){we[u?"unshift":"push"](()=>{y=u,a(3,y)})}return[m,k,o,y,d,D,q,O,x,N,P]}class He extends oe{constructor(t){super(),ue(this,t,$e,Ne,ce,{})}}export{He as default};
